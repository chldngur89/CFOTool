function K_(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function t0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wu={exports:{}},Ji={},Hu={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function G_(){if(Ag)return Ee;Ag=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function k(O,W,X){this.props=O,this.context=W,this.refs=b,this.updater=X||x}k.prototype.isReactComponent={},k.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function C(){}C.prototype=k.prototype;function P(O,W,X){this.props=O,this.context=W,this.refs=b,this.updater=X||x}var T=P.prototype=new C;T.constructor=P,S(T,k.prototype),T.isPureReactComponent=!0;var R=Array.isArray,D=Object.prototype.hasOwnProperty,M={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function $(O,W,X){var pe,Se={},_e=null,xe=null;if(W!=null)for(pe in W.ref!==void 0&&(xe=W.ref),W.key!==void 0&&(_e=""+W.key),W)D.call(W,pe)&&!U.hasOwnProperty(pe)&&(Se[pe]=W[pe]);var Ce=arguments.length-2;if(Ce===1)Se.children=X;else if(1<Ce){for(var Pe=Array(Ce),We=0;We<Ce;We++)Pe[We]=arguments[We+2];Se.children=Pe}if(O&&O.defaultProps)for(pe in Ce=O.defaultProps,Ce)Se[pe]===void 0&&(Se[pe]=Ce[pe]);return{$$typeof:t,type:O,key:_e,ref:xe,props:Se,_owner:M.current}}function J(O,W){return{$$typeof:t,type:O.type,key:W,ref:O.ref,props:O.props,_owner:O._owner}}function ne(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function ae(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(X){return W[X]})}var ce=/\/+/g;function me(O,W){return typeof O=="object"&&O!==null&&O.key!=null?ae(""+O.key):W.toString(36)}function Z(O,W,X,pe,Se){var _e=typeof O;(_e==="undefined"||_e==="boolean")&&(O=null);var xe=!1;if(O===null)xe=!0;else switch(_e){case"string":case"number":xe=!0;break;case"object":switch(O.$$typeof){case t:case e:xe=!0}}if(xe)return xe=O,Se=Se(xe),O=pe===""?"."+me(xe,0):pe,R(Se)?(X="",O!=null&&(X=O.replace(ce,"$&/")+"/"),Z(Se,W,X,"",function(We){return We})):Se!=null&&(ne(Se)&&(Se=J(Se,X+(!Se.key||xe&&xe.key===Se.key?"":(""+Se.key).replace(ce,"$&/")+"/")+O)),W.push(Se)),1;if(xe=0,pe=pe===""?".":pe+":",R(O))for(var Ce=0;Ce<O.length;Ce++){_e=O[Ce];var Pe=pe+me(_e,Ce);xe+=Z(_e,W,X,Pe,Se)}else if(Pe=w(O),typeof Pe=="function")for(O=Pe.call(O),Ce=0;!(_e=O.next()).done;)_e=_e.value,Pe=pe+me(_e,Ce++),xe+=Z(_e,W,X,Pe,Se);else if(_e==="object")throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return xe}function he(O,W,X){if(O==null)return O;var pe=[],Se=0;return Z(O,pe,"","",function(_e){return W.call(X,_e,Se++)}),pe}function le(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(X){(O._status===0||O._status===-1)&&(O._status=1,O._result=X)},function(X){(O._status===0||O._status===-1)&&(O._status=2,O._result=X)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var B={current:null},N={transition:null},z={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:N,ReactCurrentOwner:M};function H(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:he,forEach:function(O,W,X){he(O,function(){W.apply(this,arguments)},X)},count:function(O){var W=0;return he(O,function(){W++}),W},toArray:function(O){return he(O,function(W){return W})||[]},only:function(O){if(!ne(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ee.Component=k,Ee.Fragment=n,Ee.Profiler=o,Ee.PureComponent=P,Ee.StrictMode=s,Ee.Suspense=f,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Ee.act=H,Ee.cloneElement=function(O,W,X){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var pe=S({},O.props),Se=O.key,_e=O.ref,xe=O._owner;if(W!=null){if(W.ref!==void 0&&(_e=W.ref,xe=M.current),W.key!==void 0&&(Se=""+W.key),O.type&&O.type.defaultProps)var Ce=O.type.defaultProps;for(Pe in W)D.call(W,Pe)&&!U.hasOwnProperty(Pe)&&(pe[Pe]=W[Pe]===void 0&&Ce!==void 0?Ce[Pe]:W[Pe])}var Pe=arguments.length-2;if(Pe===1)pe.children=X;else if(1<Pe){Ce=Array(Pe);for(var We=0;We<Pe;We++)Ce[We]=arguments[We+2];pe.children=Ce}return{$$typeof:t,type:O.type,key:Se,ref:_e,props:pe,_owner:xe}},Ee.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:a,_context:O},O.Consumer=O},Ee.createElement=$,Ee.createFactory=function(O){var W=$.bind(null,O);return W.type=O,W},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(O){return{$$typeof:u,render:O}},Ee.isValidElement=ne,Ee.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:le}},Ee.memo=function(O,W){return{$$typeof:h,type:O,compare:W===void 0?null:W}},Ee.startTransition=function(O){var W=N.transition;N.transition={};try{O()}finally{N.transition=W}},Ee.unstable_act=H,Ee.useCallback=function(O,W){return B.current.useCallback(O,W)},Ee.useContext=function(O){return B.current.useContext(O)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(O){return B.current.useDeferredValue(O)},Ee.useEffect=function(O,W){return B.current.useEffect(O,W)},Ee.useId=function(){return B.current.useId()},Ee.useImperativeHandle=function(O,W,X){return B.current.useImperativeHandle(O,W,X)},Ee.useInsertionEffect=function(O,W){return B.current.useInsertionEffect(O,W)},Ee.useLayoutEffect=function(O,W){return B.current.useLayoutEffect(O,W)},Ee.useMemo=function(O,W){return B.current.useMemo(O,W)},Ee.useReducer=function(O,W,X){return B.current.useReducer(O,W,X)},Ee.useRef=function(O){return B.current.useRef(O)},Ee.useState=function(O){return B.current.useState(O)},Ee.useSyncExternalStore=function(O,W,X){return B.current.useSyncExternalStore(O,W,X)},Ee.useTransition=function(){return B.current.useTransition()},Ee.version="18.3.1",Ee}var Rg;function jf(){return Rg||(Rg=1,Hu.exports=G_()),Hu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function q_(){if(jg)return Ji;jg=1;var t=jf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,h){var m,v={},w=null,x=null;h!==void 0&&(w=""+h),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(x=f.ref);for(m in f)s.call(f,m)&&!a.hasOwnProperty(m)&&(v[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)v[m]===void 0&&(v[m]=f[m]);return{$$typeof:e,type:u,key:w,ref:x,props:v,_owner:o.current}}return Ji.Fragment=n,Ji.jsx=c,Ji.jsxs=c,Ji}var Ng;function Y_(){return Ng||(Ng=1,Wu.exports=q_()),Wu.exports}var g=Y_(),Wa={},Ku={exports:{}},Pt={},Gu={exports:{}},qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function J_(){return Og||(Og=1,(function(t){function e(N,z){var H=N.length;N.push(z);e:for(;0<H;){var O=H-1>>>1,W=N[O];if(0<o(W,z))N[O]=z,N[H]=W,H=O;else break e}}function n(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var z=N[0],H=N.pop();if(H!==z){N[0]=H;e:for(var O=0,W=N.length,X=W>>>1;O<X;){var pe=2*(O+1)-1,Se=N[pe],_e=pe+1,xe=N[_e];if(0>o(Se,H))_e<W&&0>o(xe,Se)?(N[O]=xe,N[_e]=H,O=_e):(N[O]=Se,N[pe]=H,O=pe);else if(_e<W&&0>o(xe,H))N[O]=xe,N[_e]=H,O=_e;else break e}}return z}function o(N,z){var H=N.sortIndex-z.sortIndex;return H!==0?H:N.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],h=[],m=1,v=null,w=3,x=!1,S=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(N){for(var z=n(h);z!==null;){if(z.callback===null)s(h);else if(z.startTime<=N)s(h),z.sortIndex=z.expirationTime,e(f,z);else break;z=n(h)}}function R(N){if(b=!1,T(N),!S)if(n(f)!==null)S=!0,le(D);else{var z=n(h);z!==null&&B(R,z.startTime-N)}}function D(N,z){S=!1,b&&(b=!1,C($),$=-1),x=!0;var H=w;try{for(T(z),v=n(f);v!==null&&(!(v.expirationTime>z)||N&&!ae());){var O=v.callback;if(typeof O=="function"){v.callback=null,w=v.priorityLevel;var W=O(v.expirationTime<=z);z=t.unstable_now(),typeof W=="function"?v.callback=W:v===n(f)&&s(f),T(z)}else s(f);v=n(f)}if(v!==null)var X=!0;else{var pe=n(h);pe!==null&&B(R,pe.startTime-z),X=!1}return X}finally{v=null,w=H,x=!1}}var M=!1,U=null,$=-1,J=5,ne=-1;function ae(){return!(t.unstable_now()-ne<J)}function ce(){if(U!==null){var N=t.unstable_now();ne=N;var z=!0;try{z=U(!0,N)}finally{z?me():(M=!1,U=null)}}else M=!1}var me;if(typeof P=="function")me=function(){P(ce)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,he=Z.port2;Z.port1.onmessage=ce,me=function(){he.postMessage(null)}}else me=function(){k(ce,0)};function le(N){U=N,M||(M=!0,me())}function B(N,z){$=k(function(){N(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,le(D))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(N){switch(w){case 1:case 2:case 3:var z=3;break;default:z=w}var H=w;w=z;try{return N()}finally{w=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,z){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var H=w;w=N;try{return z()}finally{w=H}},t.unstable_scheduleCallback=function(N,z,H){var O=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?O+H:O):H=O,N){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,N={id:m++,callback:z,priorityLevel:N,startTime:H,expirationTime:W,sortIndex:-1},H>O?(N.sortIndex=H,e(h,N),n(f)===null&&N===n(h)&&(b?(C($),$=-1):b=!0,B(R,H-O))):(N.sortIndex=W,e(f,N),S||x||(S=!0,le(D))),N},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(N){var z=w;return function(){var H=w;w=z;try{return N.apply(this,arguments)}finally{w=H}}}})(qu)),qu}var Ig;function X_(){return Ig||(Ig=1,Gu.exports=J_()),Gu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function Q_(){if(Dg)return Pt;Dg=1;var t=jf(),e=X_();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(r){return f.call(v,r)?!0:f.call(m,r)?!1:h.test(r)?v[r]=!0:(m[r]=!0,!1)}function x(r,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function S(r,i,l,d){if(i===null||typeof i>"u"||x(r,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function b(r,i,l,d,p,y,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=_}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];k[i]=new b(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function P(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(C,P);k[i]=new b(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(C,P);k[i]=new b(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(C,P);k[i]=new b(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function T(r,i,l,d){var p=k.hasOwnProperty(i)?k[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(S(i,l,p,d)&&(l=null),d||p===null?w(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,i,l):r.setAttribute(i,l))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),ae=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),N=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=N&&r[N]||r["@@iterator"],typeof r=="function"?r:null)}var H=Object.assign,O;function W(r){if(O===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+r}var X=!1;function pe(r,i){if(!r||X)return"";X=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(F){var d=F}Reflect.construct(r,[],i)}else{try{i.call()}catch(F){d=F}r.call(i.prototype)}else{try{throw Error()}catch(F){d=F}r()}}catch(F){if(F&&d&&typeof F.stack=="string"){for(var p=F.stack.split(`
`),y=d.stack.split(`
`),_=p.length-1,A=y.length-1;1<=_&&0<=A&&p[_]!==y[A];)A--;for(;1<=_&&0<=A;_--,A--)if(p[_]!==y[A]){if(_!==1||A!==1)do if(_--,A--,0>A||p[_]!==y[A]){var j=`
`+p[_].replace(" at new "," at ");return r.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",r.displayName)),j}while(1<=_&&0<=A);break}}}finally{X=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?W(r):""}function Se(r){switch(r.tag){case 5:return W(r.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return r=pe(r.type,!1),r;case 11:return r=pe(r.type.render,!1),r;case 1:return r=pe(r.type,!0),r;default:return""}}function _e(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case M:return"Portal";case J:return"Profiler";case $:return"StrictMode";case me:return"Suspense";case Z:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ae:return(r.displayName||"Context")+".Consumer";case ne:return(r._context.displayName||"Context")+".Provider";case ce:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case he:return i=r.displayName||null,i!==null?i:_e(r.type)||"Memo";case le:i=r._payload,r=r._init;try{return _e(r(i))}catch{}}return null}function xe(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(i);case 8:return i===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ce(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Pe(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function We(r){var i=Pe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(_){d=""+_,y.call(this,_)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Gt(r){r._valueTracker||(r._valueTracker=We(r))}function fn(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return r&&(d=Pe(r)?r.checked?"true":"false":r.value),r=d,r!==l?(i.setValue(r),!0):!1}function hn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Qr(r,i){var l=i.checked;return H({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Oo(r,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=Ce(i.value!=null?i.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Io(r,i){i=i.checked,i!=null&&T(r,"checked",i,!1)}function ui(r,i){Io(r,i);var l=Ce(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Bn(r,i.type,l):i.hasOwnProperty("defaultValue")&&Bn(r,i.type,Ce(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Do(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Bn(r,i,l){(i!=="number"||hn(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var di=Array.isArray;function Zr(r,i,l,d){if(r=r.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=i.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Ce(l),i=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function ec(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Vh(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(di(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:Ce(l)}}function Fh(r,i){var l=Ce(i.value),d=Ce(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function Uh(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Bh(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tc(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Bh(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Mo,zh=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(i,l,d,p)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Mo=Mo||document.createElement("div"),Mo.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Mo.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function fi(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jb=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(r){Jb.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),hi[i]=hi[r]})});function Wh(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||hi.hasOwnProperty(r)&&hi[r]?(""+i).trim():i+"px"}function Hh(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Wh(l,i[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var Xb=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nc(r,i){if(i){if(Xb[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function rc(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sc=null;function ic(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var oc=null,es=null,ts=null;function Kh(r){if(r=Di(r)){if(typeof oc!="function")throw Error(n(280));var i=r.stateNode;i&&(i=ia(i),oc(r.stateNode,r.type,i))}}function Gh(r){es?ts?ts.push(r):ts=[r]:es=r}function qh(){if(es){var r=es,i=ts;if(ts=es=null,Kh(r),i)for(r=0;r<i.length;r++)Kh(i[r])}}function Yh(r,i){return r(i)}function Jh(){}var ac=!1;function Xh(r,i,l){if(ac)return r(i,l);ac=!0;try{return Yh(r,i,l)}finally{ac=!1,(es!==null||ts!==null)&&(Jh(),qh())}}function pi(r,i){var l=r.stateNode;if(l===null)return null;var d=ia(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var lc=!1;if(u)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){lc=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{lc=!1}function Qb(r,i,l,d,p,y,_,A,j){var F=Array.prototype.slice.call(arguments,3);try{i.apply(l,F)}catch(G){this.onError(G)}}var gi=!1,Lo=null,$o=!1,cc=null,Zb={onError:function(r){gi=!0,Lo=r}};function eS(r,i,l,d,p,y,_,A,j){gi=!1,Lo=null,Qb.apply(Zb,arguments)}function tS(r,i,l,d,p,y,_,A,j){if(eS.apply(this,arguments),gi){if(gi){var F=Lo;gi=!1,Lo=null}else throw Error(n(198));$o||($o=!0,cc=F)}}function _r(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function Qh(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Zh(r){if(_r(r)!==r)throw Error(n(188))}function nS(r){var i=r.alternate;if(!i){if(i=_r(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,d=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Zh(p),r;if(y===d)return Zh(p),i;y=y.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=y;else{for(var _=!1,A=p.child;A;){if(A===l){_=!0,l=p,d=y;break}if(A===d){_=!0,d=p,l=y;break}A=A.sibling}if(!_){for(A=y.child;A;){if(A===l){_=!0,l=y,d=p;break}if(A===d){_=!0,d=y,l=p;break}A=A.sibling}if(!_)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function ep(r){return r=nS(r),r!==null?tp(r):null}function tp(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=tp(r);if(i!==null)return i;r=r.sibling}return null}var np=e.unstable_scheduleCallback,rp=e.unstable_cancelCallback,rS=e.unstable_shouldYield,sS=e.unstable_requestPaint,He=e.unstable_now,iS=e.unstable_getCurrentPriorityLevel,uc=e.unstable_ImmediatePriority,sp=e.unstable_UserBlockingPriority,Vo=e.unstable_NormalPriority,oS=e.unstable_LowPriority,ip=e.unstable_IdlePriority,Fo=null,pn=null;function aS(r){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Fo,r,void 0,(r.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:uS,lS=Math.log,cS=Math.LN2;function uS(r){return r>>>=0,r===0?32:31-(lS(r)/cS|0)|0}var Uo=64,Bo=4194304;function yi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function zo(r,i){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,_=l&268435455;if(_!==0){var A=_&~p;A!==0?d=yi(A):(y&=_,y!==0&&(d=yi(y)))}else _=l&~p,_!==0?d=yi(_):y!==0&&(d=yi(y));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,y=i&-i,p>=y||p===16&&(y&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)l=31-qt(i),p=1<<l,d|=r[l],i&=~p;return d}function dS(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fS(r,i){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var _=31-qt(y),A=1<<_,j=p[_];j===-1?((A&l)===0||(A&d)!==0)&&(p[_]=dS(A,i)):j<=i&&(r.expiredLanes|=A),y&=~A}}function dc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function op(){var r=Uo;return Uo<<=1,(Uo&4194240)===0&&(Uo=64),r}function fc(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function vi(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-qt(i),r[i]=l}function hS(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-qt(l),y=1<<p;i[p]=0,d[p]=-1,r[p]=-1,l&=~y}}function hc(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var d=31-qt(l),p=1<<d;p&i|r[d]&i&&(r[d]|=i),l&=~p}}var Re=0;function ap(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var lp,pc,cp,up,dp,mc=!1,Wo=[],zn=null,Wn=null,Hn=null,wi=new Map,xi=new Map,Kn=[],pS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fp(r,i){switch(r){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":wi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xi.delete(i.pointerId)}}function bi(r,i,l,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},i!==null&&(i=Di(i),i!==null&&pc(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function mS(r,i,l,d,p){switch(i){case"focusin":return zn=bi(zn,r,i,l,d,p),!0;case"dragenter":return Wn=bi(Wn,r,i,l,d,p),!0;case"mouseover":return Hn=bi(Hn,r,i,l,d,p),!0;case"pointerover":var y=p.pointerId;return wi.set(y,bi(wi.get(y)||null,r,i,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,xi.set(y,bi(xi.get(y)||null,r,i,l,d,p)),!0}return!1}function hp(r){var i=kr(r.target);if(i!==null){var l=_r(i);if(l!==null){if(i=l.tag,i===13){if(i=Qh(l),i!==null){r.blockedOn=i,dp(r.priority,function(){cp(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ho(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=yc(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);sc=d,l.target.dispatchEvent(d),sc=null}else return i=Di(l),i!==null&&pc(i),r.blockedOn=l,!1;i.shift()}return!0}function pp(r,i,l){Ho(r)&&l.delete(i)}function gS(){mc=!1,zn!==null&&Ho(zn)&&(zn=null),Wn!==null&&Ho(Wn)&&(Wn=null),Hn!==null&&Ho(Hn)&&(Hn=null),wi.forEach(pp),xi.forEach(pp)}function Si(r,i){r.blockedOn===i&&(r.blockedOn=null,mc||(mc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gS)))}function _i(r){function i(p){return Si(p,r)}if(0<Wo.length){Si(Wo[0],r);for(var l=1;l<Wo.length;l++){var d=Wo[l];d.blockedOn===r&&(d.blockedOn=null)}}for(zn!==null&&Si(zn,r),Wn!==null&&Si(Wn,r),Hn!==null&&Si(Hn,r),wi.forEach(i),xi.forEach(i),l=0;l<Kn.length;l++)d=Kn[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Kn.length&&(l=Kn[0],l.blockedOn===null);)hp(l),l.blockedOn===null&&Kn.shift()}var ns=R.ReactCurrentBatchConfig,Ko=!0;function yS(r,i,l,d){var p=Re,y=ns.transition;ns.transition=null;try{Re=1,gc(r,i,l,d)}finally{Re=p,ns.transition=y}}function vS(r,i,l,d){var p=Re,y=ns.transition;ns.transition=null;try{Re=4,gc(r,i,l,d)}finally{Re=p,ns.transition=y}}function gc(r,i,l,d){if(Ko){var p=yc(r,i,l,d);if(p===null)Ic(r,i,d,Go,l),fp(r,d);else if(mS(p,r,i,l,d))d.stopPropagation();else if(fp(r,d),i&4&&-1<pS.indexOf(r)){for(;p!==null;){var y=Di(p);if(y!==null&&lp(y),y=yc(r,i,l,d),y===null&&Ic(r,i,d,Go,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else Ic(r,i,d,null,l)}}var Go=null;function yc(r,i,l,d){if(Go=null,r=ic(d),r=kr(r),r!==null)if(i=_r(r),i===null)r=null;else if(l=i.tag,l===13){if(r=Qh(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Go=r,null}function mp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iS()){case uc:return 1;case sp:return 4;case Vo:case oS:return 16;case ip:return 536870912;default:return 16}default:return 16}}var Gn=null,vc=null,qo=null;function gp(){if(qo)return qo;var r,i=vc,l=i.length,d,p="value"in Gn?Gn.value:Gn.textContent,y=p.length;for(r=0;r<l&&i[r]===p[r];r++);var _=l-r;for(d=1;d<=_&&i[l-d]===p[y-d];d++);return qo=p.slice(r,1<d?1-d:void 0)}function Yo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Jo(){return!0}function yp(){return!1}function At(r){function i(l,d,p,y,_){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(l=r[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Jo:yp,this.isPropagationStopped=yp,this}return H(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),i}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wc=At(rs),ki=H({},rs,{view:0,detail:0}),wS=At(ki),xc,bc,Ei,Xo=H({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_c,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ei&&(Ei&&r.type==="mousemove"?(xc=r.screenX-Ei.screenX,bc=r.screenY-Ei.screenY):bc=xc=0,Ei=r),xc)},movementY:function(r){return"movementY"in r?r.movementY:bc}}),vp=At(Xo),xS=H({},Xo,{dataTransfer:0}),bS=At(xS),SS=H({},ki,{relatedTarget:0}),Sc=At(SS),_S=H({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),kS=At(_S),ES=H({},rs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),CS=At(ES),TS=H({},rs,{data:0}),wp=At(TS),PS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jS(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=RS[r])?!!i[r]:!1}function _c(){return jS}var NS=H({},ki,{key:function(r){if(r.key){var i=PS[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Yo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?AS[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_c,charCode:function(r){return r.type==="keypress"?Yo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Yo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),OS=At(NS),IS=H({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xp=At(IS),DS=H({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_c}),MS=At(DS),LS=H({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),$S=At(LS),VS=H({},Xo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),FS=At(VS),US=[9,13,27,32],kc=u&&"CompositionEvent"in window,Ci=null;u&&"documentMode"in document&&(Ci=document.documentMode);var BS=u&&"TextEvent"in window&&!Ci,bp=u&&(!kc||Ci&&8<Ci&&11>=Ci),Sp=" ",_p=!1;function kp(r,i){switch(r){case"keyup":return US.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ep(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ss=!1;function zS(r,i){switch(r){case"compositionend":return Ep(i);case"keypress":return i.which!==32?null:(_p=!0,Sp);case"textInput":return r=i.data,r===Sp&&_p?null:r;default:return null}}function WS(r,i){if(ss)return r==="compositionend"||!kc&&kp(r,i)?(r=gp(),qo=vc=Gn=null,ss=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bp&&i.locale!=="ko"?null:i.data;default:return null}}var HS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!HS[r.type]:i==="textarea"}function Tp(r,i,l,d){Gh(d),i=na(i,"onChange"),0<i.length&&(l=new wc("onChange","change",null,l,d),r.push({event:l,listeners:i}))}var Ti=null,Pi=null;function KS(r){Hp(r,0)}function Qo(r){var i=cs(r);if(fn(i))return r}function GS(r,i){if(r==="change")return i}var Pp=!1;if(u){var Ec;if(u){var Cc="oninput"in document;if(!Cc){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),Cc=typeof Ap.oninput=="function"}Ec=Cc}else Ec=!1;Pp=Ec&&(!document.documentMode||9<document.documentMode)}function Rp(){Ti&&(Ti.detachEvent("onpropertychange",jp),Pi=Ti=null)}function jp(r){if(r.propertyName==="value"&&Qo(Pi)){var i=[];Tp(i,Pi,r,ic(r)),Xh(KS,i)}}function qS(r,i,l){r==="focusin"?(Rp(),Ti=i,Pi=l,Ti.attachEvent("onpropertychange",jp)):r==="focusout"&&Rp()}function YS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Qo(Pi)}function JS(r,i){if(r==="click")return Qo(i)}function XS(r,i){if(r==="input"||r==="change")return Qo(i)}function QS(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Yt=typeof Object.is=="function"?Object.is:QS;function Ai(r,i){if(Yt(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(i,p)||!Yt(r[p],i[p]))return!1}return!0}function Np(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Op(r,i){var l=Np(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=i&&d>=i)return{node:l,offset:i-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Np(l)}}function Ip(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Ip(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Dp(){for(var r=window,i=hn();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=hn(r.document)}return i}function Tc(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function ZS(r){var i=Dp(),l=r.focusedElem,d=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&Ip(l.ownerDocument.documentElement,l)){if(d!==null&&Tc(l)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=Op(l,y);var _=Op(l,d);p&&_&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(i),r.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var e_=u&&"documentMode"in document&&11>=document.documentMode,is=null,Pc=null,Ri=null,Ac=!1;function Mp(r,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ac||is==null||is!==hn(d)||(d=is,"selectionStart"in d&&Tc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ri&&Ai(Ri,d)||(Ri=d,d=na(Pc,"onSelect"),0<d.length&&(i=new wc("onSelect","select",null,i,l),r.push({event:i,listeners:d}),i.target=is)))}function Zo(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var os={animationend:Zo("Animation","AnimationEnd"),animationiteration:Zo("Animation","AnimationIteration"),animationstart:Zo("Animation","AnimationStart"),transitionend:Zo("Transition","TransitionEnd")},Rc={},Lp={};u&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function ea(r){if(Rc[r])return Rc[r];if(!os[r])return r;var i=os[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Lp)return Rc[r]=i[l];return r}var $p=ea("animationend"),Vp=ea("animationiteration"),Fp=ea("animationstart"),Up=ea("transitionend"),Bp=new Map,zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(r,i){Bp.set(r,i),a(i,[r])}for(var jc=0;jc<zp.length;jc++){var Nc=zp[jc],t_=Nc.toLowerCase(),n_=Nc[0].toUpperCase()+Nc.slice(1);qn(t_,"on"+n_)}qn($p,"onAnimationEnd"),qn(Vp,"onAnimationIteration"),qn(Fp,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(Up,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r_=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function Wp(r,i,l){var d=r.type||"unknown-event";r.currentTarget=l,tS(d,i,void 0,r),r.currentTarget=null}function Hp(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var _=d.length-1;0<=_;_--){var A=d[_],j=A.instance,F=A.currentTarget;if(A=A.listener,j!==y&&p.isPropagationStopped())break e;Wp(p,A,F),y=j}else for(_=0;_<d.length;_++){if(A=d[_],j=A.instance,F=A.currentTarget,A=A.listener,j!==y&&p.isPropagationStopped())break e;Wp(p,A,F),y=j}}}if($o)throw r=cc,$o=!1,cc=null,r}function De(r,i){var l=i[Fc];l===void 0&&(l=i[Fc]=new Set);var d=r+"__bubble";l.has(d)||(Kp(i,r,2,!1),l.add(d))}function Oc(r,i,l){var d=0;i&&(d|=4),Kp(l,r,d,i)}var ta="_reactListening"+Math.random().toString(36).slice(2);function Ni(r){if(!r[ta]){r[ta]=!0,s.forEach(function(l){l!=="selectionchange"&&(r_.has(l)||Oc(l,!1,r),Oc(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[ta]||(i[ta]=!0,Oc("selectionchange",!1,i))}}function Kp(r,i,l,d){switch(mp(i)){case 1:var p=yS;break;case 4:p=vS;break;default:p=gc}l=p.bind(null,i,l,r),p=void 0,!lc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(i,l,{capture:!0,passive:p}):r.addEventListener(i,l,!0):p!==void 0?r.addEventListener(i,l,{passive:p}):r.addEventListener(i,l,!1)}function Ic(r,i,l,d,p){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var A=d.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(_===4)for(_=d.return;_!==null;){var j=_.tag;if((j===3||j===4)&&(j=_.stateNode.containerInfo,j===p||j.nodeType===8&&j.parentNode===p))return;_=_.return}for(;A!==null;){if(_=kr(A),_===null)return;if(j=_.tag,j===5||j===6){d=y=_;continue e}A=A.parentNode}}d=d.return}Xh(function(){var F=y,G=ic(l),q=[];e:{var K=Bp.get(r);if(K!==void 0){var Q=wc,re=r;switch(r){case"keypress":if(Yo(l)===0)break e;case"keydown":case"keyup":Q=OS;break;case"focusin":re="focus",Q=Sc;break;case"focusout":re="blur",Q=Sc;break;case"beforeblur":case"afterblur":Q=Sc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=bS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=MS;break;case $p:case Vp:case Fp:Q=kS;break;case Up:Q=$S;break;case"scroll":Q=wS;break;case"wheel":Q=FS;break;case"copy":case"cut":case"paste":Q=CS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=xp}var ue=(i&4)!==0,Ke=!ue&&r==="scroll",L=ue?K!==null?K+"Capture":null:K;ue=[];for(var I=F,V;I!==null;){V=I;var Y=V.stateNode;if(V.tag===5&&Y!==null&&(V=Y,L!==null&&(Y=pi(I,L),Y!=null&&ue.push(Oi(I,Y,V)))),Ke)break;I=I.return}0<ue.length&&(K=new Q(K,re,null,l,G),q.push({event:K,listeners:ue}))}}if((i&7)===0){e:{if(K=r==="mouseover"||r==="pointerover",Q=r==="mouseout"||r==="pointerout",K&&l!==sc&&(re=l.relatedTarget||l.fromElement)&&(kr(re)||re[Tn]))break e;if((Q||K)&&(K=G.window===G?G:(K=G.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(re=l.relatedTarget||l.toElement,Q=F,re=re?kr(re):null,re!==null&&(Ke=_r(re),re!==Ke||re.tag!==5&&re.tag!==6)&&(re=null)):(Q=null,re=F),Q!==re)){if(ue=vp,Y="onMouseLeave",L="onMouseEnter",I="mouse",(r==="pointerout"||r==="pointerover")&&(ue=xp,Y="onPointerLeave",L="onPointerEnter",I="pointer"),Ke=Q==null?K:cs(Q),V=re==null?K:cs(re),K=new ue(Y,I+"leave",Q,l,G),K.target=Ke,K.relatedTarget=V,Y=null,kr(G)===F&&(ue=new ue(L,I+"enter",re,l,G),ue.target=V,ue.relatedTarget=Ke,Y=ue),Ke=Y,Q&&re)t:{for(ue=Q,L=re,I=0,V=ue;V;V=as(V))I++;for(V=0,Y=L;Y;Y=as(Y))V++;for(;0<I-V;)ue=as(ue),I--;for(;0<V-I;)L=as(L),V--;for(;I--;){if(ue===L||L!==null&&ue===L.alternate)break t;ue=as(ue),L=as(L)}ue=null}else ue=null;Q!==null&&Gp(q,K,Q,ue,!1),re!==null&&Ke!==null&&Gp(q,Ke,re,ue,!0)}}e:{if(K=F?cs(F):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var de=GS;else if(Cp(K))if(Pp)de=XS;else{de=YS;var ge=qS}else(Q=K.nodeName)&&Q.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(de=JS);if(de&&(de=de(r,F))){Tp(q,de,l,G);break e}ge&&ge(r,K,F),r==="focusout"&&(ge=K._wrapperState)&&ge.controlled&&K.type==="number"&&Bn(K,"number",K.value)}switch(ge=F?cs(F):window,r){case"focusin":(Cp(ge)||ge.contentEditable==="true")&&(is=ge,Pc=F,Ri=null);break;case"focusout":Ri=Pc=is=null;break;case"mousedown":Ac=!0;break;case"contextmenu":case"mouseup":case"dragend":Ac=!1,Mp(q,l,G);break;case"selectionchange":if(e_)break;case"keydown":case"keyup":Mp(q,l,G)}var ye;if(kc)e:{switch(r){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else ss?kp(r,l)&&(be="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(be="onCompositionStart");be&&(bp&&l.locale!=="ko"&&(ss||be!=="onCompositionStart"?be==="onCompositionEnd"&&ss&&(ye=gp()):(Gn=G,vc="value"in Gn?Gn.value:Gn.textContent,ss=!0)),ge=na(F,be),0<ge.length&&(be=new wp(be,r,null,l,G),q.push({event:be,listeners:ge}),ye?be.data=ye:(ye=Ep(l),ye!==null&&(be.data=ye)))),(ye=BS?zS(r,l):WS(r,l))&&(F=na(F,"onBeforeInput"),0<F.length&&(G=new wp("onBeforeInput","beforeinput",null,l,G),q.push({event:G,listeners:F}),G.data=ye))}Hp(q,i)})}function Oi(r,i,l){return{instance:r,listener:i,currentTarget:l}}function na(r,i){for(var l=i+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=pi(r,l),y!=null&&d.unshift(Oi(r,y,p)),y=pi(r,i),y!=null&&d.push(Oi(r,y,p))),r=r.return}return d}function as(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Gp(r,i,l,d,p){for(var y=i._reactName,_=[];l!==null&&l!==d;){var A=l,j=A.alternate,F=A.stateNode;if(j!==null&&j===d)break;A.tag===5&&F!==null&&(A=F,p?(j=pi(l,y),j!=null&&_.unshift(Oi(l,j,A))):p||(j=pi(l,y),j!=null&&_.push(Oi(l,j,A)))),l=l.return}_.length!==0&&r.push({event:i,listeners:_})}var s_=/\r\n?/g,i_=/\u0000|\uFFFD/g;function qp(r){return(typeof r=="string"?r:""+r).replace(s_,`
`).replace(i_,"")}function ra(r,i,l){if(i=qp(i),qp(r)!==i&&l)throw Error(n(425))}function sa(){}var Dc=null,Mc=null;function Lc(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $c=typeof setTimeout=="function"?setTimeout:void 0,o_=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,a_=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(r){return Yp.resolve(null).then(r).catch(l_)}:$c;function l_(r){setTimeout(function(){throw r})}function Vc(r,i){var l=i,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),_i(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);_i(i)}function Yn(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Jp(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var ls=Math.random().toString(36).slice(2),mn="__reactFiber$"+ls,Ii="__reactProps$"+ls,Tn="__reactContainer$"+ls,Fc="__reactEvents$"+ls,c_="__reactListeners$"+ls,u_="__reactHandles$"+ls;function kr(r){var i=r[mn];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Tn]||l[mn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=Jp(r);r!==null;){if(l=r[mn])return l;r=Jp(r)}return i}r=l,l=r.parentNode}return null}function Di(r){return r=r[mn]||r[Tn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function cs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function ia(r){return r[Ii]||null}var Uc=[],us=-1;function Jn(r){return{current:r}}function Me(r){0>us||(r.current=Uc[us],Uc[us]=null,us--)}function je(r,i){us++,Uc[us]=r.current,r.current=i}var Xn={},ht=Jn(Xn),_t=Jn(!1),Er=Xn;function ds(r,i){var l=r.type.contextTypes;if(!l)return Xn;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=i[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=p),p}function kt(r){return r=r.childContextTypes,r!=null}function oa(){Me(_t),Me(ht)}function Xp(r,i,l){if(ht.current!==Xn)throw Error(n(168));je(ht,i),je(_t,l)}function Qp(r,i,l){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(n(108,xe(r)||"Unknown",p));return H({},l,d)}function aa(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Xn,Er=ht.current,je(ht,r),je(_t,_t.current),!0}function Zp(r,i,l){var d=r.stateNode;if(!d)throw Error(n(169));l?(r=Qp(r,i,Er),d.__reactInternalMemoizedMergedChildContext=r,Me(_t),Me(ht),je(ht,r)):Me(_t),je(_t,l)}var Pn=null,la=!1,Bc=!1;function em(r){Pn===null?Pn=[r]:Pn.push(r)}function d_(r){la=!0,em(r)}function Qn(){if(!Bc&&Pn!==null){Bc=!0;var r=0,i=Re;try{var l=Pn;for(Re=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Pn=null,la=!1}catch(p){throw Pn!==null&&(Pn=Pn.slice(r+1)),np(uc,Qn),p}finally{Re=i,Bc=!1}}return null}var fs=[],hs=0,ca=null,ua=0,Lt=[],$t=0,Cr=null,An=1,Rn="";function Tr(r,i){fs[hs++]=ua,fs[hs++]=ca,ca=r,ua=i}function tm(r,i,l){Lt[$t++]=An,Lt[$t++]=Rn,Lt[$t++]=Cr,Cr=r;var d=An;r=Rn;var p=32-qt(d)-1;d&=~(1<<p),l+=1;var y=32-qt(i)+p;if(30<y){var _=p-p%5;y=(d&(1<<_)-1).toString(32),d>>=_,p-=_,An=1<<32-qt(i)+p|l<<p|d,Rn=y+r}else An=1<<y|l<<p|d,Rn=r}function zc(r){r.return!==null&&(Tr(r,1),tm(r,1,0))}function Wc(r){for(;r===ca;)ca=fs[--hs],fs[hs]=null,ua=fs[--hs],fs[hs]=null;for(;r===Cr;)Cr=Lt[--$t],Lt[$t]=null,Rn=Lt[--$t],Lt[$t]=null,An=Lt[--$t],Lt[$t]=null}var Rt=null,jt=null,Le=!1,Jt=null;function nm(r,i){var l=Bt(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function rm(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Rt=r,jt=Yn(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Rt=r,jt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Cr!==null?{id:An,overflow:Rn}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Bt(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,Rt=r,jt=null,!0):!1;default:return!1}}function Hc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Kc(r){if(Le){var i=jt;if(i){var l=i;if(!rm(r,i)){if(Hc(r))throw Error(n(418));i=Yn(l.nextSibling);var d=Rt;i&&rm(r,i)?nm(d,l):(r.flags=r.flags&-4097|2,Le=!1,Rt=r)}}else{if(Hc(r))throw Error(n(418));r.flags=r.flags&-4097|2,Le=!1,Rt=r}}}function sm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Rt=r}function da(r){if(r!==Rt)return!1;if(!Le)return sm(r),Le=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Lc(r.type,r.memoizedProps)),i&&(i=jt)){if(Hc(r))throw im(),Error(n(418));for(;i;)nm(r,i),i=Yn(i.nextSibling)}if(sm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){jt=Yn(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}jt=null}}else jt=Rt?Yn(r.stateNode.nextSibling):null;return!0}function im(){for(var r=jt;r;)r=Yn(r.nextSibling)}function ps(){jt=Rt=null,Le=!1}function Gc(r){Jt===null?Jt=[r]:Jt.push(r)}var f_=R.ReactCurrentBatchConfig;function Mi(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,r));var p=d,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(_){var A=p.refs;_===null?delete A[y]:A[y]=_},i._stringRef=y,i)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function fa(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function om(r){var i=r._init;return i(r._payload)}function am(r){function i(L,I){if(r){var V=L.deletions;V===null?(L.deletions=[I],L.flags|=16):V.push(I)}}function l(L,I){if(!r)return null;for(;I!==null;)i(L,I),I=I.sibling;return null}function d(L,I){for(L=new Map;I!==null;)I.key!==null?L.set(I.key,I):L.set(I.index,I),I=I.sibling;return L}function p(L,I){return L=or(L,I),L.index=0,L.sibling=null,L}function y(L,I,V){return L.index=V,r?(V=L.alternate,V!==null?(V=V.index,V<I?(L.flags|=2,I):V):(L.flags|=2,I)):(L.flags|=1048576,I)}function _(L){return r&&L.alternate===null&&(L.flags|=2),L}function A(L,I,V,Y){return I===null||I.tag!==6?(I=$u(V,L.mode,Y),I.return=L,I):(I=p(I,V),I.return=L,I)}function j(L,I,V,Y){var de=V.type;return de===U?G(L,I,V.props.children,Y,V.key):I!==null&&(I.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===le&&om(de)===I.type)?(Y=p(I,V.props),Y.ref=Mi(L,I,V),Y.return=L,Y):(Y=Ma(V.type,V.key,V.props,null,L.mode,Y),Y.ref=Mi(L,I,V),Y.return=L,Y)}function F(L,I,V,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==V.containerInfo||I.stateNode.implementation!==V.implementation?(I=Vu(V,L.mode,Y),I.return=L,I):(I=p(I,V.children||[]),I.return=L,I)}function G(L,I,V,Y,de){return I===null||I.tag!==7?(I=Dr(V,L.mode,Y,de),I.return=L,I):(I=p(I,V),I.return=L,I)}function q(L,I,V){if(typeof I=="string"&&I!==""||typeof I=="number")return I=$u(""+I,L.mode,V),I.return=L,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case D:return V=Ma(I.type,I.key,I.props,null,L.mode,V),V.ref=Mi(L,null,I),V.return=L,V;case M:return I=Vu(I,L.mode,V),I.return=L,I;case le:var Y=I._init;return q(L,Y(I._payload),V)}if(di(I)||z(I))return I=Dr(I,L.mode,V,null),I.return=L,I;fa(L,I)}return null}function K(L,I,V,Y){var de=I!==null?I.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return de!==null?null:A(L,I,""+V,Y);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case D:return V.key===de?j(L,I,V,Y):null;case M:return V.key===de?F(L,I,V,Y):null;case le:return de=V._init,K(L,I,de(V._payload),Y)}if(di(V)||z(V))return de!==null?null:G(L,I,V,Y,null);fa(L,V)}return null}function Q(L,I,V,Y,de){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return L=L.get(V)||null,A(I,L,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return L=L.get(Y.key===null?V:Y.key)||null,j(I,L,Y,de);case M:return L=L.get(Y.key===null?V:Y.key)||null,F(I,L,Y,de);case le:var ge=Y._init;return Q(L,I,V,ge(Y._payload),de)}if(di(Y)||z(Y))return L=L.get(V)||null,G(I,L,Y,de,null);fa(I,Y)}return null}function re(L,I,V,Y){for(var de=null,ge=null,ye=I,be=I=0,st=null;ye!==null&&be<V.length;be++){ye.index>be?(st=ye,ye=null):st=ye.sibling;var Ae=K(L,ye,V[be],Y);if(Ae===null){ye===null&&(ye=st);break}r&&ye&&Ae.alternate===null&&i(L,ye),I=y(Ae,I,be),ge===null?de=Ae:ge.sibling=Ae,ge=Ae,ye=st}if(be===V.length)return l(L,ye),Le&&Tr(L,be),de;if(ye===null){for(;be<V.length;be++)ye=q(L,V[be],Y),ye!==null&&(I=y(ye,I,be),ge===null?de=ye:ge.sibling=ye,ge=ye);return Le&&Tr(L,be),de}for(ye=d(L,ye);be<V.length;be++)st=Q(ye,L,be,V[be],Y),st!==null&&(r&&st.alternate!==null&&ye.delete(st.key===null?be:st.key),I=y(st,I,be),ge===null?de=st:ge.sibling=st,ge=st);return r&&ye.forEach(function(ar){return i(L,ar)}),Le&&Tr(L,be),de}function ue(L,I,V,Y){var de=z(V);if(typeof de!="function")throw Error(n(150));if(V=de.call(V),V==null)throw Error(n(151));for(var ge=de=null,ye=I,be=I=0,st=null,Ae=V.next();ye!==null&&!Ae.done;be++,Ae=V.next()){ye.index>be?(st=ye,ye=null):st=ye.sibling;var ar=K(L,ye,Ae.value,Y);if(ar===null){ye===null&&(ye=st);break}r&&ye&&ar.alternate===null&&i(L,ye),I=y(ar,I,be),ge===null?de=ar:ge.sibling=ar,ge=ar,ye=st}if(Ae.done)return l(L,ye),Le&&Tr(L,be),de;if(ye===null){for(;!Ae.done;be++,Ae=V.next())Ae=q(L,Ae.value,Y),Ae!==null&&(I=y(Ae,I,be),ge===null?de=Ae:ge.sibling=Ae,ge=Ae);return Le&&Tr(L,be),de}for(ye=d(L,ye);!Ae.done;be++,Ae=V.next())Ae=Q(ye,L,be,Ae.value,Y),Ae!==null&&(r&&Ae.alternate!==null&&ye.delete(Ae.key===null?be:Ae.key),I=y(Ae,I,be),ge===null?de=Ae:ge.sibling=Ae,ge=Ae);return r&&ye.forEach(function(H_){return i(L,H_)}),Le&&Tr(L,be),de}function Ke(L,I,V,Y){if(typeof V=="object"&&V!==null&&V.type===U&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case D:e:{for(var de=V.key,ge=I;ge!==null;){if(ge.key===de){if(de=V.type,de===U){if(ge.tag===7){l(L,ge.sibling),I=p(ge,V.props.children),I.return=L,L=I;break e}}else if(ge.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===le&&om(de)===ge.type){l(L,ge.sibling),I=p(ge,V.props),I.ref=Mi(L,ge,V),I.return=L,L=I;break e}l(L,ge);break}else i(L,ge);ge=ge.sibling}V.type===U?(I=Dr(V.props.children,L.mode,Y,V.key),I.return=L,L=I):(Y=Ma(V.type,V.key,V.props,null,L.mode,Y),Y.ref=Mi(L,I,V),Y.return=L,L=Y)}return _(L);case M:e:{for(ge=V.key;I!==null;){if(I.key===ge)if(I.tag===4&&I.stateNode.containerInfo===V.containerInfo&&I.stateNode.implementation===V.implementation){l(L,I.sibling),I=p(I,V.children||[]),I.return=L,L=I;break e}else{l(L,I);break}else i(L,I);I=I.sibling}I=Vu(V,L.mode,Y),I.return=L,L=I}return _(L);case le:return ge=V._init,Ke(L,I,ge(V._payload),Y)}if(di(V))return re(L,I,V,Y);if(z(V))return ue(L,I,V,Y);fa(L,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,I!==null&&I.tag===6?(l(L,I.sibling),I=p(I,V),I.return=L,L=I):(l(L,I),I=$u(V,L.mode,Y),I.return=L,L=I),_(L)):l(L,I)}return Ke}var ms=am(!0),lm=am(!1),ha=Jn(null),pa=null,gs=null,qc=null;function Yc(){qc=gs=pa=null}function Jc(r){var i=ha.current;Me(ha),r._currentValue=i}function Xc(r,i,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===l)break;r=r.return}}function ys(r,i){pa=r,qc=gs=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Et=!0),r.firstContext=null)}function Vt(r){var i=r._currentValue;if(qc!==r)if(r={context:r,memoizedValue:i,next:null},gs===null){if(pa===null)throw Error(n(308));gs=r,pa.dependencies={lanes:0,firstContext:r}}else gs=gs.next=r;return i}var Pr=null;function Qc(r){Pr===null?Pr=[r]:Pr.push(r)}function cm(r,i,l,d){var p=i.interleaved;return p===null?(l.next=l,Qc(i)):(l.next=p.next,p.next=l),i.interleaved=l,jn(r,d)}function jn(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Zn=!1;function Zc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function um(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Nn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function er(r,i,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Te&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,jn(r,l)}return p=d.interleaved,p===null?(i.next=i,Qc(d)):(i.next=p.next,p.next=i),d.interleaved=i,jn(r,l)}function ma(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,l|=d,i.lanes=l,hc(r,l)}}function dm(r,i){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var _={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=_:y=y.next=_,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function ga(r,i,l,d){var p=r.updateQueue;Zn=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var j=A,F=j.next;j.next=null,_===null?y=F:_.next=F,_=j;var G=r.alternate;G!==null&&(G=G.updateQueue,A=G.lastBaseUpdate,A!==_&&(A===null?G.firstBaseUpdate=F:A.next=F,G.lastBaseUpdate=j))}if(y!==null){var q=p.baseState;_=0,G=F=j=null,A=y;do{var K=A.lane,Q=A.eventTime;if((d&K)===K){G!==null&&(G=G.next={eventTime:Q,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var re=r,ue=A;switch(K=i,Q=l,ue.tag){case 1:if(re=ue.payload,typeof re=="function"){q=re.call(Q,q,K);break e}q=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ue.payload,K=typeof re=="function"?re.call(Q,q,K):re,K==null)break e;q=H({},q,K);break e;case 2:Zn=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,K=p.effects,K===null?p.effects=[A]:K.push(A))}else Q={eventTime:Q,lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},G===null?(F=G=Q,j=q):G=G.next=Q,_|=K;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;K=A,A=K.next,K.next=null,p.lastBaseUpdate=K,p.shared.pending=null}}while(!0);if(G===null&&(j=q),p.baseState=j,p.firstBaseUpdate=F,p.lastBaseUpdate=G,i=p.shared.interleaved,i!==null){p=i;do _|=p.lane,p=p.next;while(p!==i)}else y===null&&(p.shared.lanes=0);jr|=_,r.lanes=_,r.memoizedState=q}}function fm(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var Li={},gn=Jn(Li),$i=Jn(Li),Vi=Jn(Li);function Ar(r){if(r===Li)throw Error(n(174));return r}function eu(r,i){switch(je(Vi,i),je($i,r),je(gn,Li),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:tc(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=tc(i,r)}Me(gn),je(gn,i)}function vs(){Me(gn),Me($i),Me(Vi)}function hm(r){Ar(Vi.current);var i=Ar(gn.current),l=tc(i,r.type);i!==l&&(je($i,r),je(gn,l))}function tu(r){$i.current===r&&(Me(gn),Me($i))}var $e=Jn(0);function ya(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var nu=[];function ru(){for(var r=0;r<nu.length;r++)nu[r]._workInProgressVersionPrimary=null;nu.length=0}var va=R.ReactCurrentDispatcher,su=R.ReactCurrentBatchConfig,Rr=0,Ve=null,Je=null,nt=null,wa=!1,Fi=!1,Ui=0,h_=0;function pt(){throw Error(n(321))}function iu(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Yt(r[l],i[l]))return!1;return!0}function ou(r,i,l,d,p,y){if(Rr=y,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,va.current=r===null||r.memoizedState===null?y_:v_,r=l(d,p),Fi){y=0;do{if(Fi=!1,Ui=0,25<=y)throw Error(n(301));y+=1,nt=Je=null,i.updateQueue=null,va.current=w_,r=l(d,p)}while(Fi)}if(va.current=Sa,i=Je!==null&&Je.next!==null,Rr=0,nt=Je=Ve=null,wa=!1,i)throw Error(n(300));return r}function au(){var r=Ui!==0;return Ui=0,r}function yn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ve.memoizedState=nt=r:nt=nt.next=r,nt}function Ft(){if(Je===null){var r=Ve.alternate;r=r!==null?r.memoizedState:null}else r=Je.next;var i=nt===null?Ve.memoizedState:nt.next;if(i!==null)nt=i,Je=r;else{if(r===null)throw Error(n(310));Je=r,r={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},nt===null?Ve.memoizedState=nt=r:nt=nt.next=r}return nt}function Bi(r,i){return typeof i=="function"?i(r):i}function lu(r){var i=Ft(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=Je,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var A=_=null,j=null,F=y;do{var G=F.lane;if((Rr&G)===G)j!==null&&(j=j.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),d=F.hasEagerState?F.eagerState:r(d,F.action);else{var q={lane:G,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};j===null?(A=j=q,_=d):j=j.next=q,Ve.lanes|=G,jr|=G}F=F.next}while(F!==null&&F!==y);j===null?_=d:j.next=A,Yt(d,i.memoizedState)||(Et=!0),i.memoizedState=d,i.baseState=_,i.baseQueue=j,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do y=p.lane,Ve.lanes|=y,jr|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function cu(r){var i=Ft(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var _=p=p.next;do y=r(y,_.action),_=_.next;while(_!==p);Yt(y,i.memoizedState)||(Et=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,d]}function pm(){}function mm(r,i){var l=Ve,d=Ft(),p=i(),y=!Yt(d.memoizedState,p);if(y&&(d.memoizedState=p,Et=!0),d=d.queue,uu(vm.bind(null,l,d,r),[r]),d.getSnapshot!==i||y||nt!==null&&nt.memoizedState.tag&1){if(l.flags|=2048,zi(9,ym.bind(null,l,d,p,i),void 0,null),rt===null)throw Error(n(349));(Rr&30)!==0||gm(l,i,p)}return p}function gm(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Ve.updateQueue,i===null?(i={lastEffect:null,stores:null},Ve.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function ym(r,i,l,d){i.value=l,i.getSnapshot=d,wm(i)&&xm(r)}function vm(r,i,l){return l(function(){wm(i)&&xm(r)})}function wm(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Yt(r,l)}catch{return!0}}function xm(r){var i=jn(r,1);i!==null&&en(i,r,1,-1)}function bm(r){var i=yn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:r},i.queue=r,r=r.dispatch=g_.bind(null,Ve,r),[i.memoizedState,r]}function zi(r,i,l,d){return r={tag:r,create:i,destroy:l,deps:d,next:null},i=Ve.updateQueue,i===null?(i={lastEffect:null,stores:null},Ve.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,i.lastEffect=r)),r}function Sm(){return Ft().memoizedState}function xa(r,i,l,d){var p=yn();Ve.flags|=r,p.memoizedState=zi(1|i,l,void 0,d===void 0?null:d)}function ba(r,i,l,d){var p=Ft();d=d===void 0?null:d;var y=void 0;if(Je!==null){var _=Je.memoizedState;if(y=_.destroy,d!==null&&iu(d,_.deps)){p.memoizedState=zi(i,l,y,d);return}}Ve.flags|=r,p.memoizedState=zi(1|i,l,y,d)}function _m(r,i){return xa(8390656,8,r,i)}function uu(r,i){return ba(2048,8,r,i)}function km(r,i){return ba(4,2,r,i)}function Em(r,i){return ba(4,4,r,i)}function Cm(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Tm(r,i,l){return l=l!=null?l.concat([r]):null,ba(4,4,Cm.bind(null,i,r),l)}function du(){}function Pm(r,i){var l=Ft();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&iu(i,d[1])?d[0]:(l.memoizedState=[r,i],r)}function Am(r,i){var l=Ft();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&iu(i,d[1])?d[0]:(r=r(),l.memoizedState=[r,i],r)}function Rm(r,i,l){return(Rr&21)===0?(r.baseState&&(r.baseState=!1,Et=!0),r.memoizedState=l):(Yt(l,i)||(l=op(),Ve.lanes|=l,jr|=l,r.baseState=!0),i)}function p_(r,i){var l=Re;Re=l!==0&&4>l?l:4,r(!0);var d=su.transition;su.transition={};try{r(!1),i()}finally{Re=l,su.transition=d}}function jm(){return Ft().memoizedState}function m_(r,i,l){var d=sr(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Nm(r))Om(i,l);else if(l=cm(r,i,l,d),l!==null){var p=wt();en(l,r,d,p),Im(l,i,d)}}function g_(r,i,l){var d=sr(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Nm(r))Om(i,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var _=i.lastRenderedState,A=y(_,l);if(p.hasEagerState=!0,p.eagerState=A,Yt(A,_)){var j=i.interleaved;j===null?(p.next=p,Qc(i)):(p.next=j.next,j.next=p),i.interleaved=p;return}}catch{}finally{}l=cm(r,i,p,d),l!==null&&(p=wt(),en(l,r,d,p),Im(l,i,d))}}function Nm(r){var i=r.alternate;return r===Ve||i!==null&&i===Ve}function Om(r,i){Fi=wa=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Im(r,i,l){if((l&4194240)!==0){var d=i.lanes;d&=r.pendingLanes,l|=d,i.lanes=l,hc(r,l)}}var Sa={readContext:Vt,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},y_={readContext:Vt,useCallback:function(r,i){return yn().memoizedState=[r,i===void 0?null:i],r},useContext:Vt,useEffect:_m,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,xa(4194308,4,Cm.bind(null,i,r),l)},useLayoutEffect:function(r,i){return xa(4194308,4,r,i)},useInsertionEffect:function(r,i){return xa(4,2,r,i)},useMemo:function(r,i){var l=yn();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var d=yn();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=m_.bind(null,Ve,r),[d.memoizedState,r]},useRef:function(r){var i=yn();return r={current:r},i.memoizedState=r},useState:bm,useDebugValue:du,useDeferredValue:function(r){return yn().memoizedState=r},useTransition:function(){var r=bm(!1),i=r[0];return r=p_.bind(null,r[1]),yn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var d=Ve,p=yn();if(Le){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),rt===null)throw Error(n(349));(Rr&30)!==0||gm(d,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,_m(vm.bind(null,d,y,r),[r]),d.flags|=2048,zi(9,ym.bind(null,d,y,l,i),void 0,null),l},useId:function(){var r=yn(),i=rt.identifierPrefix;if(Le){var l=Rn,d=An;l=(d&~(1<<32-qt(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=Ui++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=h_++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},v_={readContext:Vt,useCallback:Pm,useContext:Vt,useEffect:uu,useImperativeHandle:Tm,useInsertionEffect:km,useLayoutEffect:Em,useMemo:Am,useReducer:lu,useRef:Sm,useState:function(){return lu(Bi)},useDebugValue:du,useDeferredValue:function(r){var i=Ft();return Rm(i,Je.memoizedState,r)},useTransition:function(){var r=lu(Bi)[0],i=Ft().memoizedState;return[r,i]},useMutableSource:pm,useSyncExternalStore:mm,useId:jm,unstable_isNewReconciler:!1},w_={readContext:Vt,useCallback:Pm,useContext:Vt,useEffect:uu,useImperativeHandle:Tm,useInsertionEffect:km,useLayoutEffect:Em,useMemo:Am,useReducer:cu,useRef:Sm,useState:function(){return cu(Bi)},useDebugValue:du,useDeferredValue:function(r){var i=Ft();return Je===null?i.memoizedState=r:Rm(i,Je.memoizedState,r)},useTransition:function(){var r=cu(Bi)[0],i=Ft().memoizedState;return[r,i]},useMutableSource:pm,useSyncExternalStore:mm,useId:jm,unstable_isNewReconciler:!1};function Xt(r,i){if(r&&r.defaultProps){i=H({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function fu(r,i,l,d){i=r.memoizedState,l=l(d,i),l=l==null?i:H({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var _a={isMounted:function(r){return(r=r._reactInternals)?_r(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var d=wt(),p=sr(r),y=Nn(d,p);y.payload=i,l!=null&&(y.callback=l),i=er(r,y,p),i!==null&&(en(i,r,p,d),ma(i,r,p))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var d=wt(),p=sr(r),y=Nn(d,p);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=er(r,y,p),i!==null&&(en(i,r,p,d),ma(i,r,p))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=wt(),d=sr(r),p=Nn(l,d);p.tag=2,i!=null&&(p.callback=i),i=er(r,p,d),i!==null&&(en(i,r,d,l),ma(i,r,d))}};function Dm(r,i,l,d,p,y,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,_):i.prototype&&i.prototype.isPureReactComponent?!Ai(l,d)||!Ai(p,y):!0}function Mm(r,i,l){var d=!1,p=Xn,y=i.contextType;return typeof y=="object"&&y!==null?y=Vt(y):(p=kt(i)?Er:ht.current,d=i.contextTypes,y=(d=d!=null)?ds(r,p):Xn),i=new i(l,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=_a,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),i}function Lm(r,i,l,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==r&&_a.enqueueReplaceState(i,i.state,null)}function hu(r,i,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Zc(r);var y=i.contextType;typeof y=="object"&&y!==null?p.context=Vt(y):(y=kt(i)?Er:ht.current,p.context=ds(r,y)),p.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(fu(r,i,y,l),p.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&_a.enqueueReplaceState(p,p.state,null),ga(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function ws(r,i){try{var l="",d=i;do l+=Se(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:p,digest:null}}function pu(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function mu(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var x_=typeof WeakMap=="function"?WeakMap:Map;function $m(r,i,l){l=Nn(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){Ra||(Ra=!0,Ru=d),mu(r,i)},l}function Vm(r,i,l){l=Nn(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;l.payload=function(){return d(p)},l.callback=function(){mu(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){mu(r,i),typeof d!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),l}function Fm(r,i,l){var d=r.pingCache;if(d===null){d=r.pingCache=new x_;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(p.add(l),r=I_.bind(null,r,i,l),i.then(r,r))}function Um(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Bm(r,i,l,d,p){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Nn(-1,1),i.tag=2,er(l,i,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var b_=R.ReactCurrentOwner,Et=!1;function vt(r,i,l,d){i.child=r===null?lm(i,null,l,d):ms(i,r.child,l,d)}function zm(r,i,l,d,p){l=l.render;var y=i.ref;return ys(i,p),d=ou(r,i,l,d,y,p),l=au(),r!==null&&!Et?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,On(r,i,p)):(Le&&l&&zc(i),i.flags|=1,vt(r,i,d,p),i.child)}function Wm(r,i,l,d,p){if(r===null){var y=l.type;return typeof y=="function"&&!Lu(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,Hm(r,i,y,d,p)):(r=Ma(l.type,null,d,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,(r.lanes&p)===0){var _=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ai,l(_,d)&&r.ref===i.ref)return On(r,i,p)}return i.flags|=1,r=or(y,d),r.ref=i.ref,r.return=i,i.child=r}function Hm(r,i,l,d,p){if(r!==null){var y=r.memoizedProps;if(Ai(y,d)&&r.ref===i.ref)if(Et=!1,i.pendingProps=d=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(Et=!0);else return i.lanes=r.lanes,On(r,i,p)}return gu(r,i,l,d,p)}function Km(r,i,l){var d=i.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(bs,Nt),Nt|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,je(bs,Nt),Nt|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,je(bs,Nt),Nt|=d}else y!==null?(d=y.baseLanes|l,i.memoizedState=null):d=l,je(bs,Nt),Nt|=d;return vt(r,i,p,l),i.child}function Gm(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function gu(r,i,l,d,p){var y=kt(l)?Er:ht.current;return y=ds(i,y),ys(i,p),l=ou(r,i,l,d,y,p),d=au(),r!==null&&!Et?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,On(r,i,p)):(Le&&d&&zc(i),i.flags|=1,vt(r,i,l,p),i.child)}function qm(r,i,l,d,p){if(kt(l)){var y=!0;aa(i)}else y=!1;if(ys(i,p),i.stateNode===null)Ea(r,i),Mm(i,l,d),hu(i,l,d,p),d=!0;else if(r===null){var _=i.stateNode,A=i.memoizedProps;_.props=A;var j=_.context,F=l.contextType;typeof F=="object"&&F!==null?F=Vt(F):(F=kt(l)?Er:ht.current,F=ds(i,F));var G=l.getDerivedStateFromProps,q=typeof G=="function"||typeof _.getSnapshotBeforeUpdate=="function";q||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==d||j!==F)&&Lm(i,_,d,F),Zn=!1;var K=i.memoizedState;_.state=K,ga(i,d,_,p),j=i.memoizedState,A!==d||K!==j||_t.current||Zn?(typeof G=="function"&&(fu(i,l,G,d),j=i.memoizedState),(A=Zn||Dm(i,l,A,d,K,j,F))?(q||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=j),_.props=d,_.state=j,_.context=F,d=A):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{_=i.stateNode,um(r,i),A=i.memoizedProps,F=i.type===i.elementType?A:Xt(i.type,A),_.props=F,q=i.pendingProps,K=_.context,j=l.contextType,typeof j=="object"&&j!==null?j=Vt(j):(j=kt(l)?Er:ht.current,j=ds(i,j));var Q=l.getDerivedStateFromProps;(G=typeof Q=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==q||K!==j)&&Lm(i,_,d,j),Zn=!1,K=i.memoizedState,_.state=K,ga(i,d,_,p);var re=i.memoizedState;A!==q||K!==re||_t.current||Zn?(typeof Q=="function"&&(fu(i,l,Q,d),re=i.memoizedState),(F=Zn||Dm(i,l,F,d,K,re,j)||!1)?(G||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,re,j),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,re,j)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=re),_.props=d,_.state=re,_.context=j,d=F):(typeof _.componentDidUpdate!="function"||A===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),d=!1)}return yu(r,i,l,d,y,p)}function yu(r,i,l,d,p,y){Gm(r,i);var _=(i.flags&128)!==0;if(!d&&!_)return p&&Zp(i,l,!1),On(r,i,y);d=i.stateNode,b_.current=i;var A=_&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&_?(i.child=ms(i,r.child,null,y),i.child=ms(i,null,A,y)):vt(r,i,A,y),i.memoizedState=d.state,p&&Zp(i,l,!0),i.child}function Ym(r){var i=r.stateNode;i.pendingContext?Xp(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Xp(r,i.context,!1),eu(r,i.containerInfo)}function Jm(r,i,l,d,p){return ps(),Gc(p),i.flags|=256,vt(r,i,l,d),i.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function wu(r){return{baseLanes:r,cachePool:null,transitions:null}}function Xm(r,i,l){var d=i.pendingProps,p=$e.current,y=!1,_=(i.flags&128)!==0,A;if((A=_)||(A=r!==null&&r.memoizedState===null?!1:(p&2)!==0),A?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),je($e,p&1),r===null)return Kc(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(_=d.children,r=d.fallback,y?(d=i.mode,y=i.child,_={mode:"hidden",children:_},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=_):y=La(_,d,0,null),r=Dr(r,d,l,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=wu(l),i.memoizedState=vu,r):xu(i,_));if(p=r.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return S_(r,i,_,d,A,p,l);if(y){y=d.fallback,_=i.mode,p=r.child,A=p.sibling;var j={mode:"hidden",children:d.children};return(_&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=j,i.deletions=null):(d=or(p,j),d.subtreeFlags=p.subtreeFlags&14680064),A!==null?y=or(A,y):(y=Dr(y,_,l,null),y.flags|=2),y.return=i,d.return=i,d.sibling=y,i.child=d,d=y,y=i.child,_=r.child.memoizedState,_=_===null?wu(l):{baseLanes:_.baseLanes|l,cachePool:null,transitions:_.transitions},y.memoizedState=_,y.childLanes=r.childLanes&~l,i.memoizedState=vu,d}return y=r.child,r=y.sibling,d=or(y,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=d,i.memoizedState=null,d}function xu(r,i){return i=La({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function ka(r,i,l,d){return d!==null&&Gc(d),ms(i,r.child,null,l),r=xu(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function S_(r,i,l,d,p,y,_){if(l)return i.flags&256?(i.flags&=-257,d=pu(Error(n(422))),ka(r,i,_,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=d.fallback,p=i.mode,d=La({mode:"visible",children:d.children},p,0,null),y=Dr(y,p,_,null),y.flags|=2,d.return=i,y.return=i,d.sibling=y,i.child=d,(i.mode&1)!==0&&ms(i,r.child,null,_),i.child.memoizedState=wu(_),i.memoizedState=vu,y);if((i.mode&1)===0)return ka(r,i,_,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var A=d.dgst;return d=A,y=Error(n(419)),d=pu(y,d,void 0),ka(r,i,_,d)}if(A=(_&r.childLanes)!==0,Et||A){if(d=rt,d!==null){switch(_&-_){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|_))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,jn(r,p),en(d,r,p,-1))}return Mu(),d=pu(Error(n(421))),ka(r,i,_,d)}return p.data==="$?"?(i.flags|=128,i.child=r.child,i=D_.bind(null,r),p._reactRetry=i,null):(r=y.treeContext,jt=Yn(p.nextSibling),Rt=i,Le=!0,Jt=null,r!==null&&(Lt[$t++]=An,Lt[$t++]=Rn,Lt[$t++]=Cr,An=r.id,Rn=r.overflow,Cr=i),i=xu(i,d.children),i.flags|=4096,i)}function Qm(r,i,l){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),Xc(r.return,i,l)}function bu(r,i,l,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function Zm(r,i,l){var d=i.pendingProps,p=d.revealOrder,y=d.tail;if(vt(r,i,d.children,l),d=$e.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Qm(r,l,i);else if(r.tag===19)Qm(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(je($e,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)r=l.alternate,r!==null&&ya(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),bu(i,!1,p,l,y);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&ya(r)===null){i.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}bu(i,!0,l,null,y);break;case"together":bu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ea(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function On(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),jr|=i.lanes,(l&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=or(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=or(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function __(r,i,l){switch(i.tag){case 3:Ym(i),ps();break;case 5:hm(i);break;case 1:kt(i.type)&&aa(i);break;case 4:eu(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;je(ha,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(je($e,$e.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Xm(r,i,l):(je($e,$e.current&1),r=On(r,i,l),r!==null?r.sibling:null);je($e,$e.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(r.flags&128)!==0){if(d)return Zm(r,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),je($e,$e.current),d)break;return null;case 22:case 23:return i.lanes=0,Km(r,i,l)}return On(r,i,l)}var eg,Su,tg,ng;eg=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Su=function(){},tg=function(r,i,l,d){var p=r.memoizedProps;if(p!==d){r=i.stateNode,Ar(gn.current);var y=null;switch(l){case"input":p=Qr(r,p),d=Qr(r,d),y=[];break;case"select":p=H({},p,{value:void 0}),d=H({},d,{value:void 0}),y=[];break;case"textarea":p=ec(r,p),d=ec(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=sa)}nc(l,d);var _;l=null;for(F in p)if(!d.hasOwnProperty(F)&&p.hasOwnProperty(F)&&p[F]!=null)if(F==="style"){var A=p[F];for(_ in A)A.hasOwnProperty(_)&&(l||(l={}),l[_]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(o.hasOwnProperty(F)?y||(y=[]):(y=y||[]).push(F,null));for(F in d){var j=d[F];if(A=p!=null?p[F]:void 0,d.hasOwnProperty(F)&&j!==A&&(j!=null||A!=null))if(F==="style")if(A){for(_ in A)!A.hasOwnProperty(_)||j&&j.hasOwnProperty(_)||(l||(l={}),l[_]="");for(_ in j)j.hasOwnProperty(_)&&A[_]!==j[_]&&(l||(l={}),l[_]=j[_])}else l||(y||(y=[]),y.push(F,l)),l=j;else F==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,A=A?A.__html:void 0,j!=null&&A!==j&&(y=y||[]).push(F,j)):F==="children"?typeof j!="string"&&typeof j!="number"||(y=y||[]).push(F,""+j):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(o.hasOwnProperty(F)?(j!=null&&F==="onScroll"&&De("scroll",r),y||A===j||(y=[])):(y=y||[]).push(F,j))}l&&(y=y||[]).push("style",l);var F=y;(i.updateQueue=F)&&(i.flags|=4)}},ng=function(r,i,l,d){l!==d&&(i.flags|=4)};function Wi(r,i){if(!Le)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function mt(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(i)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,i}function k_(r,i,l){var d=i.pendingProps;switch(Wc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(i),null;case 1:return kt(i.type)&&oa(),mt(i),null;case 3:return d=i.stateNode,vs(),Me(_t),Me(ht),ru(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(da(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Jt!==null&&(Ou(Jt),Jt=null))),Su(r,i),mt(i),null;case 5:tu(i);var p=Ar(Vi.current);if(l=i.type,r!==null&&i.stateNode!=null)tg(r,i,l,d,p),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return mt(i),null}if(r=Ar(gn.current),da(i)){d=i.stateNode,l=i.type;var y=i.memoizedProps;switch(d[mn]=i,d[Ii]=y,r=(i.mode&1)!==0,l){case"dialog":De("cancel",d),De("close",d);break;case"iframe":case"object":case"embed":De("load",d);break;case"video":case"audio":for(p=0;p<ji.length;p++)De(ji[p],d);break;case"source":De("error",d);break;case"img":case"image":case"link":De("error",d),De("load",d);break;case"details":De("toggle",d);break;case"input":Oo(d,y),De("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},De("invalid",d);break;case"textarea":Vh(d,y),De("invalid",d)}nc(l,y),p=null;for(var _ in y)if(y.hasOwnProperty(_)){var A=y[_];_==="children"?typeof A=="string"?d.textContent!==A&&(y.suppressHydrationWarning!==!0&&ra(d.textContent,A,r),p=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&ra(d.textContent,A,r),p=["children",""+A]):o.hasOwnProperty(_)&&A!=null&&_==="onScroll"&&De("scroll",d)}switch(l){case"input":Gt(d),Do(d,y,!0);break;case"textarea":Gt(d),Uh(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=sa)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{_=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Bh(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=_.createElement(l,{is:d.is}):(r=_.createElement(l),l==="select"&&(_=r,d.multiple?_.multiple=!0:d.size&&(_.size=d.size))):r=_.createElementNS(r,l),r[mn]=i,r[Ii]=d,eg(r,i,!1,!1),i.stateNode=r;e:{switch(_=rc(l,d),l){case"dialog":De("cancel",r),De("close",r),p=d;break;case"iframe":case"object":case"embed":De("load",r),p=d;break;case"video":case"audio":for(p=0;p<ji.length;p++)De(ji[p],r);p=d;break;case"source":De("error",r),p=d;break;case"img":case"image":case"link":De("error",r),De("load",r),p=d;break;case"details":De("toggle",r),p=d;break;case"input":Oo(r,d),p=Qr(r,d),De("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=H({},d,{value:void 0}),De("invalid",r);break;case"textarea":Vh(r,d),p=ec(r,d),De("invalid",r);break;default:p=d}nc(l,p),A=p;for(y in A)if(A.hasOwnProperty(y)){var j=A[y];y==="style"?Hh(r,j):y==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&zh(r,j)):y==="children"?typeof j=="string"?(l!=="textarea"||j!=="")&&fi(r,j):typeof j=="number"&&fi(r,""+j):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?j!=null&&y==="onScroll"&&De("scroll",r):j!=null&&T(r,y,j,_))}switch(l){case"input":Gt(r),Do(r,d,!1);break;case"textarea":Gt(r),Uh(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Ce(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?Zr(r,!!d.multiple,y,!1):d.defaultValue!=null&&Zr(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=sa)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return mt(i),null;case 6:if(r&&i.stateNode!=null)ng(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(l=Ar(Vi.current),Ar(gn.current),da(i)){if(d=i.stateNode,l=i.memoizedProps,d[mn]=i,(y=d.nodeValue!==l)&&(r=Rt,r!==null))switch(r.tag){case 3:ra(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ra(d.nodeValue,l,(r.mode&1)!==0)}y&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[mn]=i,i.stateNode=d}return mt(i),null;case 13:if(Me($e),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Le&&jt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)im(),ps(),i.flags|=98560,y=!1;else if(y=da(i),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[mn]=i}else ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),y=!1}else Jt!==null&&(Ou(Jt),Jt=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||($e.current&1)!==0?Xe===0&&(Xe=3):Mu())),i.updateQueue!==null&&(i.flags|=4),mt(i),null);case 4:return vs(),Su(r,i),r===null&&Ni(i.stateNode.containerInfo),mt(i),null;case 10:return Jc(i.type._context),mt(i),null;case 17:return kt(i.type)&&oa(),mt(i),null;case 19:if(Me($e),y=i.memoizedState,y===null)return mt(i),null;if(d=(i.flags&128)!==0,_=y.rendering,_===null)if(d)Wi(y,!1);else{if(Xe!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(_=ya(r),_!==null){for(i.flags|=128,Wi(y,!1),d=_.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)y=l,r=d,y.flags&=14680066,_=y.alternate,_===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=_.childLanes,y.lanes=_.lanes,y.child=_.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=_.memoizedProps,y.memoizedState=_.memoizedState,y.updateQueue=_.updateQueue,y.type=_.type,r=_.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return je($e,$e.current&1|2),i.child}r=r.sibling}y.tail!==null&&He()>Ss&&(i.flags|=128,d=!0,Wi(y,!1),i.lanes=4194304)}else{if(!d)if(r=ya(_),r!==null){if(i.flags|=128,d=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Wi(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!Le)return mt(i),null}else 2*He()-y.renderingStartTime>Ss&&l!==1073741824&&(i.flags|=128,d=!0,Wi(y,!1),i.lanes=4194304);y.isBackwards?(_.sibling=i.child,i.child=_):(l=y.last,l!==null?l.sibling=_:i.child=_,y.last=_)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=He(),i.sibling=null,l=$e.current,je($e,d?l&1|2:l&1),i):(mt(i),null);case 22:case 23:return Du(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Nt&1073741824)!==0&&(mt(i),i.subtreeFlags&6&&(i.flags|=8192)):mt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function E_(r,i){switch(Wc(i),i.tag){case 1:return kt(i.type)&&oa(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return vs(),Me(_t),Me(ht),ru(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return tu(i),null;case 13:if(Me($e),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));ps()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Me($e),null;case 4:return vs(),null;case 10:return Jc(i.type._context),null;case 22:case 23:return Du(),null;case 24:return null;default:return null}}var Ca=!1,gt=!1,C_=typeof WeakSet=="function"?WeakSet:Set,ee=null;function xs(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Ue(r,i,d)}else l.current=null}function _u(r,i,l){try{l()}catch(d){Ue(r,i,d)}}var rg=!1;function T_(r,i){if(Dc=Ko,r=Dp(),Tc(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var _=0,A=-1,j=-1,F=0,G=0,q=r,K=null;t:for(;;){for(var Q;q!==l||p!==0&&q.nodeType!==3||(A=_+p),q!==y||d!==0&&q.nodeType!==3||(j=_+d),q.nodeType===3&&(_+=q.nodeValue.length),(Q=q.firstChild)!==null;)K=q,q=Q;for(;;){if(q===r)break t;if(K===l&&++F===p&&(A=_),K===y&&++G===d&&(j=_),(Q=q.nextSibling)!==null)break;q=K,K=q.parentNode}q=Q}l=A===-1||j===-1?null:{start:A,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(Mc={focusedElem:r,selectionRange:l},Ko=!1,ee=i;ee!==null;)if(i=ee,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ee=r;else for(;ee!==null;){i=ee;try{var re=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ue=re.memoizedProps,Ke=re.memoizedState,L=i.stateNode,I=L.getSnapshotBeforeUpdate(i.elementType===i.type?ue:Xt(i.type,ue),Ke);L.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var V=i.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Y){Ue(i,i.return,Y)}if(r=i.sibling,r!==null){r.return=i.return,ee=r;break}ee=i.return}return re=rg,rg=!1,re}function Hi(r,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&_u(i,l,y)}p=p.next}while(p!==d)}}function Ta(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function ku(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function sg(r){var i=r.alternate;i!==null&&(r.alternate=null,sg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[mn],delete i[Ii],delete i[Fc],delete i[c_],delete i[u_])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ig(r){return r.tag===5||r.tag===3||r.tag===4}function og(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ig(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Eu(r,i,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=sa));else if(d!==4&&(r=r.child,r!==null))for(Eu(r,i,l),r=r.sibling;r!==null;)Eu(r,i,l),r=r.sibling}function Cu(r,i,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Cu(r,i,l),r=r.sibling;r!==null;)Cu(r,i,l),r=r.sibling}var lt=null,Qt=!1;function tr(r,i,l){for(l=l.child;l!==null;)ag(r,i,l),l=l.sibling}function ag(r,i,l){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Fo,l)}catch{}switch(l.tag){case 5:gt||xs(l,i);case 6:var d=lt,p=Qt;lt=null,tr(r,i,l),lt=d,Qt=p,lt!==null&&(Qt?(r=lt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):lt.removeChild(l.stateNode));break;case 18:lt!==null&&(Qt?(r=lt,l=l.stateNode,r.nodeType===8?Vc(r.parentNode,l):r.nodeType===1&&Vc(r,l),_i(r)):Vc(lt,l.stateNode));break;case 4:d=lt,p=Qt,lt=l.stateNode.containerInfo,Qt=!0,tr(r,i,l),lt=d,Qt=p;break;case 0:case 11:case 14:case 15:if(!gt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,_=y.destroy;y=y.tag,_!==void 0&&((y&2)!==0||(y&4)!==0)&&_u(l,i,_),p=p.next}while(p!==d)}tr(r,i,l);break;case 1:if(!gt&&(xs(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(A){Ue(l,i,A)}tr(r,i,l);break;case 21:tr(r,i,l);break;case 22:l.mode&1?(gt=(d=gt)||l.memoizedState!==null,tr(r,i,l),gt=d):tr(r,i,l);break;default:tr(r,i,l)}}function lg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new C_),i.forEach(function(d){var p=M_.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Zt(r,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=r,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 5:lt=A.stateNode,Qt=!1;break e;case 3:lt=A.stateNode.containerInfo,Qt=!0;break e;case 4:lt=A.stateNode.containerInfo,Qt=!0;break e}A=A.return}if(lt===null)throw Error(n(160));ag(y,_,p),lt=null,Qt=!1;var j=p.alternate;j!==null&&(j.return=null),p.return=null}catch(F){Ue(p,i,F)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)cg(i,r),i=i.sibling}function cg(r,i){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Zt(i,r),vn(r),d&4){try{Hi(3,r,r.return),Ta(3,r)}catch(ue){Ue(r,r.return,ue)}try{Hi(5,r,r.return)}catch(ue){Ue(r,r.return,ue)}}break;case 1:Zt(i,r),vn(r),d&512&&l!==null&&xs(l,l.return);break;case 5:if(Zt(i,r),vn(r),d&512&&l!==null&&xs(l,l.return),r.flags&32){var p=r.stateNode;try{fi(p,"")}catch(ue){Ue(r,r.return,ue)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,_=l!==null?l.memoizedProps:y,A=r.type,j=r.updateQueue;if(r.updateQueue=null,j!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&Io(p,y),rc(A,_);var F=rc(A,y);for(_=0;_<j.length;_+=2){var G=j[_],q=j[_+1];G==="style"?Hh(p,q):G==="dangerouslySetInnerHTML"?zh(p,q):G==="children"?fi(p,q):T(p,G,q,F)}switch(A){case"input":ui(p,y);break;case"textarea":Fh(p,y);break;case"select":var K=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var Q=y.value;Q!=null?Zr(p,!!y.multiple,Q,!1):K!==!!y.multiple&&(y.defaultValue!=null?Zr(p,!!y.multiple,y.defaultValue,!0):Zr(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ii]=y}catch(ue){Ue(r,r.return,ue)}}break;case 6:if(Zt(i,r),vn(r),d&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(ue){Ue(r,r.return,ue)}}break;case 3:if(Zt(i,r),vn(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{_i(i.containerInfo)}catch(ue){Ue(r,r.return,ue)}break;case 4:Zt(i,r),vn(r);break;case 13:Zt(i,r),vn(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Au=He())),d&4&&lg(r);break;case 22:if(G=l!==null&&l.memoizedState!==null,r.mode&1?(gt=(F=gt)||G,Zt(i,r),gt=F):Zt(i,r),vn(r),d&8192){if(F=r.memoizedState!==null,(r.stateNode.isHidden=F)&&!G&&(r.mode&1)!==0)for(ee=r,G=r.child;G!==null;){for(q=ee=G;ee!==null;){switch(K=ee,Q=K.child,K.tag){case 0:case 11:case 14:case 15:Hi(4,K,K.return);break;case 1:xs(K,K.return);var re=K.stateNode;if(typeof re.componentWillUnmount=="function"){d=K,l=K.return;try{i=d,re.props=i.memoizedProps,re.state=i.memoizedState,re.componentWillUnmount()}catch(ue){Ue(d,l,ue)}}break;case 5:xs(K,K.return);break;case 22:if(K.memoizedState!==null){fg(q);continue}}Q!==null?(Q.return=K,ee=Q):fg(q)}G=G.sibling}e:for(G=null,q=r;;){if(q.tag===5){if(G===null){G=q;try{p=q.stateNode,F?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=q.stateNode,j=q.memoizedProps.style,_=j!=null&&j.hasOwnProperty("display")?j.display:null,A.style.display=Wh("display",_))}catch(ue){Ue(r,r.return,ue)}}}else if(q.tag===6){if(G===null)try{q.stateNode.nodeValue=F?"":q.memoizedProps}catch(ue){Ue(r,r.return,ue)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===r)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===r)break e;for(;q.sibling===null;){if(q.return===null||q.return===r)break e;G===q&&(G=null),q=q.return}G===q&&(G=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:Zt(i,r),vn(r),d&4&&lg(r);break;case 21:break;default:Zt(i,r),vn(r)}}function vn(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(ig(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(fi(p,""),d.flags&=-33);var y=og(r);Cu(r,y,p);break;case 3:case 4:var _=d.stateNode.containerInfo,A=og(r);Eu(r,A,_);break;default:throw Error(n(161))}}catch(j){Ue(r,r.return,j)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function P_(r,i,l){ee=r,ug(r)}function ug(r,i,l){for(var d=(r.mode&1)!==0;ee!==null;){var p=ee,y=p.child;if(p.tag===22&&d){var _=p.memoizedState!==null||Ca;if(!_){var A=p.alternate,j=A!==null&&A.memoizedState!==null||gt;A=Ca;var F=gt;if(Ca=_,(gt=j)&&!F)for(ee=p;ee!==null;)_=ee,j=_.child,_.tag===22&&_.memoizedState!==null?hg(p):j!==null?(j.return=_,ee=j):hg(p);for(;y!==null;)ee=y,ug(y),y=y.sibling;ee=p,Ca=A,gt=F}dg(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ee=y):dg(r)}}function dg(r){for(;ee!==null;){var i=ee;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:gt||Ta(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!gt)if(l===null)d.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:Xt(i.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&fm(i,y,d);break;case 3:var _=i.updateQueue;if(_!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}fm(i,_,l)}break;case 5:var A=i.stateNode;if(l===null&&i.flags&4){l=A;var j=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&l.focus();break;case"img":j.src&&(l.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var F=i.alternate;if(F!==null){var G=F.memoizedState;if(G!==null){var q=G.dehydrated;q!==null&&_i(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}gt||i.flags&512&&ku(i)}catch(K){Ue(i,i.return,K)}}if(i===r){ee=null;break}if(l=i.sibling,l!==null){l.return=i.return,ee=l;break}ee=i.return}}function fg(r){for(;ee!==null;){var i=ee;if(i===r){ee=null;break}var l=i.sibling;if(l!==null){l.return=i.return,ee=l;break}ee=i.return}}function hg(r){for(;ee!==null;){var i=ee;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Ta(4,i)}catch(j){Ue(i,l,j)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(j){Ue(i,p,j)}}var y=i.return;try{ku(i)}catch(j){Ue(i,y,j)}break;case 5:var _=i.return;try{ku(i)}catch(j){Ue(i,_,j)}}}catch(j){Ue(i,i.return,j)}if(i===r){ee=null;break}var A=i.sibling;if(A!==null){A.return=i.return,ee=A;break}ee=i.return}}var A_=Math.ceil,Pa=R.ReactCurrentDispatcher,Tu=R.ReactCurrentOwner,Ut=R.ReactCurrentBatchConfig,Te=0,rt=null,Ge=null,ct=0,Nt=0,bs=Jn(0),Xe=0,Ki=null,jr=0,Aa=0,Pu=0,Gi=null,Ct=null,Au=0,Ss=1/0,In=null,Ra=!1,Ru=null,nr=null,ja=!1,rr=null,Na=0,qi=0,ju=null,Oa=-1,Ia=0;function wt(){return(Te&6)!==0?He():Oa!==-1?Oa:Oa=He()}function sr(r){return(r.mode&1)===0?1:(Te&2)!==0&&ct!==0?ct&-ct:f_.transition!==null?(Ia===0&&(Ia=op()),Ia):(r=Re,r!==0||(r=window.event,r=r===void 0?16:mp(r.type)),r)}function en(r,i,l,d){if(50<qi)throw qi=0,ju=null,Error(n(185));vi(r,l,d),((Te&2)===0||r!==rt)&&(r===rt&&((Te&2)===0&&(Aa|=l),Xe===4&&ir(r,ct)),Tt(r,d),l===1&&Te===0&&(i.mode&1)===0&&(Ss=He()+500,la&&Qn()))}function Tt(r,i){var l=r.callbackNode;fS(r,i);var d=zo(r,r===rt?ct:0);if(d===0)l!==null&&rp(l),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(l!=null&&rp(l),i===1)r.tag===0?d_(mg.bind(null,r)):em(mg.bind(null,r)),a_(function(){(Te&6)===0&&Qn()}),l=null;else{switch(ap(d)){case 1:l=uc;break;case 4:l=sp;break;case 16:l=Vo;break;case 536870912:l=ip;break;default:l=Vo}l=_g(l,pg.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function pg(r,i){if(Oa=-1,Ia=0,(Te&6)!==0)throw Error(n(327));var l=r.callbackNode;if(_s()&&r.callbackNode!==l)return null;var d=zo(r,r===rt?ct:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||i)i=Da(r,d);else{i=d;var p=Te;Te|=2;var y=yg();(rt!==r||ct!==i)&&(In=null,Ss=He()+500,Or(r,i));do try{N_();break}catch(A){gg(r,A)}while(!0);Yc(),Pa.current=y,Te=p,Ge!==null?i=0:(rt=null,ct=0,i=Xe)}if(i!==0){if(i===2&&(p=dc(r),p!==0&&(d=p,i=Nu(r,p))),i===1)throw l=Ki,Or(r,0),ir(r,d),Tt(r,He()),l;if(i===6)ir(r,d);else{if(p=r.current.alternate,(d&30)===0&&!R_(p)&&(i=Da(r,d),i===2&&(y=dc(r),y!==0&&(d=y,i=Nu(r,y))),i===1))throw l=Ki,Or(r,0),ir(r,d),Tt(r,He()),l;switch(r.finishedWork=p,r.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:Ir(r,Ct,In);break;case 3:if(ir(r,d),(d&130023424)===d&&(i=Au+500-He(),10<i)){if(zo(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){wt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=$c(Ir.bind(null,r,Ct,In),i);break}Ir(r,Ct,In);break;case 4:if(ir(r,d),(d&4194240)===d)break;for(i=r.eventTimes,p=-1;0<d;){var _=31-qt(d);y=1<<_,_=i[_],_>p&&(p=_),d&=~y}if(d=p,d=He()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*A_(d/1960))-d,10<d){r.timeoutHandle=$c(Ir.bind(null,r,Ct,In),d);break}Ir(r,Ct,In);break;case 5:Ir(r,Ct,In);break;default:throw Error(n(329))}}}return Tt(r,He()),r.callbackNode===l?pg.bind(null,r):null}function Nu(r,i){var l=Gi;return r.current.memoizedState.isDehydrated&&(Or(r,i).flags|=256),r=Da(r,i),r!==2&&(i=Ct,Ct=l,i!==null&&Ou(i)),r}function Ou(r){Ct===null?Ct=r:Ct.push.apply(Ct,r)}function R_(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!Yt(y(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ir(r,i){for(i&=~Pu,i&=~Aa,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-qt(i),d=1<<l;r[l]=-1,i&=~d}}function mg(r){if((Te&6)!==0)throw Error(n(327));_s();var i=zo(r,0);if((i&1)===0)return Tt(r,He()),null;var l=Da(r,i);if(r.tag!==0&&l===2){var d=dc(r);d!==0&&(i=d,l=Nu(r,d))}if(l===1)throw l=Ki,Or(r,0),ir(r,i),Tt(r,He()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Ir(r,Ct,In),Tt(r,He()),null}function Iu(r,i){var l=Te;Te|=1;try{return r(i)}finally{Te=l,Te===0&&(Ss=He()+500,la&&Qn())}}function Nr(r){rr!==null&&rr.tag===0&&(Te&6)===0&&_s();var i=Te;Te|=1;var l=Ut.transition,d=Re;try{if(Ut.transition=null,Re=1,r)return r()}finally{Re=d,Ut.transition=l,Te=i,(Te&6)===0&&Qn()}}function Du(){Nt=bs.current,Me(bs)}function Or(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,o_(l)),Ge!==null)for(l=Ge.return;l!==null;){var d=l;switch(Wc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&oa();break;case 3:vs(),Me(_t),Me(ht),ru();break;case 5:tu(d);break;case 4:vs();break;case 13:Me($e);break;case 19:Me($e);break;case 10:Jc(d.type._context);break;case 22:case 23:Du()}l=l.return}if(rt=r,Ge=r=or(r.current,null),ct=Nt=i,Xe=0,Ki=null,Pu=Aa=jr=0,Ct=Gi=null,Pr!==null){for(i=0;i<Pr.length;i++)if(l=Pr[i],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var _=y.next;y.next=p,d.next=_}l.pending=d}Pr=null}return r}function gg(r,i){do{var l=Ge;try{if(Yc(),va.current=Sa,wa){for(var d=Ve.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}wa=!1}if(Rr=0,nt=Je=Ve=null,Fi=!1,Ui=0,Tu.current=null,l===null||l.return===null){Xe=1,Ki=i,Ge=null;break}e:{var y=r,_=l.return,A=l,j=i;if(i=ct,A.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var F=j,G=A,q=G.tag;if((G.mode&1)===0&&(q===0||q===11||q===15)){var K=G.alternate;K?(G.updateQueue=K.updateQueue,G.memoizedState=K.memoizedState,G.lanes=K.lanes):(G.updateQueue=null,G.memoizedState=null)}var Q=Um(_);if(Q!==null){Q.flags&=-257,Bm(Q,_,A,y,i),Q.mode&1&&Fm(y,F,i),i=Q,j=F;var re=i.updateQueue;if(re===null){var ue=new Set;ue.add(j),i.updateQueue=ue}else re.add(j);break e}else{if((i&1)===0){Fm(y,F,i),Mu();break e}j=Error(n(426))}}else if(Le&&A.mode&1){var Ke=Um(_);if(Ke!==null){(Ke.flags&65536)===0&&(Ke.flags|=256),Bm(Ke,_,A,y,i),Gc(ws(j,A));break e}}y=j=ws(j,A),Xe!==4&&(Xe=2),Gi===null?Gi=[y]:Gi.push(y),y=_;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var L=$m(y,j,i);dm(y,L);break e;case 1:A=j;var I=y.type,V=y.stateNode;if((y.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(nr===null||!nr.has(V)))){y.flags|=65536,i&=-i,y.lanes|=i;var Y=Vm(y,A,i);dm(y,Y);break e}}y=y.return}while(y!==null)}wg(l)}catch(de){i=de,Ge===l&&l!==null&&(Ge=l=l.return);continue}break}while(!0)}function yg(){var r=Pa.current;return Pa.current=Sa,r===null?Sa:r}function Mu(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),rt===null||(jr&268435455)===0&&(Aa&268435455)===0||ir(rt,ct)}function Da(r,i){var l=Te;Te|=2;var d=yg();(rt!==r||ct!==i)&&(In=null,Or(r,i));do try{j_();break}catch(p){gg(r,p)}while(!0);if(Yc(),Te=l,Pa.current=d,Ge!==null)throw Error(n(261));return rt=null,ct=0,Xe}function j_(){for(;Ge!==null;)vg(Ge)}function N_(){for(;Ge!==null&&!rS();)vg(Ge)}function vg(r){var i=Sg(r.alternate,r,Nt);r.memoizedProps=r.pendingProps,i===null?wg(r):Ge=i,Tu.current=null}function wg(r){var i=r;do{var l=i.alternate;if(r=i.return,(i.flags&32768)===0){if(l=k_(l,i,Nt),l!==null){Ge=l;return}}else{if(l=E_(l,i),l!==null){l.flags&=32767,Ge=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Xe=6,Ge=null;return}}if(i=i.sibling,i!==null){Ge=i;return}Ge=i=r}while(i!==null);Xe===0&&(Xe=5)}function Ir(r,i,l){var d=Re,p=Ut.transition;try{Ut.transition=null,Re=1,O_(r,i,l,d)}finally{Ut.transition=p,Re=d}return null}function O_(r,i,l,d){do _s();while(rr!==null);if((Te&6)!==0)throw Error(n(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(hS(r,y),r===rt&&(Ge=rt=null,ct=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ja||(ja=!0,_g(Vo,function(){return _s(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Ut.transition,Ut.transition=null;var _=Re;Re=1;var A=Te;Te|=4,Tu.current=null,T_(r,l),cg(l,r),ZS(Mc),Ko=!!Dc,Mc=Dc=null,r.current=l,P_(l),sS(),Te=A,Re=_,Ut.transition=y}else r.current=l;if(ja&&(ja=!1,rr=r,Na=p),y=r.pendingLanes,y===0&&(nr=null),aS(l.stateNode),Tt(r,He()),i!==null)for(d=r.onRecoverableError,l=0;l<i.length;l++)p=i[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Ra)throw Ra=!1,r=Ru,Ru=null,r;return(Na&1)!==0&&r.tag!==0&&_s(),y=r.pendingLanes,(y&1)!==0?r===ju?qi++:(qi=0,ju=r):qi=0,Qn(),null}function _s(){if(rr!==null){var r=ap(Na),i=Ut.transition,l=Re;try{if(Ut.transition=null,Re=16>r?16:r,rr===null)var d=!1;else{if(r=rr,rr=null,Na=0,(Te&6)!==0)throw Error(n(331));var p=Te;for(Te|=4,ee=r.current;ee!==null;){var y=ee,_=y.child;if((ee.flags&16)!==0){var A=y.deletions;if(A!==null){for(var j=0;j<A.length;j++){var F=A[j];for(ee=F;ee!==null;){var G=ee;switch(G.tag){case 0:case 11:case 15:Hi(8,G,y)}var q=G.child;if(q!==null)q.return=G,ee=q;else for(;ee!==null;){G=ee;var K=G.sibling,Q=G.return;if(sg(G),G===F){ee=null;break}if(K!==null){K.return=Q,ee=K;break}ee=Q}}}var re=y.alternate;if(re!==null){var ue=re.child;if(ue!==null){re.child=null;do{var Ke=ue.sibling;ue.sibling=null,ue=Ke}while(ue!==null)}}ee=y}}if((y.subtreeFlags&2064)!==0&&_!==null)_.return=y,ee=_;else e:for(;ee!==null;){if(y=ee,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Hi(9,y,y.return)}var L=y.sibling;if(L!==null){L.return=y.return,ee=L;break e}ee=y.return}}var I=r.current;for(ee=I;ee!==null;){_=ee;var V=_.child;if((_.subtreeFlags&2064)!==0&&V!==null)V.return=_,ee=V;else e:for(_=I;ee!==null;){if(A=ee,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Ta(9,A)}}catch(de){Ue(A,A.return,de)}if(A===_){ee=null;break e}var Y=A.sibling;if(Y!==null){Y.return=A.return,ee=Y;break e}ee=A.return}}if(Te=p,Qn(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Fo,r)}catch{}d=!0}return d}finally{Re=l,Ut.transition=i}}return!1}function xg(r,i,l){i=ws(l,i),i=$m(r,i,1),r=er(r,i,1),i=wt(),r!==null&&(vi(r,1,i),Tt(r,i))}function Ue(r,i,l){if(r.tag===3)xg(r,r,l);else for(;i!==null;){if(i.tag===3){xg(i,r,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(nr===null||!nr.has(d))){r=ws(l,r),r=Vm(i,r,1),i=er(i,r,1),r=wt(),i!==null&&(vi(i,1,r),Tt(i,r));break}}i=i.return}}function I_(r,i,l){var d=r.pingCache;d!==null&&d.delete(i),i=wt(),r.pingedLanes|=r.suspendedLanes&l,rt===r&&(ct&l)===l&&(Xe===4||Xe===3&&(ct&130023424)===ct&&500>He()-Au?Or(r,0):Pu|=l),Tt(r,i)}function bg(r,i){i===0&&((r.mode&1)===0?i=1:(i=Bo,Bo<<=1,(Bo&130023424)===0&&(Bo=4194304)));var l=wt();r=jn(r,i),r!==null&&(vi(r,i,l),Tt(r,l))}function D_(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),bg(r,l)}function M_(r,i){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),bg(r,l)}var Sg;Sg=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||_t.current)Et=!0;else{if((r.lanes&l)===0&&(i.flags&128)===0)return Et=!1,__(r,i,l);Et=(r.flags&131072)!==0}else Et=!1,Le&&(i.flags&1048576)!==0&&tm(i,ua,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Ea(r,i),r=i.pendingProps;var p=ds(i,ht.current);ys(i,l),p=ou(null,i,d,r,p,l);var y=au();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,kt(d)?(y=!0,aa(i)):y=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Zc(i),p.updater=_a,i.stateNode=p,p._reactInternals=i,hu(i,d,r,l),i=yu(null,i,d,!0,y,l)):(i.tag=0,Le&&y&&zc(i),vt(null,i,p,l),i=i.child),i;case 16:d=i.elementType;e:{switch(Ea(r,i),r=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=$_(d),r=Xt(d,r),p){case 0:i=gu(null,i,d,r,l);break e;case 1:i=qm(null,i,d,r,l);break e;case 11:i=zm(null,i,d,r,l);break e;case 14:i=Wm(null,i,d,Xt(d.type,r),l);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Xt(d,p),gu(r,i,d,p,l);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Xt(d,p),qm(r,i,d,p,l);case 3:e:{if(Ym(i),r===null)throw Error(n(387));d=i.pendingProps,y=i.memoizedState,p=y.element,um(r,i),ga(i,d,null,l);var _=i.memoizedState;if(d=_.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){p=ws(Error(n(423)),i),i=Jm(r,i,d,l,p);break e}else if(d!==p){p=ws(Error(n(424)),i),i=Jm(r,i,d,l,p);break e}else for(jt=Yn(i.stateNode.containerInfo.firstChild),Rt=i,Le=!0,Jt=null,l=lm(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ps(),d===p){i=On(r,i,l);break e}vt(r,i,d,l)}i=i.child}return i;case 5:return hm(i),r===null&&Kc(i),d=i.type,p=i.pendingProps,y=r!==null?r.memoizedProps:null,_=p.children,Lc(d,p)?_=null:y!==null&&Lc(d,y)&&(i.flags|=32),Gm(r,i),vt(r,i,_,l),i.child;case 6:return r===null&&Kc(i),null;case 13:return Xm(r,i,l);case 4:return eu(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=ms(i,null,d,l):vt(r,i,d,l),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Xt(d,p),zm(r,i,d,p,l);case 7:return vt(r,i,i.pendingProps,l),i.child;case 8:return vt(r,i,i.pendingProps.children,l),i.child;case 12:return vt(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,y=i.memoizedProps,_=p.value,je(ha,d._currentValue),d._currentValue=_,y!==null)if(Yt(y.value,_)){if(y.children===p.children&&!_t.current){i=On(r,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var A=y.dependencies;if(A!==null){_=y.child;for(var j=A.firstContext;j!==null;){if(j.context===d){if(y.tag===1){j=Nn(-1,l&-l),j.tag=2;var F=y.updateQueue;if(F!==null){F=F.shared;var G=F.pending;G===null?j.next=j:(j.next=G.next,G.next=j),F.pending=j}}y.lanes|=l,j=y.alternate,j!==null&&(j.lanes|=l),Xc(y.return,l,i),A.lanes|=l;break}j=j.next}}else if(y.tag===10)_=y.type===i.type?null:y.child;else if(y.tag===18){if(_=y.return,_===null)throw Error(n(341));_.lanes|=l,A=_.alternate,A!==null&&(A.lanes|=l),Xc(_,l,i),_=y.sibling}else _=y.child;if(_!==null)_.return=y;else for(_=y;_!==null;){if(_===i){_=null;break}if(y=_.sibling,y!==null){y.return=_.return,_=y;break}_=_.return}y=_}vt(r,i,p.children,l),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,ys(i,l),p=Vt(p),d=d(p),i.flags|=1,vt(r,i,d,l),i.child;case 14:return d=i.type,p=Xt(d,i.pendingProps),p=Xt(d.type,p),Wm(r,i,d,p,l);case 15:return Hm(r,i,i.type,i.pendingProps,l);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:Xt(d,p),Ea(r,i),i.tag=1,kt(d)?(r=!0,aa(i)):r=!1,ys(i,l),Mm(i,d,p),hu(i,d,p,l),yu(null,i,d,!0,r,l);case 19:return Zm(r,i,l);case 22:return Km(r,i,l)}throw Error(n(156,i.tag))};function _g(r,i){return np(r,i)}function L_(r,i,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(r,i,l,d){return new L_(r,i,l,d)}function Lu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $_(r){if(typeof r=="function")return Lu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ce)return 11;if(r===he)return 14}return 2}function or(r,i){var l=r.alternate;return l===null?(l=Bt(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Ma(r,i,l,d,p,y){var _=2;if(d=r,typeof r=="function")Lu(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case U:return Dr(l.children,p,y,i);case $:_=8,p|=8;break;case J:return r=Bt(12,l,i,p|2),r.elementType=J,r.lanes=y,r;case me:return r=Bt(13,l,i,p),r.elementType=me,r.lanes=y,r;case Z:return r=Bt(19,l,i,p),r.elementType=Z,r.lanes=y,r;case B:return La(l,p,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ne:_=10;break e;case ae:_=9;break e;case ce:_=11;break e;case he:_=14;break e;case le:_=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Bt(_,l,i,p),i.elementType=r,i.type=d,i.lanes=y,i}function Dr(r,i,l,d){return r=Bt(7,r,d,i),r.lanes=l,r}function La(r,i,l,d){return r=Bt(22,r,d,i),r.elementType=B,r.lanes=l,r.stateNode={isHidden:!1},r}function $u(r,i,l){return r=Bt(6,r,null,i),r.lanes=l,r}function Vu(r,i,l){return i=Bt(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function V_(r,i,l,d,p){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fc(0),this.expirationTimes=fc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fc(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Fu(r,i,l,d,p,y,_,A,j){return r=new V_(r,i,l,A,j),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Bt(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zc(y),r}function F_(r,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:d==null?null:""+d,children:r,containerInfo:i,implementation:l}}function kg(r){if(!r)return Xn;r=r._reactInternals;e:{if(_r(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(kt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(kt(l))return Qp(r,l,i)}return i}function Eg(r,i,l,d,p,y,_,A,j){return r=Fu(l,d,!0,r,p,y,_,A,j),r.context=kg(null),l=r.current,d=wt(),p=sr(l),y=Nn(d,p),y.callback=i??null,er(l,y,p),r.current.lanes=p,vi(r,p,d),Tt(r,d),r}function $a(r,i,l,d){var p=i.current,y=wt(),_=sr(p);return l=kg(l),i.context===null?i.context=l:i.pendingContext=l,i=Nn(y,_),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=er(p,i,_),r!==null&&(en(r,p,_,y),ma(r,p,_)),_}function Va(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Cg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function Uu(r,i){Cg(r,i),(r=r.alternate)&&Cg(r,i)}function U_(){return null}var Tg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Bu(r){this._internalRoot=r}Fa.prototype.render=Bu.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));$a(r,i,null,null)},Fa.prototype.unmount=Bu.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Nr(function(){$a(null,r,null,null)}),i[Tn]=null}};function Fa(r){this._internalRoot=r}Fa.prototype.unstable_scheduleHydration=function(r){if(r){var i=up();r={blockedOn:null,target:r,priority:i};for(var l=0;l<Kn.length&&i!==0&&i<Kn[l].priority;l++);Kn.splice(l,0,r),l===0&&hp(r)}};function zu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ua(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Pg(){}function B_(r,i,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var F=Va(_);y.call(F)}}var _=Eg(i,d,r,0,null,!1,!1,"",Pg);return r._reactRootContainer=_,r[Tn]=_.current,Ni(r.nodeType===8?r.parentNode:r),Nr(),_}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var A=d;d=function(){var F=Va(j);A.call(F)}}var j=Fu(r,0,!1,null,null,!1,!1,"",Pg);return r._reactRootContainer=j,r[Tn]=j.current,Ni(r.nodeType===8?r.parentNode:r),Nr(function(){$a(i,j,l,d)}),j}function Ba(r,i,l,d,p){var y=l._reactRootContainer;if(y){var _=y;if(typeof p=="function"){var A=p;p=function(){var j=Va(_);A.call(j)}}$a(i,_,r,p)}else _=B_(l,i,r,p,d);return Va(_)}lp=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=yi(i.pendingLanes);l!==0&&(hc(i,l|1),Tt(i,He()),(Te&6)===0&&(Ss=He()+500,Qn()))}break;case 13:Nr(function(){var d=jn(r,1);if(d!==null){var p=wt();en(d,r,1,p)}}),Uu(r,1)}},pc=function(r){if(r.tag===13){var i=jn(r,134217728);if(i!==null){var l=wt();en(i,r,134217728,l)}Uu(r,134217728)}},cp=function(r){if(r.tag===13){var i=sr(r),l=jn(r,i);if(l!==null){var d=wt();en(l,r,i,d)}Uu(r,i)}},up=function(){return Re},dp=function(r,i){var l=Re;try{return Re=r,i()}finally{Re=l}},oc=function(r,i,l){switch(i){case"input":if(ui(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==r&&d.form===r.form){var p=ia(d);if(!p)throw Error(n(90));fn(d),ui(d,p)}}}break;case"textarea":Fh(r,l);break;case"select":i=l.value,i!=null&&Zr(r,!!l.multiple,i,!1)}},Yh=Iu,Jh=Nr;var z_={usingClientEntryPoint:!1,Events:[Di,cs,ia,Gh,qh,Iu]},Yi={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W_={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ep(r),r===null?null:r.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance||U_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!za.isDisabled&&za.supportsFiber)try{Fo=za.inject(W_),pn=za}catch{}}return Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z_,Pt.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zu(i))throw Error(n(200));return F_(r,i,null,l)},Pt.createRoot=function(r,i){if(!zu(r))throw Error(n(299));var l=!1,d="",p=Tg;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=Fu(r,1,!1,null,null,l,!1,d,p),r[Tn]=i.current,Ni(r.nodeType===8?r.parentNode:r),new Bu(i)},Pt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=ep(i),r=r===null?null:r.stateNode,r},Pt.flushSync=function(r){return Nr(r)},Pt.hydrate=function(r,i,l){if(!Ua(i))throw Error(n(200));return Ba(null,r,i,!0,l)},Pt.hydrateRoot=function(r,i,l){if(!zu(r))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",_=Tg;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),i=Eg(i,null,r,1,l??null,p,!1,y,_),r[Tn]=i.current,Ni(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new Fa(i)},Pt.render=function(r,i,l){if(!Ua(i))throw Error(n(200));return Ba(null,r,i,!1,l)},Pt.unmountComponentAtNode=function(r){if(!Ua(r))throw Error(n(40));return r._reactRootContainer?(Nr(function(){Ba(null,null,r,!1,function(){r._reactRootContainer=null,r[Tn]=null})}),!0):!1},Pt.unstable_batchedUpdates=Iu,Pt.unstable_renderSubtreeIntoContainer=function(r,i,l,d){if(!Ua(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Ba(r,i,l,!1,d)},Pt.version="18.3.1-next-f1338f8080-20240426",Pt}var Mg;function n0(){if(Mg)return Ku.exports;Mg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ku.exports=Q_(),Ku.exports}var Lg;function Z_(){if(Lg)return Wa;Lg=1;var t=n0();return Wa.createRoot=t.createRoot,Wa.hydrateRoot=t.hydrateRoot,Wa}var e1=Z_(),E=jf();const cr=t0(E),t1=K_({__proto__:null,default:cr},[E]),r0=E.createContext({});function n1(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const s0=typeof window<"u",r1=s0?E.useLayoutEffect:E.useEffect,Nf=E.createContext(null);function Of(t,e){t.indexOf(e)===-1&&t.push(e)}function El(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const kn=(t,e,n)=>n>e?e:n<t?t:n;let If=()=>{};const $n={},i0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function o0(t){return typeof t=="object"&&t!==null}const a0=t=>/^0[^.\s]+$/u.test(t);function Df(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ht=t=>t,s1=(t,e)=>n=>e(t(n)),Eo=(...t)=>t.reduce(s1),fo=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Mf{constructor(){this.subscriptions=[]}add(e){return Of(this.subscriptions,e),()=>El(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let a=0;a<o;a++){const c=this.subscriptions[a];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ln=t=>t*1e3,Wt=t=>t/1e3;function l0(t,e){return e?t*(1e3/e):0}const c0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,i1=1e-7,o1=12;function a1(t,e,n,s,o){let a,c,u=0;do c=e+(n-e)/2,a=c0(c,s,o)-t,a>0?n=c:e=c;while(Math.abs(a)>i1&&++u<o1);return c}function Co(t,e,n,s){if(t===e&&n===s)return Ht;const o=a=>a1(a,0,1,t,n);return a=>a===0||a===1?a:c0(o(a),e,s)}const u0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,d0=t=>e=>1-t(1-e),f0=Co(.33,1.53,.69,.99),Lf=d0(f0),h0=u0(Lf),p0=t=>(t*=2)<1?.5*Lf(t):.5*(2-Math.pow(2,-10*(t-1))),$f=t=>1-Math.sin(Math.acos(t)),m0=d0($f),g0=u0($f),l1=Co(.42,0,1,1),c1=Co(0,0,.58,1),y0=Co(.42,0,.58,1),u1=t=>Array.isArray(t)&&typeof t[0]!="number",v0=t=>Array.isArray(t)&&typeof t[0]=="number",d1={linear:Ht,easeIn:l1,easeInOut:y0,easeOut:c1,circIn:$f,circInOut:g0,circOut:m0,backIn:Lf,backInOut:h0,backOut:f0,anticipate:p0},f1=t=>typeof t=="string",$g=t=>{if(v0(t)){If(t.length===4);const[e,n,s,o]=t;return Co(e,n,s,o)}else if(f1(t))return d1[t];return t},Ha=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function h1(t,e){let n=new Set,s=new Set,o=!1,a=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(m){c.has(m)&&(h.schedule(m),t()),m(u)}const h={schedule:(m,v=!1,w=!1)=>{const S=w&&o?n:s;return v&&c.add(m),S.has(m)||S.add(m),m},cancel:m=>{s.delete(m),c.delete(m)},process:m=>{if(u=m,o){a=!0;return}o=!0,[n,s]=[s,n],n.forEach(f),n.clear(),o=!1,a&&(a=!1,h.process(m))}};return h}const p1=40;function w0(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,c=Ha.reduce((T,R)=>(T[R]=h1(a),T),{}),{setup:u,read:f,resolveKeyframes:h,preUpdate:m,update:v,preRender:w,render:x,postRender:S}=c,b=()=>{const T=$n.useManualTiming?o.timestamp:performance.now();n=!1,$n.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(T-o.timestamp,p1),1)),o.timestamp=T,o.isProcessing=!0,u.process(o),f.process(o),h.process(o),m.process(o),v.process(o),w.process(o),x.process(o),S.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(b))},k=()=>{n=!0,s=!0,o.isProcessing||t(b)};return{schedule:Ha.reduce((T,R)=>{const D=c[R];return T[R]=(M,U=!1,$=!1)=>(n||k(),D.schedule(M,U,$)),T},{}),cancel:T=>{for(let R=0;R<Ha.length;R++)c[Ha[R]].cancel(T)},state:o,steps:c}}const{schedule:Ie,cancel:gr,state:ft,steps:Yu}=w0(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ht,!0);let hl;function m1(){hl=void 0}const bt={now:()=>(hl===void 0&&bt.set(ft.isProcessing||$n.useManualTiming?ft.timestamp:performance.now()),hl),set:t=>{hl=t,queueMicrotask(m1)}},x0=t=>e=>typeof e=="string"&&e.startsWith(t),b0=x0("--"),g1=x0("var(--"),Vf=t=>g1(t)?y1.test(t.split("/*")[0].trim()):!1,y1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Vg(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Zs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ho={...Zs,transform:t=>kn(0,1,t)},Ka={...Zs,default:1},so=t=>Math.round(t*1e5)/1e5,Ff=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function v1(t){return t==null}const w1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Uf=(t,e)=>n=>!!(typeof n=="string"&&w1.test(n)&&n.startsWith(t)||e&&!v1(n)&&Object.prototype.hasOwnProperty.call(n,e)),S0=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,a,c,u]=s.match(Ff);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},x1=t=>kn(0,255,t),Ju={...Zs,transform:t=>Math.round(x1(t))},Wr={test:Uf("rgb","red"),parse:S0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Ju.transform(t)+", "+Ju.transform(e)+", "+Ju.transform(n)+", "+so(ho.transform(s))+")"};function b1(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Dd={test:Uf("#"),parse:b1,transform:Wr.transform},To=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ur=To("deg"),Sn=To("%"),oe=To("px"),S1=To("vh"),_1=To("vw"),Fg={...Sn,parse:t=>Sn.parse(t)/100,transform:t=>Sn.transform(t*100)},$s={test:Uf("hsl","hue"),parse:S0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Sn.transform(so(e))+", "+Sn.transform(so(n))+", "+so(ho.transform(s))+")"},Ye={test:t=>Wr.test(t)||Dd.test(t)||$s.test(t),parse:t=>Wr.test(t)?Wr.parse(t):$s.test(t)?$s.parse(t):Dd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wr.transform(t):$s.transform(t),getAnimatableNone:t=>{const e=Ye.parse(t);return e.alpha=0,Ye.transform(e)}},k1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function E1(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ff))==null?void 0:e.length)||0)+(((n=t.match(k1))==null?void 0:n.length)||0)>0}const _0="number",k0="color",C1="var",T1="var(",Ug="${}",P1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function po(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let a=0;const u=e.replace(P1,f=>(Ye.test(f)?(s.color.push(a),o.push(k0),n.push(Ye.parse(f))):f.startsWith(T1)?(s.var.push(a),o.push(C1),n.push(f)):(s.number.push(a),o.push(_0),n.push(parseFloat(f))),++a,Ug)).split(Ug);return{values:n,split:u,indexes:s,types:o}}function E0(t){return po(t).values}function C0(t){const{split:e,types:n}=po(t),s=e.length;return o=>{let a="";for(let c=0;c<s;c++)if(a+=e[c],o[c]!==void 0){const u=n[c];u===_0?a+=so(o[c]):u===k0?a+=Ye.transform(o[c]):a+=o[c]}return a}}const A1=t=>typeof t=="number"?0:Ye.test(t)?Ye.getAnimatableNone(t):t;function R1(t){const e=E0(t);return C0(t)(e.map(A1))}const yr={test:E1,parse:E0,createTransformer:C0,getAnimatableNone:R1};function Xu(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function j1({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,a=0,c=0;if(!e)o=a=c=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;o=Xu(f,u,t+1/3),a=Xu(f,u,t),c=Xu(f,u,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:s}}function Cl(t,e){return n=>n>0?e:t}const Fe=(t,e,n)=>t+(e-t)*n,Qu=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},N1=[Dd,Wr,$s],O1=t=>N1.find(e=>e.test(t));function Bg(t){const e=O1(t);if(!e)return!1;let n=e.parse(t);return e===$s&&(n=j1(n)),n}const zg=(t,e)=>{const n=Bg(t),s=Bg(e);if(!n||!s)return Cl(t,e);const o={...n};return a=>(o.red=Qu(n.red,s.red,a),o.green=Qu(n.green,s.green,a),o.blue=Qu(n.blue,s.blue,a),o.alpha=Fe(n.alpha,s.alpha,a),Wr.transform(o))},Md=new Set(["none","hidden"]);function I1(t,e){return Md.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function D1(t,e){return n=>Fe(t,e,n)}function Bf(t){return typeof t=="number"?D1:typeof t=="string"?Vf(t)?Cl:Ye.test(t)?zg:$1:Array.isArray(t)?T0:typeof t=="object"?Ye.test(t)?zg:M1:Cl}function T0(t,e){const n=[...t],s=n.length,o=t.map((a,c)=>Bf(a)(a,e[c]));return a=>{for(let c=0;c<s;c++)n[c]=o[c](a);return n}}function M1(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Bf(t[o])(t[o],e[o]));return o=>{for(const a in s)n[a]=s[a](o);return n}}function L1(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],c=t.indexes[a][s[a]],u=t.values[c]??0;n[o]=u,s[a]++}return n}const $1=(t,e)=>{const n=yr.createTransformer(e),s=po(t),o=po(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Md.has(t)&&!o.values.length||Md.has(e)&&!s.values.length?I1(t,e):Eo(T0(L1(s,o),o.values),n):Cl(t,e)};function P0(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Fe(t,e,n):Bf(t)(t,e)}const V1=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ie.update(e,n),stop:()=>gr(e),now:()=>ft.isProcessing?ft.timestamp:bt.now()}},A0=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)s+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Tl=2e4;function zf(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Tl;)e+=n,s=t.next(e);return e>=Tl?1/0:e}function F1(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(zf(s),Tl);return{type:"keyframes",ease:a=>s.next(o*a).value/e,duration:Wt(o)}}const U1=5;function R0(t,e,n){const s=Math.max(e-U1,0);return l0(n-t(s),e-s)}const ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zu=.001;function B1({duration:t=ze.duration,bounce:e=ze.bounce,velocity:n=ze.velocity,mass:s=ze.mass}){let o,a,c=1-e;c=kn(ze.minDamping,ze.maxDamping,c),t=kn(ze.minDuration,ze.maxDuration,Wt(t)),c<1?(o=h=>{const m=h*c,v=m*t,w=m-n,x=Ld(h,c),S=Math.exp(-v);return Zu-w/x*S},a=h=>{const v=h*c*t,w=v*n+n,x=Math.pow(c,2)*Math.pow(h,2)*t,S=Math.exp(-v),b=Ld(Math.pow(h,2),c);return(-o(h)+Zu>0?-1:1)*((w-x)*S)/b}):(o=h=>{const m=Math.exp(-h*t),v=(h-n)*t+1;return-Zu+m*v},a=h=>{const m=Math.exp(-h*t),v=(n-h)*(t*t);return m*v});const u=5/t,f=W1(o,a,u);if(t=ln(t),isNaN(f))return{stiffness:ze.stiffness,damping:ze.damping,duration:t};{const h=Math.pow(f,2)*s;return{stiffness:h,damping:c*2*Math.sqrt(s*h),duration:t}}}const z1=12;function W1(t,e,n){let s=n;for(let o=1;o<z1;o++)s=s-t(s)/e(s);return s}function Ld(t,e){return t*Math.sqrt(1-e*e)}const H1=["duration","bounce"],K1=["stiffness","damping","mass"];function Wg(t,e){return e.some(n=>t[n]!==void 0)}function G1(t){let e={velocity:ze.velocity,stiffness:ze.stiffness,damping:ze.damping,mass:ze.mass,isResolvedFromDuration:!1,...t};if(!Wg(t,K1)&&Wg(t,H1))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,a=2*kn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:ze.mass,stiffness:o,damping:a}}else{const n=B1(t);e={...e,...n,mass:ze.mass},e.isResolvedFromDuration=!0}return e}function Pl(t=ze.visualDuration,e=ze.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const a=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:f,damping:h,mass:m,duration:v,velocity:w,isResolvedFromDuration:x}=G1({...n,velocity:-Wt(n.velocity||0)}),S=w||0,b=h/(2*Math.sqrt(f*m)),k=c-a,C=Wt(Math.sqrt(f/m)),P=Math.abs(k)<5;s||(s=P?ze.restSpeed.granular:ze.restSpeed.default),o||(o=P?ze.restDelta.granular:ze.restDelta.default);let T;if(b<1){const D=Ld(C,b);T=M=>{const U=Math.exp(-b*C*M);return c-U*((S+b*C*k)/D*Math.sin(D*M)+k*Math.cos(D*M))}}else if(b===1)T=D=>c-Math.exp(-C*D)*(k+(S+C*k)*D);else{const D=C*Math.sqrt(b*b-1);T=M=>{const U=Math.exp(-b*C*M),$=Math.min(D*M,300);return c-U*((S+b*C*k)*Math.sinh($)+D*k*Math.cosh($))/D}}const R={calculatedDuration:x&&v||null,next:D=>{const M=T(D);if(x)u.done=D>=v;else{let U=D===0?S:0;b<1&&(U=D===0?ln(S):R0(T,D,M));const $=Math.abs(U)<=s,J=Math.abs(c-M)<=o;u.done=$&&J}return u.value=u.done?c:M,u},toString:()=>{const D=Math.min(zf(R),Tl),M=A0(U=>R.next(D*U).value,D,30);return D+"ms "+M},toTransition:()=>{}};return R}Pl.applyToOptions=t=>{const e=F1(t,100,Pl);return t.ease=e.ease,t.duration=ln(e.duration),t.type="keyframes",t};function $d({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:c,min:u,max:f,restDelta:h=.5,restSpeed:m}){const v=t[0],w={done:!1,value:v},x=$=>u!==void 0&&$<u||f!==void 0&&$>f,S=$=>u===void 0?f:f===void 0||Math.abs(u-$)<Math.abs(f-$)?u:f;let b=n*e;const k=v+b,C=c===void 0?k:c(k);C!==k&&(b=C-v);const P=$=>-b*Math.exp(-$/s),T=$=>C+P($),R=$=>{const J=P($),ne=T($);w.done=Math.abs(J)<=h,w.value=w.done?C:ne};let D,M;const U=$=>{x(w.value)&&(D=$,M=Pl({keyframes:[w.value,S(w.value)],velocity:R0(T,$,w.value),damping:o,stiffness:a,restDelta:h,restSpeed:m}))};return U(0),{calculatedDuration:null,next:$=>{let J=!1;return!M&&D===void 0&&(J=!0,R($),U($)),D!==void 0&&$>=D?M.next($-D):(!J&&R($),w)}}}function q1(t,e,n){const s=[],o=n||$n.mix||P0,a=t.length-1;for(let c=0;c<a;c++){let u=o(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Ht:e;u=Eo(f,u)}s.push(u)}return s}function Y1(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const a=t.length;if(If(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=q1(e,s,o),f=u.length,h=m=>{if(c&&m<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(m<t[v+1]);v++);const w=fo(t[v],t[v+1],m);return u[v](w)};return n?m=>h(kn(t[0],t[a-1],m)):h}function J1(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=fo(0,e,s);t.push(Fe(n,1,o))}}function X1(t){const e=[0];return J1(e,t.length-1),e}function Q1(t,e){return t.map(n=>n*e)}function Z1(t,e){return t.map(()=>e||y0).splice(0,t.length-1)}function io({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=u1(s)?s.map($g):$g(s),a={done:!1,value:e[0]},c=Q1(n&&n.length===e.length?n:X1(e),t),u=Y1(c,e,{ease:Array.isArray(o)?o:Z1(e,o)});return{calculatedDuration:t,next:f=>(a.value=u(f),a.done=f>=t,a)}}const ek=t=>t!==null;function Wf(t,{repeat:e,repeatType:n="loop"},s,o=1){const a=t.filter(ek),u=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||s===void 0?a[u]:s}const tk={decay:$d,inertia:$d,tween:io,keyframes:io,spring:Pl};function j0(t){typeof t.type=="string"&&(t.type=tk[t.type])}class Hf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const nk=t=>t/100;class Kf extends Hf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,o;const{motionValue:n}=this.options;n&&n.updatedAt!==bt.now()&&this.tick(bt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(s=this.options).onStop)==null||o.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;j0(e);const{type:n=io,repeat:s=0,repeatDelay:o=0,repeatType:a,velocity:c=0}=e;let{keyframes:u}=e;const f=n||io;f!==io&&typeof u[0]!="number"&&(this.mixKeyframes=Eo(nk,P0(u[0],u[1])),u=[0,100]);const h=f({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=zf(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:a,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:m,repeat:v,repeatType:w,repeatDelay:x,type:S,onUpdate:b,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let T=this.currentTime,R=s;if(v){const $=Math.min(this.currentTime,o)/u;let J=Math.floor($),ne=$%1;!ne&&$>=1&&(ne=1),ne===1&&J--,J=Math.min(J,v+1),!!(J%2)&&(w==="reverse"?(ne=1-ne,x&&(ne-=x/u)):w==="mirror"&&(R=c)),T=kn(0,1,ne)*u}const D=P?{done:!1,value:m[0]}:R.next(T);a&&(D.value=a(D.value));let{done:M}=D;!P&&f!==null&&(M=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return U&&S!==$d&&(D.value=Wf(m,this.options,k,this.speed)),b&&b(D.value),U&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return Wt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wt(e)}get time(){return Wt(this.currentTime)}set time(e){var n;e=ln(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(bt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Wt(this.currentTime))}play(){var o,a;if(this.isStopped)return;const{driver:e=V1,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(a=(o=this.options).onPlay)==null||a.call(o);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function rk(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Hr=t=>t*180/Math.PI,Vd=t=>{const e=Hr(Math.atan2(t[1],t[0]));return Fd(e)},sk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Vd,rotateZ:Vd,skewX:t=>Hr(Math.atan(t[1])),skewY:t=>Hr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Fd=t=>(t=t%360,t<0&&(t+=360),t),Hg=Vd,Kg=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Gg=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ik={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Kg,scaleY:Gg,scale:t=>(Kg(t)+Gg(t))/2,rotateX:t=>Fd(Hr(Math.atan2(t[6],t[5]))),rotateY:t=>Fd(Hr(Math.atan2(-t[2],t[0]))),rotateZ:Hg,rotate:Hg,skewX:t=>Hr(Math.atan(t[4])),skewY:t=>Hr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ud(t){return t.includes("scale")?1:0}function Bd(t,e){if(!t||t==="none")return Ud(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=ik,o=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=sk,o=u}if(!o)return Ud(e);const a=s[e],c=o[1].split(",").map(ak);return typeof a=="function"?a(c):c[a]}const ok=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Bd(n,e)};function ak(t){return parseFloat(t.trim())}const ei=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ti=new Set(ei),qg=t=>t===Zs||t===oe,lk=new Set(["x","y","z"]),ck=ei.filter(t=>!lk.has(t));function uk(t){const e=[];return ck.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const mr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Bd(e,"x"),y:(t,{transform:e})=>Bd(e,"y")};mr.translateX=mr.x;mr.translateY=mr.y;const Gr=new Set;let zd=!1,Wd=!1,Hd=!1;function N0(){if(Wd){const t=Array.from(Gr).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=uk(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([a,c])=>{var u;(u=s.getValue(a))==null||u.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Wd=!1,zd=!1,Gr.forEach(t=>t.complete(Hd)),Gr.clear()}function O0(){Gr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Wd=!0)})}function dk(){Hd=!0,O0(),N0(),Hd=!1}class Gf{constructor(e,n,s,o,a,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=a,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Gr.add(this),zd||(zd=!0,Ie.read(O0),Ie.resolveKeyframes(N0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const a=o==null?void 0:o.get(),c=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const u=s.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),o&&a===void 0&&o.set(e[0])}rk(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Gr.delete(this)}cancel(){this.state==="scheduled"&&(Gr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fk=t=>t.startsWith("--");function hk(t,e,n){fk(e)?t.style.setProperty(e,n):t.style[e]=n}const pk=Df(()=>window.ScrollTimeline!==void 0),mk={};function gk(t,e){const n=Df(t);return()=>mk[e]??n()}const I0=gk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),to=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Yg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:to([0,.65,.55,1]),circOut:to([.55,0,1,.45]),backIn:to([.31,.01,.66,-.59]),backOut:to([.33,1.53,.69,.99])};function D0(t,e){if(t)return typeof t=="function"?I0()?A0(t,e):"ease-out":v0(t)?to(t):Array.isArray(t)?t.map(n=>D0(n,e)||Yg.easeOut):Yg[t]}function yk(t,e,n,{delay:s=0,duration:o=300,repeat:a=0,repeatType:c="loop",ease:u="easeOut",times:f}={},h=void 0){const m={[e]:n};f&&(m.offset=f);const v=D0(u,o);Array.isArray(v)&&(m.easing=v);const w={delay:s,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"};return h&&(w.pseudoElement=h),t.animate(m,w)}function M0(t){return typeof t=="function"&&"applyToOptions"in t}function vk({type:t,...e}){return M0(t)&&I0()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class L0 extends Hf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:a,allowFlatten:c=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=c,this.options=e,If(typeof e.type!="string");const h=vk(e);this.animation=yk(n,s,o,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Wf(o,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):hk(n,s,m),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,s,o;const e=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((o=(s=this.animation).commitStyles)==null||o.call(s))}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Wt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wt(e)}get time(){return Wt(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ln(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&pk()?(this.animation.timeline=e,Ht):n(this)}}const $0={anticipate:p0,backInOut:h0,circInOut:g0};function wk(t){return t in $0}function xk(t){typeof t.ease=="string"&&wk(t.ease)&&(t.ease=$0[t.ease])}const ed=10;class bk extends L0{constructor(e){xk(e),j0(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:a,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new Kf({...c,autoplay:!1}),f=Math.max(ed,bt.now()-this.startTime),h=kn(0,ed,f-ed);n.setWithVelocity(u.sample(Math.max(0,f-h)).value,u.sample(f).value,h),u.stop()}}const Jg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yr.test(t)||t==="0")&&!t.startsWith("url("));function Sk(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function _k(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],c=Jg(o,e),u=Jg(a,e);return!c||!u?!1:Sk(t)||(n==="spring"||M0(n))&&s}function Kd(t){t.duration=0,t.type="keyframes"}const kk=new Set(["opacity","clipPath","filter","transform"]),Ek=Df(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ck(t){var m;const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:a,type:c}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=e.owner.getProps();return Ek()&&n&&kk.has(n)&&(n!=="transform"||!h)&&!f&&!s&&o!=="mirror"&&a!==0&&c!=="inertia"}const Tk=40;class Pk extends Hf{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:c="loop",keyframes:u,name:f,motionValue:h,element:m,...v}){var S;super(),this.stop=()=>{var b,k;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=bt.now();const w={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:a,repeatType:c,name:f,motionValue:h,element:m,...v},x=(m==null?void 0:m.KeyframeResolver)||Gf;this.keyframeResolver=new x(u,(b,k,C)=>this.onKeyframesResolved(b,k,w,!C),f,h,m),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,s,o){var k,C;this.keyframeResolver=void 0;const{name:a,type:c,velocity:u,delay:f,isHandoff:h,onUpdate:m}=s;this.resolvedAt=bt.now(),_k(e,a,c,u)||(($n.instantAnimations||!f)&&(m==null||m(Wf(e,s,n))),e[0]=e[e.length-1],Kd(s),s.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>Tk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},x=!h&&Ck(w),S=(C=(k=w.motionValue)==null?void 0:k.owner)==null?void 0:C.current,b=x?new bk({...w,element:S}):new Kf(w);b.finished.then(()=>{this.notifyFinished()}).catch(Ht),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),dk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function V0(t,e,n,s=0,o=1){const a=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),c=t.size,u=(c-1)*s;return typeof n=="function"?n(a,c):o===1?a*s:u-a*s}const Ak=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Rk(t){const e=Ak.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function F0(t,e,n=1){const[s,o]=Rk(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const c=a.trim();return i0(c)?parseFloat(c):c}return Vf(o)?F0(o,e,n+1):o}const jk={type:"spring",stiffness:500,damping:25,restSpeed:10},Nk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Ok={type:"keyframes",duration:.8},Ik={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dk=(t,{keyframes:e})=>e.length>2?Ok:ti.has(t)?t.startsWith("scale")?Nk(e[1]):jk:Ik,Mk=t=>t!==null;function Lk(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(Mk),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}function U0(t,e){if(t!=null&&t.inherit&&e){const{inherit:n,...s}=t;return{...e,...s}}return t}function qf(t,e){const n=(t==null?void 0:t[e])??(t==null?void 0:t.default)??t;return n!==t?U0(n,t):n}function $k({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:a,repeatType:c,repeatDelay:u,from:f,elapsed:h,...m}){return!!Object.keys(m).length}const Yf=(t,e,n,s={},o,a)=>c=>{const u=qf(s,t)||{},f=u.delay||s.delay||0;let{elapsed:h=0}=s;h=h-ln(f);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:w=>{e.set(w),u.onUpdate&&u.onUpdate(w)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:o};$k(u)||Object.assign(m,Dk(t,m)),m.duration&&(m.duration=ln(m.duration)),m.repeatDelay&&(m.repeatDelay=ln(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Kd(m),m.delay===0&&(v=!0)),($n.instantAnimations||$n.skipAnimations||o!=null&&o.shouldSkipAnimations)&&(v=!0,Kd(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,v&&!a&&e.get()!==void 0){const w=Lk(m.keyframes,u);if(w!==void 0){Ie.update(()=>{m.onUpdate(w),m.onComplete()});return}}return u.isSync?new Kf(m):new Pk(m)};function Xg(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Jf(t,e,n,s){if(typeof e=="function"){const[o,a]=Xg(s);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=Xg(s);e=e(n!==void 0?n:t.custom,o,a)}return e}function Ws(t,e,n){const s=t.getProps();return Jf(s,e,n!==void 0?n:s.custom,t)}const B0=new Set(["width","height","top","left","right","bottom",...ei]),Qg=30,Vk=t=>!isNaN(parseFloat(t));class Fk{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var a;const o=bt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=bt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Vk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Mf);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=bt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Qg)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Qg);return l0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qs(t,e){return new Fk(t,e)}const Gd=t=>Array.isArray(t);function Uk(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,qs(n))}function Bk(t){return Gd(t)?t[t.length-1]||0:t}function zk(t,e){const n=Ws(t,e);let{transitionEnd:s={},transition:o={},...a}=n||{};a={...a,...s};for(const c in a){const u=Bk(a[c]);Uk(t,c,u)}}const yt=t=>!!(t&&t.getVelocity);function Wk(t){return!!(yt(t)&&t.add)}function qd(t,e){const n=t.getValue("willChange");if(Wk(n))return n.add(e);if(!n&&$n.WillChange){const s=new $n.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Xf(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Hk="framerAppearId",z0="data-"+Xf(Hk);function W0(t){return t.props[z0]}function Kk({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function H0(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:a,transitionEnd:c,...u}=e;const f=t.getDefaultTransition();a=a?U0(a,f):f;const h=a==null?void 0:a.reduceMotion;s&&(a=s);const m=[],v=o&&t.animationState&&t.animationState.getState()[o];for(const w in u){const x=t.getValue(w,t.latestValues[w]??null),S=u[w];if(S===void 0||v&&Kk(v,w))continue;const b={delay:n,...qf(a||{},w)},k=x.get();if(k!==void 0&&!x.isAnimating&&!Array.isArray(S)&&S===k&&!b.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const R=W0(t);if(R){const D=window.MotionHandoffAnimation(R,w,Ie);D!==null&&(b.startTime=D,C=!0)}}qd(t,w);const P=h??t.shouldReduceMotion;x.start(Yf(w,x,S,P&&B0.has(w)?{type:!1}:b,t,C));const T=x.animation;T&&m.push(T)}if(c){const w=()=>Ie.update(()=>{c&&zk(t,c)});m.length?Promise.all(m).then(w):w()}return m}function Yd(t,e,n={}){var f;const s=Ws(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const a=s?()=>Promise.all(H0(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:w}=o;return Gk(t,e,h,m,v,w,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[h,m]=u==="beforeChildren"?[a,c]:[c,a];return h().then(()=>m())}else return Promise.all([a(),c(n.delay)])}function Gk(t,e,n=0,s=0,o=0,a=1,c){const u=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),u.push(Yd(f,e,{...c,delay:n+(typeof s=="function"?0:s)+V0(t.variantChildren,f,s,o,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(u)}function qk(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(a=>Yd(t,a,n));s=Promise.all(o)}else if(typeof e=="string")s=Yd(t,e,n);else{const o=typeof e=="function"?Ws(t,e,n.custom):e;s=Promise.all(H0(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const Yk={test:t=>t==="auto",parse:t=>t},K0=t=>e=>e.test(t),G0=[Zs,oe,Sn,ur,_1,S1,Yk],Zg=t=>G0.find(K0(t));function Jk(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||a0(t):!0}const Xk=new Set(["brightness","contrast","saturate","opacity"]);function Qk(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Ff)||[];if(!s)return t;const o=n.replace(s,"");let a=Xk.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+o+")"}const Zk=/\b([a-z-]*)\(.*?\)/gu,Jd={...yr,getAnimatableNone:t=>{const e=t.match(Zk);return e?e.map(Qk).join(" "):t}},ey={...Zs,transform:Math.round},eE={rotate:ur,rotateX:ur,rotateY:ur,rotateZ:ur,scale:Ka,scaleX:Ka,scaleY:Ka,scaleZ:Ka,skew:ur,skewX:ur,skewY:ur,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:ho,originX:Fg,originY:Fg,originZ:oe},Qf={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,top:oe,right:oe,bottom:oe,left:oe,inset:oe,insetBlock:oe,insetBlockStart:oe,insetBlockEnd:oe,insetInline:oe,insetInlineStart:oe,insetInlineEnd:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,paddingBlock:oe,paddingBlockStart:oe,paddingBlockEnd:oe,paddingInline:oe,paddingInlineStart:oe,paddingInlineEnd:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,marginBlock:oe,marginBlockStart:oe,marginBlockEnd:oe,marginInline:oe,marginInlineStart:oe,marginInlineEnd:oe,fontSize:oe,backgroundPositionX:oe,backgroundPositionY:oe,...eE,zIndex:ey,fillOpacity:ho,strokeOpacity:ho,numOctaves:ey},tE={...Qf,color:Ye,backgroundColor:Ye,outlineColor:Ye,fill:Ye,stroke:Ye,borderColor:Ye,borderTopColor:Ye,borderRightColor:Ye,borderBottomColor:Ye,borderLeftColor:Ye,filter:Jd,WebkitFilter:Jd},q0=t=>tE[t];function Y0(t,e){let n=q0(t);return n!==Jd&&(n=yr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const nE=new Set(["auto","none","0"]);function rE(t,e,n){let s=0,o;for(;s<t.length&&!o;){const a=t[s];typeof a=="string"&&!nE.has(a)&&po(a).values.length&&(o=t[s]),s++}if(o&&n)for(const a of e)t[a]=Y0(n,o)}class sE extends Gf{constructor(e,n,s,o,a){super(e,n,s,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let v=e[m];if(typeof v=="string"&&(v=v.trim(),Vf(v))){const w=F0(v,n.current);w!==void 0&&(e[m]=w),m===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!B0.has(s)||e.length!==2)return;const[o,a]=e,c=Zg(o),u=Zg(a),f=Vg(o),h=Vg(a);if(f!==h&&mr[s]){this.needsMeasurement=!0;return}if(c!==u)if(qg(c)&&qg(u))for(let m=0;m<e.length;m++){const v=e[m];typeof v=="string"&&(e[m]=parseFloat(v))}else mr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||Jk(e[o]))&&s.push(o);s.length&&rE(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=s.length-1,c=s[a];s[a]=mr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([f,h])=>{e.getValue(f).set(h)}),this.resolveNoneKeyframes()}}const iE=new Set(["opacity","clipPath","filter","transform"]);function J0(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=(n==null?void 0:n[t])??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(s=>s!=null)}const X0=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function oE(t){return o0(t)&&"offsetHeight"in t}const{schedule:Zf}=w0(queueMicrotask,!1),rn={x:!1,y:!1};function Q0(){return rn.x||rn.y}function aE(t){return t==="x"||t==="y"?rn[t]?null:(rn[t]=!0,()=>{rn[t]=!1}):rn.x||rn.y?null:(rn.x=rn.y=!0,()=>{rn.x=rn.y=!1})}function Z0(t,e){const n=J0(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function lE(t){return!(t.pointerType==="touch"||Q0())}function cE(t,e,n={}){const[s,o,a]=Z0(t,n);return s.forEach(c=>{let u=!1,f=!1,h;const m=()=>{c.removeEventListener("pointerleave",S)},v=k=>{h&&(h(k),h=void 0),m()},w=k=>{u=!1,window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",w),f&&(f=!1,v(k))},x=()=>{u=!0,window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",w,o)},S=k=>{if(k.pointerType!=="touch"){if(u){f=!0;return}v(k)}},b=k=>{if(!lE(k))return;f=!1;const C=e(c,k);typeof C=="function"&&(h=C,c.addEventListener("pointerleave",S,o))};c.addEventListener("pointerenter",b,o),c.addEventListener("pointerdown",x,o)}),a}const ew=(t,e)=>e?t===e?!0:ew(t,e.parentElement):!1,eh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,uE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dE(t){return uE.has(t.tagName)||t.isContentEditable===!0}const fE=new Set(["INPUT","SELECT","TEXTAREA"]);function hE(t){return fE.has(t.tagName)||t.isContentEditable===!0}const pl=new WeakSet;function ty(t){return e=>{e.key==="Enter"&&t(e)}}function td(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pE=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=ty(()=>{if(pl.has(n))return;td(n,"down");const o=ty(()=>{td(n,"up")}),a=()=>td(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function ny(t){return eh(t)&&!Q0()}const ry=new WeakSet;function mE(t,e,n={}){const[s,o,a]=Z0(t,n),c=u=>{const f=u.currentTarget;if(!ny(u)||ry.has(u))return;pl.add(f),n.stopPropagation&&ry.add(u);const h=e(f,u),m=(x,S)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),pl.has(f)&&pl.delete(f),ny(x)&&typeof h=="function"&&h(x,{success:S})},v=x=>{m(x,f===window||f===document||n.useGlobalTarget||ew(f,x.target))},w=x=>{m(x,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",w,o)};return s.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,o),oE(u)&&(u.addEventListener("focus",h=>pE(h,o)),!dE(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function th(t){return o0(t)&&"ownerSVGElement"in t}const ml=new WeakMap;let dr;const tw=(t,e,n)=>(s,o)=>o&&o[0]?o[0][t+"Size"]:th(s)&&"getBBox"in s?s.getBBox()[e]:s[n],gE=tw("inline","width","offsetWidth"),yE=tw("block","height","offsetHeight");function vE({target:t,borderBoxSize:e}){var n;(n=ml.get(t))==null||n.forEach(s=>{s(t,{get width(){return gE(t,e)},get height(){return yE(t,e)}})})}function wE(t){t.forEach(vE)}function xE(){typeof ResizeObserver>"u"||(dr=new ResizeObserver(wE))}function bE(t,e){dr||xE();const n=J0(t);return n.forEach(s=>{let o=ml.get(s);o||(o=new Set,ml.set(s,o)),o.add(e),dr==null||dr.observe(s)}),()=>{n.forEach(s=>{const o=ml.get(s);o==null||o.delete(e),o!=null&&o.size||dr==null||dr.unobserve(s)})}}const gl=new Set;let Vs;function SE(){Vs=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};gl.forEach(e=>e(t))},window.addEventListener("resize",Vs)}function _E(t){return gl.add(t),Vs||SE(),()=>{gl.delete(t),!gl.size&&typeof Vs=="function"&&(window.removeEventListener("resize",Vs),Vs=void 0)}}function sy(t,e){return typeof t=="function"?_E(t):bE(t,e)}function kE(t){return th(t)&&t.tagName==="svg"}const EE=[...G0,Ye,yr],CE=t=>EE.find(K0(t)),iy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fs=()=>({x:iy(),y:iy()}),oy=()=>({min:0,max:0}),et=()=>({x:oy(),y:oy()}),TE=new WeakMap;function Bl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function mo(t){return typeof t=="string"||Array.isArray(t)}const nh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rh=["initial",...nh];function zl(t){return Bl(t.animate)||rh.some(e=>mo(t[e]))}function nw(t){return!!(zl(t)||t.variants)}function PE(t,e,n){for(const s in e){const o=e[s],a=n[s];if(yt(o))t.addValue(s,o);else if(yt(a))t.addValue(s,qs(o,{owner:t}));else if(a!==o)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(s);t.addValue(s,qs(c!==void 0?c:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Xd={current:null},rw={current:!1},AE=typeof window<"u";function RE(){if(rw.current=!0,!!AE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xd.current=t.matches;t.addEventListener("change",e),e()}else Xd.current=!1}const ay=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Al={};function sw(t){Al=t}function jE(){return Al}class NE{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,skipAnimations:a,blockInitialAnimation:c,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Gf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=bt.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ie.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.skipAnimationsConfig=a,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=zl(n),this.isVariantNode=nw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in w){const S=w[x];h[x]!==void 0&&yt(S)&&S.set(h[x])}}mount(e){var n,s;if(this.hasBeenMounted)for(const o in this.initialValues)(n=this.values.get(o))==null||n.jump(this.initialValues[o]),this.latestValues[o]=this.initialValues[o];this.current=e,TE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,a)=>this.bindToMotionValue(a,o)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(rw.current||RE(),this.shouldReduceMotion=Xd.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var e;this.projection&&this.projection.unmount(),gr(this.notifyUpdate),gr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&iE.has(e)&&this.current instanceof HTMLElement){const{factory:c,keyframes:u,times:f,ease:h,duration:m}=n.accelerate,v=new L0({element:this.current,name:e,keyframes:u,times:f,ease:h,duration:ln(m)}),w=c(v);this.valueSubscriptions.set(e,()=>{w(),v.cancel()});return}const s=ti.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ie.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Al){const n=Al[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ay.length;s++){const o=ay[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,c=e[a];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=PE(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=qs(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(i0(s)||a0(s))?s=parseFloat(s):!CE(s)&&yr.test(n)&&(s=Y0(e,n)),this.setBaseTarget(e,yt(s)?s.get():s)),yt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Jf(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!yt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Mf),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Zf.render(this.render)}}class iw extends NE{constructor(){super(...arguments),this.KeyframeResolver=sE}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class br{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ow({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function OE({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function IE(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function nd(t){return t===void 0||t===1}function Qd({scale:t,scaleX:e,scaleY:n}){return!nd(t)||!nd(e)||!nd(n)}function Fr(t){return Qd(t)||aw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function aw(t){return ly(t.x)||ly(t.y)}function ly(t){return t&&t!=="0%"}function Rl(t,e,n){const s=t-n,o=e*s;return n+o}function cy(t,e,n,s,o){return o!==void 0&&(t=Rl(t,o,s)),Rl(t,n,s)+e}function Zd(t,e=0,n=1,s,o){t.min=cy(t.min,e,n,s,o),t.max=cy(t.max,e,n,s,o)}function lw(t,{x:e,y:n}){Zd(t.x,e.translate,e.scale,e.originPoint),Zd(t.y,n.translate,n.scale,n.originPoint)}const uy=.999999999999,dy=1.0000000000001;function DE(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,c;for(let u=0;u<o;u++){a=n[u],c=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Bs(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,lw(t,c)),s&&Fr(a.latestValues)&&Bs(t,a.latestValues))}e.x<dy&&e.x>uy&&(e.x=1),e.y<dy&&e.y>uy&&(e.y=1)}function Us(t,e){t.min=t.min+e,t.max=t.max+e}function fy(t,e,n,s,o=.5){const a=Fe(t.min,t.max,o);Zd(t,e,n,a,s)}function Bs(t,e){fy(t.x,e.x,e.scaleX,e.scale,e.originX),fy(t.y,e.y,e.scaleY,e.scale,e.originY)}function cw(t,e){return ow(IE(t.getBoundingClientRect(),e))}function ME(t,e,n){const s=cw(t,n),{scroll:o}=e;return o&&(Us(s.x,o.offset.x),Us(s.y,o.offset.y)),s}const LE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$E=ei.length;function VE(t,e,n){let s="",o=!0;for(let a=0;a<$E;a++){const c=ei[a],u=t[c];if(u===void 0)continue;let f=!0;if(typeof u=="number")f=u===(c.startsWith("scale")?1:0);else{const h=parseFloat(u);f=c.startsWith("scale")?h===1:h===0}if(!f||n){const h=X0(u,Qf[c]);if(!f){o=!1;const m=LE[c]||c;s+=`${m}(${h}) `}n&&(e[c]=h)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function sh(t,e,n){const{style:s,vars:o,transformOrigin:a}=t;let c=!1,u=!1;for(const f in e){const h=e[f];if(ti.has(f)){c=!0;continue}else if(b0(f)){o[f]=h;continue}else{const m=X0(h,Qf[f]);f.startsWith("origin")?(u=!0,a[f]=m):s[f]=m}}if(e.transform||(c||n?s.transform=VE(e,t.transform,n):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=a;s.transformOrigin=`${f} ${h} ${m}`}}function uw(t,{style:e,vars:n},s,o){const a=t.style;let c;for(c in e)a[c]=e[c];o==null||o.applyProjectionStyles(a,s);for(c in n)a.setProperty(c,n[c])}function hy(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(oe.test(t))t=parseFloat(t);else return t;const n=hy(t,e.target.x),s=hy(t,e.target.y);return`${n}% ${s}%`}},FE={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=yr.parse(t);if(o.length>5)return s;const a=yr.createTransformer(t),c=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;o[0+c]/=u,o[1+c]/=f;const h=Fe(u,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=h),typeof o[3+c]=="number"&&(o[3+c]/=h),a(o)}},ef={borderRadius:{...Xi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xi,borderTopRightRadius:Xi,borderBottomLeftRadius:Xi,borderBottomRightRadius:Xi,boxShadow:FE};function dw(t,{layout:e,layoutId:n}){return ti.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ef[t]||t==="opacity")}function ih(t,e,n){var c;const s=t.style,o=e==null?void 0:e.style,a={};if(!s)return a;for(const u in s)(yt(s[u])||o&&yt(o[u])||dw(u,t)||((c=n==null?void 0:n.getValue(u))==null?void 0:c.liveStyle)!==void 0)&&(a[u]=s[u]);return a}function UE(t){return window.getComputedStyle(t)}class BE extends iw{constructor(){super(...arguments),this.type="html",this.renderInstance=uw}readValueFromInstance(e,n){var s;if(ti.has(n))return(s=this.projection)!=null&&s.isProjecting?Ud(n):ok(e,n);{const o=UE(e),a=(b0(n)?o.getPropertyValue(n):o[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return cw(e,n)}build(e,n,s){sh(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return ih(e,n,s)}}const zE={offset:"stroke-dashoffset",array:"stroke-dasharray"},WE={offset:"strokeDashoffset",array:"strokeDasharray"};function HE(t,e,n=1,s=0,o=!0){t.pathLength=1;const a=o?zE:WE;t[a.offset]=`${-s}`,t[a.array]=`${e} ${n}`}const KE=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function fw(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...u},f,h,m){if(sh(t,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete v.transformBox);for(const x of KE)v[x]!==void 0&&(w[x]=v[x],delete v[x]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),o!==void 0&&HE(v,o,a,c,!1)}const hw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),pw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function GE(t,e,n,s){uw(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(hw.has(o)?o:Xf(o),e.attrs[o])}function mw(t,e,n){const s=ih(t,e,n);for(const o in t)if(yt(t[o])||yt(e[o])){const a=ei.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[a]=t[o]}return s}class qE extends iw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=et}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ti.has(n)){const s=q0(n);return s&&s.default||0}return n=hw.has(n)?n:Xf(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return mw(e,n,s)}build(e,n,s){fw(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){GE(e,n,s,o)}mount(e){this.isSVGTag=pw(e.tagName),super.mount(e)}}const YE=rh.length;function gw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?gw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<YE;n++){const s=rh[n],o=t.props[s];(mo(o)||o===!1)&&(e[s]=o)}return e}function yw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const JE=[...nh].reverse(),XE=nh.length;function QE(t){return e=>Promise.all(e.map(({animation:n,options:s})=>qk(t,n,s)))}function ZE(t){let e=QE(t),n=py(),s=!0;const o=f=>(h,m)=>{var w;const v=Ws(t,m,f==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(v){const{transition:x,transitionEnd:S,...b}=v;h={...h,...b,...S}}return h};function a(f){e=f(t)}function c(f){const{props:h}=t,m=gw(t.parent)||{},v=[],w=new Set;let x={},S=1/0;for(let k=0;k<XE;k++){const C=JE[k],P=n[C],T=h[C]!==void 0?h[C]:m[C],R=mo(T),D=C===f?P.isActive:null;D===!1&&(S=k);let M=T===m[C]&&T!==h[C]&&R;if(M&&s&&t.manuallyAnimateOnMount&&(M=!1),P.protectedKeys={...x},!P.isActive&&D===null||!T&&!P.prevProp||Bl(T)||typeof T=="boolean")continue;if(C==="exit"&&P.isActive&&D!==!0){P.prevResolvedValues&&(x={...x,...P.prevResolvedValues});continue}const U=eC(P.prevProp,T);let $=U||C===f&&P.isActive&&!M&&R||k>S&&R,J=!1;const ne=Array.isArray(T)?T:[T];let ae=ne.reduce(o(C),{});D===!1&&(ae={});const{prevResolvedValues:ce={}}=P,me={...ce,...ae},Z=B=>{$=!0,w.has(B)&&(J=!0,w.delete(B)),P.needsAnimating[B]=!0;const N=t.getValue(B);N&&(N.liveStyle=!1)};for(const B in me){const N=ae[B],z=ce[B];if(x.hasOwnProperty(B))continue;let H=!1;Gd(N)&&Gd(z)?H=!yw(N,z):H=N!==z,H?N!=null?Z(B):w.add(B):N!==void 0&&w.has(B)?Z(B):P.protectedKeys[B]=!0}P.prevProp=T,P.prevResolvedValues=ae,P.isActive&&(x={...x,...ae}),s&&t.blockInitialAnimation&&($=!1);const he=M&&U;$&&(!he||J)&&v.push(...ne.map(B=>{const N={type:C};if(typeof B=="string"&&s&&!he&&t.manuallyAnimateOnMount&&t.parent){const{parent:z}=t,H=Ws(z,B);if(z.enteringChildren&&H){const{delayChildren:O}=H.transition||{};N.delay=V0(z.enteringChildren,t,O)}}return{animation:B,options:N}}))}if(w.size){const k={};if(typeof h.initial!="boolean"){const C=Ws(t,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(k.transition=C.transition)}w.forEach(C=>{const P=t.getBaseTarget(C),T=t.getValue(C);T&&(T.liveStyle=!0),k[C]=P??null}),v.push({animation:k})}let b=!!v.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(b=!1),s=!1,b?e(v):Promise.resolve()}function u(f,h){var v;if(n[f].isActive===h)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(w=>{var x;return(x=w.animationState)==null?void 0:x.setActive(f,h)}),n[f].isActive=h;const m=c(f);for(const w in n)n[w].protectedKeys={};return m}return{animateChanges:c,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=py()}}}function eC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yw(e,t):!1}function Mr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function py(){return{animate:Mr(!0),whileInView:Mr(),whileHover:Mr(),whileTap:Mr(),whileDrag:Mr(),whileFocus:Mr(),exit:Mr()}}function my(t,e){t.min=e.min,t.max=e.max}function tn(t,e){my(t.x,e.x),my(t.y,e.y)}function gy(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const vw=1e-4,tC=1-vw,nC=1+vw,ww=.01,rC=0-ww,sC=0+ww;function St(t){return t.max-t.min}function iC(t,e,n){return Math.abs(t-e)<=n}function yy(t,e,n,s=.5){t.origin=s,t.originPoint=Fe(e.min,e.max,t.origin),t.scale=St(n)/St(e),t.translate=Fe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=tC&&t.scale<=nC||isNaN(t.scale))&&(t.scale=1),(t.translate>=rC&&t.translate<=sC||isNaN(t.translate))&&(t.translate=0)}function oo(t,e,n,s){yy(t.x,e.x,n.x,s?s.originX:void 0),yy(t.y,e.y,n.y,s?s.originY:void 0)}function vy(t,e,n){t.min=n.min+e.min,t.max=t.min+St(e)}function oC(t,e,n){vy(t.x,e.x,n.x),vy(t.y,e.y,n.y)}function wy(t,e,n){t.min=e.min-n.min,t.max=t.min+St(e)}function jl(t,e,n){wy(t.x,e.x,n.x),wy(t.y,e.y,n.y)}function xy(t,e,n,s,o){return t-=e,t=Rl(t,1/n,s),o!==void 0&&(t=Rl(t,1/o,s)),t}function aC(t,e=0,n=1,s=.5,o,a=t,c=t){if(Sn.test(e)&&(e=parseFloat(e),e=Fe(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Fe(a.min,a.max,s);t===a&&(u-=e),t.min=xy(t.min,e,n,u,o),t.max=xy(t.max,e,n,u,o)}function by(t,e,[n,s,o],a,c){aC(t,e[n],e[s],e[o],e.scale,a,c)}const lC=["x","scaleX","originX"],cC=["y","scaleY","originY"];function Sy(t,e,n,s){by(t.x,e,lC,n?n.x:void 0,s?s.x:void 0),by(t.y,e,cC,n?n.y:void 0,s?s.y:void 0)}function _y(t){return t.translate===0&&t.scale===1}function xw(t){return _y(t.x)&&_y(t.y)}function ky(t,e){return t.min===e.min&&t.max===e.max}function uC(t,e){return ky(t.x,e.x)&&ky(t.y,e.y)}function Ey(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bw(t,e){return Ey(t.x,e.x)&&Ey(t.y,e.y)}function Cy(t){return St(t.x)/St(t.y)}function Ty(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function wn(t){return[t("x"),t("y")]}function dC(t,e,n){let s="";const o=t.x.translate/e.x,a=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||a||c)&&(s=`translate3d(${o}px, ${a}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:v,rotateY:w,skewX:x,skewY:S}=n;h&&(s=`perspective(${h}px) ${s}`),m&&(s+=`rotate(${m}deg) `),v&&(s+=`rotateX(${v}deg) `),w&&(s+=`rotateY(${w}deg) `),x&&(s+=`skewX(${x}deg) `),S&&(s+=`skewY(${S}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(s+=`scale(${u}, ${f})`),s||"none"}const Sw=["TopLeft","TopRight","BottomLeft","BottomRight"],fC=Sw.length,Py=t=>typeof t=="string"?parseFloat(t):t,Ay=t=>typeof t=="number"||oe.test(t);function hC(t,e,n,s,o,a){o?(t.opacity=Fe(0,n.opacity??1,pC(s)),t.opacityExit=Fe(e.opacity??1,0,mC(s))):a&&(t.opacity=Fe(e.opacity??1,n.opacity??1,s));for(let c=0;c<fC;c++){const u=`border${Sw[c]}Radius`;let f=Ry(e,u),h=Ry(n,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||Ay(f)===Ay(h)?(t[u]=Math.max(Fe(Py(f),Py(h),s),0),(Sn.test(h)||Sn.test(f))&&(t[u]+="%")):t[u]=h}(e.rotate||n.rotate)&&(t.rotate=Fe(e.rotate||0,n.rotate||0,s))}function Ry(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pC=_w(0,.5,m0),mC=_w(.5,.95,Ht);function _w(t,e,n){return s=>s<t?0:s>e?1:n(fo(t,e,s))}function gC(t,e,n){const s=yt(t)?t:qs(t);return s.start(Yf("",s,e,n)),s.animation}function go(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const yC=(t,e)=>t.depth-e.depth;class vC{constructor(){this.children=[],this.isDirty=!1}add(e){Of(this.children,e),this.isDirty=!0}remove(e){El(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yC),this.isDirty=!1,this.children.forEach(e)}}function wC(t,e){const n=bt.now(),s=({timestamp:o})=>{const a=o-n;a>=e&&(gr(s),t(a-e))};return Ie.setup(s,!0),()=>gr(s)}function yl(t){return yt(t)?t.get():t}class xC{constructor(){this.members=[]}add(e){Of(this.members,e);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===e||s===this.lead||s===this.prevLead)continue;const o=s.instance;o&&o.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&El(this.members,s)}e.scheduleRender()}remove(e){if(El(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const a=this.members[o],c=a.instance;if(a.isPresent!==!1&&(!c||c.isConnected!==!1)){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const o=s.options.layoutDependency,a=e.options.layoutDependency;if(!(o!==void 0&&a!==void 0&&o===a)){const f=s.instance;f&&f.isConnected===!1&&!s.snapshot||(e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:u}=e.options;u===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const vl={hasAnimatedSinceResize:!0,hasEverUpdated:!1},rd=["","X","Y","Z"],bC=1e3;let SC=0;function sd(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function kw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=W0(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ie,!(o||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&kw(s)}function Ew({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},u=e==null?void 0:e()){this.id=SC++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(EC),this.nodes.forEach(AC),this.nodes.forEach(RC),this.nodes.forEach(CC)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new vC)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Mf),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=th(c)&&!kE(c),this.instance=c;const{layoutId:u,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),t){let m,v=0;const w=()=>this.root.updateBlockedByResize=!1;Ie.read(()=>{v=window.innerWidth}),t(c,()=>{const x=window.innerWidth;x!==v&&(v=x,this.root.updateBlockedByResize=!0,m&&m(),m=wC(w,250),vl.hasAnimatedSinceResize&&(vl.hasAnimatedSinceResize=!1,this.nodes.forEach(Oy)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||DC,{onLayoutAnimationStart:b,onLayoutAnimationComplete:k}=h.getProps(),C=!this.targetLayout||!bw(this.targetLayout,x),P=!v&&w;if(this.options.layoutRoot||this.resumeFrom||P||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...qf(S,"layout"),onPlay:b,onComplete:k};(h.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(m,P)}else v||Oy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jC),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ny);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(PC),this.nodes.forEach(_C),this.nodes.forEach(kC)):this.nodes.forEach(Ny),this.clearAllSnapshots();const u=bt.now();ft.delta=kn(0,1e3/60,u-ft.timestamp),ft.timestamp=u,ft.isProcessing=!0,Yu.update.process(ft),Yu.preRender.process(ft),Yu.render.process(ft),ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TC),this.sharedNodes.forEach(NC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!St(this.snapshot.measuredBox.x)&&!St(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!xw(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;c&&this.instance&&(u||Fr(this.latestValues)||m)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),MC(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return et();const u=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(LC))){const{scroll:m}=this.root;m&&(Us(u.x,m.offset.x),Us(u.y,m.offset.y))}return u}removeElementScroll(c){var f;const u=et();if(tn(u,c),(f=this.scroll)!=null&&f.wasRoot)return u;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:v,options:w}=m;m!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&tn(u,c),Us(u.x,v.offset.x),Us(u.y,v.offset.y))}return u}applyTransform(c,u=!1){const f=et();tn(f,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Bs(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Fr(m.latestValues)&&Bs(f,m.latestValues)}return Fr(this.latestValues)&&Bs(f,this.latestValues),f}removeTransform(c){const u=et();tn(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Fr(h.latestValues))continue;Qd(h.latestValues)&&h.updateSnapshot();const m=et(),v=h.measurePageBox();tn(m,v),Sy(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Fr(this.latestValues)&&Sy(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var x;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!this.layout||!(m||v))return;this.resolvedRelativeTargetAt=ft.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tn(this.target,this.layout.layoutBox),lw(this.target,this.targetDelta)):tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Qd(this.parent.latestValues)||aw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,u,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),jl(this.relativeTargetOrigin,u,f),tn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var S;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===ft.timestamp&&(f=!1),f)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;tn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;DE(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=et());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gy(this.prevProjectionDelta.x,this.projectionDelta.x),gy(this.prevProjectionDelta.y,this.projectionDelta.y)),oo(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!Ty(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ty(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fs(),this.projectionDelta=Fs(),this.projectionDeltaWithTransform=Fs()}setAnimationOrigin(c,u=!1){const f=this.snapshot,h=f?f.latestValues:{},m={...this.latestValues},v=Fs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const w=et(),x=f?f.source:void 0,S=this.layout?this.layout.source:void 0,b=x!==S,k=this.getStack(),C=!k||k.members.length<=1,P=!!(b&&!C&&this.options.crossfade===!0&&!this.path.some(IC));this.animationProgress=0;let T;this.mixTargetDelta=R=>{const D=R/1e3;Iy(v.x,c.x,D),Iy(v.y,c.y,D),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jl(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OC(this.relativeTarget,this.relativeTargetOrigin,w,D),T&&uC(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=et()),tn(T,this.relativeTarget)),b&&(this.animationValues=m,hC(m,h,this.latestValues,D,P,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,f,h;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(h=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||h.stop(),this.pendingAnimation&&(gr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ie.update(()=>{vl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qs(0)),this.currentAnimation=gC(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:m}=c;if(!(!u||!f||!h)){if(this!==c&&this.layout&&h&&Cw(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||et();const v=St(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const w=St(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+w}tn(u,f),Bs(u,m),oo(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new xC),this.sharedNodes.get(c).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const h={};f.z&&sd("z",c,h,this.animationValues);for(let m=0;m<rd.length;m++)sd(`rotate${rd[m]}`,c,h,this.animationValues),sd(`skew${rd[m]}`,c,h,this.animationValues);c.render();for(const m in h)c.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=yl(u==null?void 0:u.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=yl(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Fr(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let v=dC(this.projectionDeltaWithTransform,this.treeScale,m);f&&(v=f(m,v)),c.transform=v;const{x:w,y:x}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${x.origin*100}% 0`,h.animationValues?c.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in ef){if(m[S]===void 0)continue;const{correct:b,applyTo:k,isCSSVariable:C}=ef[S],P=v==="none"?m[S]:b(m[S],h);if(k){const T=k.length;for(let R=0;R<T;R++)c[k[R]]=P}else C?this.options.visualElement.renderState.vars[S]=P:c[S]=P}this.options.layoutId&&(c.pointerEvents=h===this?yl(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(jy),this.root.sharedNodes.clear()}}}function _C(t){t.updateLayout()}function kC(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:a}=t.options,c=e.source!==t.layout.source;a==="size"?wn(v=>{const w=c?e.measuredBox[v]:e.layoutBox[v],x=St(w);w.min=s[v].min,w.max=w.min+x}):Cw(a,e.layoutBox,s)&&wn(v=>{const w=c?e.measuredBox[v]:e.layoutBox[v],x=St(s[v]);w.max=w.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+x)});const u=Fs();oo(u,s,e.layoutBox);const f=Fs();c?oo(f,t.applyTransform(o,!0),e.measuredBox):oo(f,s,e.layoutBox);const h=!xw(u);let m=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:x}=v;if(w&&x){const S=et();jl(S,e.layoutBox,w.layoutBox);const b=et();jl(b,s,x.layoutBox),bw(S,b)||(m=!0),v.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=S,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function EC(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function CC(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function TC(t){t.clearSnapshot()}function jy(t){t.clearMeasurements()}function Ny(t){t.isLayoutDirty=!1}function PC(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Oy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function AC(t){t.resolveTargetDelta()}function RC(t){t.calcProjection()}function jC(t){t.resetSkewAndRotation()}function NC(t){t.removeLeadSnapshot()}function Iy(t,e,n){t.translate=Fe(e.translate,0,n),t.scale=Fe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Dy(t,e,n,s){t.min=Fe(e.min,n.min,s),t.max=Fe(e.max,n.max,s)}function OC(t,e,n,s){Dy(t.x,e.x,n.x,s),Dy(t.y,e.y,n.y,s)}function IC(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const DC={duration:.45,ease:[.4,0,.1,1]},My=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ly=My("applewebkit/")&&!My("chrome/")?Math.round:Ht;function $y(t){t.min=Ly(t.min),t.max=Ly(t.max)}function MC(t){$y(t.x),$y(t.y)}function Cw(t,e,n){return t==="position"||t==="preserve-aspect"&&!iC(Cy(e),Cy(n),.2)}function LC(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const $C=Ew({attachResizeListener:(t,e)=>go(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),id={current:void 0},Tw=Ew({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!id.current){const t=new $C({});t.mount(window),t.setOptions({layoutScroll:!0}),id.current=t}return id.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Pw=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function VC(t=!0){const e=E.useContext(Nf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,a=E.useId();E.useEffect(()=>{if(t)return o(a)},[t]);const c=E.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,c]:[!0]}const Aw=E.createContext({strict:!1}),Vy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Fy=!1;function FC(){if(Fy)return;const t={};for(const e in Vy)t[e]={isEnabled:n=>Vy[e].some(s=>!!n[s])};sw(t),Fy=!0}function Rw(){return FC(),jE()}function UC(t){const e=Rw();for(const n in t)e[n]={...e[n],...t[n]};sw(e)}const BC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Nl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||BC.has(t)}let jw=t=>!Nl(t);function zC(t){typeof t=="function"&&(jw=e=>e.startsWith("on")?!Nl(e):t(e))}try{zC(require("@emotion/is-prop-valid").default)}catch{}function WC(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(jw(o)||n===!0&&Nl(o)||!e&&!Nl(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const Wl=E.createContext({});function HC(t,e){if(zl(t)){const{initial:n,animate:s}=t;return{initial:n===!1||mo(n)?n:void 0,animate:mo(s)?s:void 0}}return t.inherit!==!1?e:{}}function KC(t){const{initial:e,animate:n}=HC(t,E.useContext(Wl));return E.useMemo(()=>({initial:e,animate:n}),[Uy(e),Uy(n)])}function Uy(t){return Array.isArray(t)?t.join(" "):t}const oh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Nw(t,e,n){for(const s in e)!yt(e[s])&&!dw(s,n)&&(t[s]=e[s])}function GC({transformTemplate:t},e){return E.useMemo(()=>{const n=oh();return sh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function qC(t,e){const n=t.style||{},s={};return Nw(s,n,t),Object.assign(s,GC(t,e)),s}function YC(t,e){const n={},s=qC(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Ow=()=>({...oh(),attrs:{}});function JC(t,e,n,s){const o=E.useMemo(()=>{const a=Ow();return fw(a,e,pw(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Nw(a,t.style,t),o.style={...a,...o.style}}return o}const XC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ah(t){return typeof t!="string"||t.includes("-")?!1:!!(XC.indexOf(t)>-1||/[A-Z]/u.test(t))}function QC(t,e,n,{latestValues:s},o,a=!1,c){const f=(c??ah(t)?JC:YC)(e,s,o,t),h=WC(e,typeof t=="string",a),m=t!==E.Fragment?{...h,...f,ref:n}:{},{children:v}=e,w=E.useMemo(()=>yt(v)?v.get():v,[v]);return E.createElement(t,{...m,children:w})}function ZC({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:eT(n,s,o,t),renderState:e()}}function eT(t,e,n,s){const o={},a=s(t,{});for(const w in a)o[w]=yl(a[w]);let{initial:c,animate:u}=t;const f=zl(t),h=nw(t);e&&h&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||c===!1;const v=m?u:c;if(v&&typeof v!="boolean"&&!Bl(v)){const w=Array.isArray(v)?v:[v];for(let x=0;x<w.length;x++){const S=Jf(t,w[x]);if(S){const{transitionEnd:b,transition:k,...C}=S;for(const P in C){let T=C[P];if(Array.isArray(T)){const R=m?T.length-1:0;T=T[R]}T!==null&&(o[P]=T)}for(const P in b)o[P]=b[P]}}}return o}const Iw=t=>(e,n)=>{const s=E.useContext(Wl),o=E.useContext(Nf),a=()=>ZC(t,e,s,o);return n?a():n1(a)},tT=Iw({scrapeMotionValuesFromProps:ih,createRenderState:oh}),nT=Iw({scrapeMotionValuesFromProps:mw,createRenderState:Ow}),rT=Symbol.for("motionComponentSymbol");function sT(t,e,n){const s=E.useRef(n);E.useInsertionEffect(()=>{s.current=n});const o=E.useRef(null);return E.useCallback(a=>{var u;a&&((u=t.onMount)==null||u.call(t,a)),e&&(a?e.mount(a):e.unmount());const c=s.current;if(typeof c=="function")if(a){const f=c(a);typeof f=="function"&&(o.current=f)}else o.current?(o.current(),o.current=null):c(a);else c&&(c.current=a)},[e])}const Dw=E.createContext({});function Is(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function iT(t,e,n,s,o,a){var T,R;const{visualElement:c}=E.useContext(Wl),u=E.useContext(Aw),f=E.useContext(Nf),h=E.useContext(Pw),m=h.reducedMotion,v=h.skipAnimations,w=E.useRef(null),x=E.useRef(!1);s=s||u.renderer,!w.current&&s&&(w.current=s(t,{visualState:e,parent:c,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m,skipAnimations:v,isSVG:a}),x.current&&w.current&&(w.current.manuallyAnimateOnMount=!0));const S=w.current,b=E.useContext(Dw);S&&!S.projection&&o&&(S.type==="html"||S.type==="svg")&&oT(w.current,n,o,b);const k=E.useRef(!1);E.useInsertionEffect(()=>{S&&k.current&&S.update(n,f)});const C=n[z0],P=E.useRef(!!C&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,C))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,C)));return r1(()=>{x.current=!0,S&&(k.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),S.scheduleRenderMicrotask(),P.current&&S.animationState&&S.animationState.animateChanges())}),E.useEffect(()=>{S&&(!P.current&&S.animationState&&S.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,C)}),P.current=!1),S.enteringChildren=void 0)}),S}function oT(t,e,n,s){const{layoutId:o,layout:a,drag:c,dragConstraints:u,layoutScroll:f,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Mw(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!c||u&&Is(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:f,layoutRoot:h})}function Mw(t){if(t)return t.options.allowProjection!==!1?t.projection:Mw(t.parent)}function od(t,{forwardMotionProps:e=!1,type:n}={},s,o){s&&UC(s);const a=n?n==="svg":ah(t),c=a?nT:tT;function u(h,m){let v;const w={...E.useContext(Pw),...h,layoutId:aT(h)},{isStatic:x}=w,S=KC(h),b=c(h,x);if(!x&&s0){lT();const k=cT(w);v=k.MeasureLayout,S.visualElement=iT(t,b,w,o,k.ProjectionNode,a)}return g.jsxs(Wl.Provider,{value:S,children:[v&&S.visualElement?g.jsx(v,{visualElement:S.visualElement,...w}):null,QC(t,h,sT(b,S.visualElement,m),b,x,e,a)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=E.forwardRef(u);return f[rT]=t,f}function aT({layoutId:t}){const e=E.useContext(r0).id;return e&&t!==void 0?e+"-"+t:t}function lT(t,e){E.useContext(Aw).strict}function cT(t){const e=Rw(),{drag:n,layout:s}=e;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(t)||s!=null&&s.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function uT(t,e){if(typeof Proxy>"u")return od;const n=new Map,s=(a,c)=>od(a,c,t,e),o=(a,c)=>s(a,c);return new Proxy(o,{get:(a,c)=>c==="create"?s:(n.has(c)||n.set(c,od(c,void 0,t,e)),n.get(c))})}const dT=(t,e)=>e.isSVG??ah(t)?new qE(e):new BE(e,{allowProjection:t!==E.Fragment});class fT extends br{constructor(e){super(e),e.animationState||(e.animationState=ZE(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let hT=0;class pT extends br{constructor(){super(...arguments),this.id=hT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const mT={animation:{Feature:fT},exit:{Feature:pT}};function Po(t){return{point:{x:t.pageX,y:t.pageY}}}const gT=t=>e=>eh(e)&&t(e,Po(e));function ao(t,e,n,s){return go(t,e,gT(n),s)}const Lw=({current:t})=>t?t.ownerDocument.defaultView:null,By=(t,e)=>Math.abs(t-e);function yT(t,e){const n=By(t.x,e.x),s=By(t.y,e.y);return Math.sqrt(n**2+s**2)}const zy=new Set(["auto","scroll"]);class $w{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:c=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=ld(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,b=yT(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!b)return;const{point:k}=x,{timestamp:C}=ft;this.history.push({...k,timestamp:C});const{onStart:P,onMove:T}=this.handlers;S||(P&&P(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,x)},this.handlePointerMove=(x,S)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=ad(S,this.transformPagePoint),Ie.update(this.updatePoint,!0)},this.handlePointerUp=(x,S)=>{this.end();const{onEnd:b,onSessionEnd:k,resumeAnimation:C}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=ld(x.type==="pointercancel"?this.lastMoveEventInfo:ad(S,this.transformPagePoint),this.history);this.startEvent&&b&&b(x,P),k&&k(x,P)},!eh(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const f=Po(e),h=ad(f,this.transformPagePoint),{point:m}=h,{timestamp:v}=ft;this.history=[{...m,timestamp:v}];const{onSessionStart:w}=n;w&&w(e,ld(h,this.history)),this.removeListeners=Eo(ao(this.contextWindow,"pointermove",this.handlePointerMove),ao(this.contextWindow,"pointerup",this.handlePointerUp),ao(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(zy.has(s.overflowX)||zy.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,o=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:o.x-n.x,y:o.y-n.y};a.x===0&&a.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,o),Ie.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),gr(this.updatePoint)}}function ad(t,e){return e?{point:e(t.point)}:t}function Wy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ld({point:t},e){return{point:t,delta:Wy(t,Vw(e)),offset:Wy(t,vT(e)),velocity:wT(e,.1)}}function vT(t){return t[0]}function Vw(t){return t[t.length-1]}function wT(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=Vw(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>ln(e)));)n--;if(!s)return{x:0,y:0};s===t[0]&&t.length>2&&o.timestamp-s.timestamp>ln(e)*2&&(s=t[1]);const a=Wt(o.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const c={x:(o.x-s.x)/a,y:(o.y-s.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function xT(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Fe(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Fe(n,t,s.max):Math.min(t,n)),t}function Hy(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function bT(t,{top:e,left:n,bottom:s,right:o}){return{x:Hy(t.x,n,o),y:Hy(t.y,e,s)}}function Ky(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function ST(t,e){return{x:Ky(t.x,e.x),y:Ky(t.y,e.y)}}function _T(t,e){let n=.5;const s=St(t),o=St(e);return o>s?n=fo(e.min,e.max-s,t.min):s>o&&(n=fo(t.min,t.max-o,e.min)),kn(0,1,n)}function kT(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const tf=.35;function ET(t=tf){return t===!1?t=0:t===!0&&(t=tf),{x:Gy(t,"left","right"),y:Gy(t,"top","bottom")}}function Gy(t,e,n){return{min:qy(t,e),max:qy(t,n)}}function qy(t,e){return typeof t=="number"?t:t[e]||0}const CT=new WeakMap;class TT{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=v=>{n&&this.snapToCursor(Po(v).point),this.stopAnimation()},c=(v,w)=>{const{drag:x,dragPropagation:S,onDragStart:b}=this.getProps();if(x&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aE(x),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wn(C=>{let P=this.getAxisMotionValue(C).get()||0;if(Sn.test(P)){const{projection:T}=this.visualElement;if(T&&T.layout){const R=T.layout.layoutBox[C];R&&(P=St(R)*(parseFloat(P)/100))}}this.originPoint[C]=P}),b&&Ie.update(()=>b(v,w),!1,!0),qd(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},u=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:x,dragDirectionLock:S,onDirectionLock:b,onDrag:k}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:C}=w;if(S&&this.currentDirection===null){this.currentDirection=AT(C),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",w.point,C),this.updateAxis("y",w.point,C),this.visualElement.render(),k&&Ie.update(()=>k(v,w),!1,!0)},f=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:m}=this.getProps();this.panSession=new $w(e,{onSessionStart:a,onStart:c,onMove:u,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:Lw(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&Ie.postRender(()=>u(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!Ga(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=xT(c,this.constraints[e],this.elastic[e])),a.set(c)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,o=this.constraints;e&&Is(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=bT(s.layoutBox,e):this.constraints=!1,this.elastic=ET(n),o!==this.constraints&&!Is(e)&&s&&this.constraints&&!this.hasMutatedConstraints&&wn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=kT(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Is(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=ME(s,o.root,this.visualElement.getTransformPagePoint());let c=ST(o.layout.layoutBox,a);if(n){const u=n(OE(c));this.hasMutatedConstraints=!!u,u&&(c=ow(u))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=wn(m=>{if(!Ga(m,n,this.currentDirection))return;let v=f&&f[m]||{};c&&(v={min:0,max:0});const w=o?200:1e6,x=o?40:1e7,S={type:"inertia",velocity:s?e[m]:0,bounceStiffness:w,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(m,S)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return qd(this.visualElement,e),s.start(Yf(e,s,0,n,this.visualElement,!1))}stopAnimation(){wn(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){wn(n=>{const{drag:s}=this.getProps();if(!Ga(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:u}=o.layout.layoutBox[n],f=a.get()||0;a.set(e[n]-Fe(c,u,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Is(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};wn(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const f=u.get();o[c]=_T({min:f,max:f},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),wn(c=>{if(!Ga(c,e,null))return;const u=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];u.set(Fe(f,h,o[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;CT.set(this.visualElement,this);const e=this.visualElement.current,n=ao(e,"pointerdown",h=>{const{drag:m,dragListener:v=!0}=this.getProps(),w=h.target,x=w!==e&&hE(w);m&&v&&!x&&this.start(h)});let s;const o=()=>{const{dragConstraints:h}=this.getProps();Is(h)&&h.current&&(this.constraints=this.resolveRefConstraints(),s||(s=PT(e,h.current,()=>this.scalePositionWithinConstraints())))},{projection:a}=this.visualElement,c=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ie.read(o);const u=go(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(wn(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=h[v].translate,w.set(w.get()+h[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),c(),f&&f(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:c=tf,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:a,dragElastic:c,dragMomentum:u}}}function Yy(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function PT(t,e,n){const s=sy(t,Yy(n)),o=sy(e,Yy(n));return()=>{s(),o()}}function Ga(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function AT(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class RT extends br{constructor(e){super(e),this.removeGroupControls=Ht,this.removeListeners=Ht,this.controls=new TT(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ht}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const cd=t=>(e,n)=>{t&&Ie.update(()=>t(e,n),!1,!0)};class jT extends br{constructor(){super(...arguments),this.removePointerDownListener=Ht}onPointerDown(e){this.session=new $w(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Lw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:cd(e),onStart:cd(n),onMove:cd(s),onEnd:(a,c)=>{delete this.session,o&&Ie.postRender(()=>o(a,c))}}}mount(){this.removePointerDownListener=ao(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let ud=!1;class NT extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),s&&s.register&&o&&s.register(a),ud&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),vl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:a}=this.props,{projection:c}=s;return c&&(c.isPresent=a,e.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),ud=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?c.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?c.promote():c.relegate()||Ie.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Zf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;ud=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Fw(t){const[e,n]=VC(),s=E.useContext(r0);return g.jsx(NT,{...t,layoutGroup:s,switchLayoutGroup:E.useContext(Dw),isPresent:e,safeToRemove:n})}const OT={pan:{Feature:jT},drag:{Feature:RT,ProjectionNode:Tw,MeasureLayout:Fw}};function Jy(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=s[o];a&&Ie.postRender(()=>a(e,Po(e)))}class IT extends br{mount(){const{current:e}=this.node;e&&(this.unmount=cE(e,(n,s)=>(Jy(this.node,s,"Start"),o=>Jy(this.node,o,"End"))))}unmount(){}}class DT extends br{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Eo(go(this.node.current,"focus",()=>this.onFocus()),go(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Xy(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=s[o];a&&Ie.postRender(()=>a(e,Po(e)))}class MT extends br{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=mE(e,(o,a)=>(Xy(this.node,a,"Start"),(c,{success:u})=>Xy(this.node,c,u?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(s==null?void 0:s.tap)===!1})}unmount(){}}const nf=new WeakMap,dd=new WeakMap,LT=t=>{const e=nf.get(t.target);e&&e(t)},$T=t=>{t.forEach(LT)};function VT({root:t,...e}){const n=t||document;dd.has(n)||dd.set(n,{});const s=dd.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver($T,{root:t,...e})),s[o]}function FT(t,e,n){const s=VT(e);return nf.set(t,n),s.observe(t),()=>{nf.delete(t),s.unobserve(t)}}const UT={some:0,all:1};class BT extends br{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:a}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:UT[o]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),w=h?m:v;w&&w(f)};return FT(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(zT(e,n))&&this.startObserver()}unmount(){}}function zT({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const WT={inView:{Feature:BT},tap:{Feature:MT},focus:{Feature:DT},hover:{Feature:IT}},HT={layout:{ProjectionNode:Tw,MeasureLayout:Fw}},KT={...mT,...WT,...OT,...HT},te=uT(KT,dT),qr=3e6,Uw=3,Bw=6;function lh(t,e,n){return t+e+n}function zw(t,e){return e<=0?1/0:t/e}function GT(t){return t<=Uw?"danger":t<=Bw?"warning":"safe"}function Ww(t,{minimum:e=0,unitCost:n=qr}={}){const s=Math.max(0,t)*n;return t<=0?0:Math.max(e,s)}function Oe(t,{signed:e=!1}={}){if(!Number.isFinite(t))return e?"+0":"0";const n=t<0?"-":e&&t>0?"+":"",s=Math.round(Math.abs(t));if(s<1e4)return`${n}${s.toLocaleString("ko-KR")}`;const o=[{value:1e12,label:""},{value:1e8,label:""},{value:1e4,label:""}];let a=s;const c=[];return o.forEach(u=>{const f=Math.floor(a/u.value);f<=0||(c.push(`${f.toLocaleString("ko-KR")}${u.label}`),a-=f*u.value)}),a>0&&c.push(a.toLocaleString("ko-KR")),`${n}${c.join(" ")}`}function Hw({hp:t}){const e=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0],[0,0,0,0,1,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,1,0,0,0,0],[0,0,0,0,1,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,1,0,0,0,0],[0,0,0,0,1,2,1,0,0,0,1,3,3,3,3,3,3,3,3,3,3,1,0,0,0,1,2,1,0,0,0,0],[0,0,1,1,1,2,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,2,1,1,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,1,1,2,2,1,1,3,3,3,3,3,3,3,3,3,3,1,1,2,2,1,1,2,2,1,0,0],[0,0,1,2,2,1,1,2,2,1,1,3,3,3,3,3,3,3,3,3,3,1,1,2,2,1,1,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,1,1,2,2,1,1,3,3,3,3,3,3,3,3,3,3,1,1,2,2,1,1,2,2,1,0,0],[0,0,1,2,2,1,1,2,2,1,1,3,3,3,3,3,3,3,3,3,3,1,1,2,2,1,1,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,1,1,2,2,1,1,3,3,3,3,3,3,3,3,3,3,1,1,2,2,1,1,2,2,1,0,0],[0,0,1,2,2,1,1,2,2,1,1,3,3,3,3,3,3,3,3,3,3,1,1,2,2,1,1,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,4,4,4,4,4,4,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,4,5,5,5,5,4,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,4,5,5,5,5,4,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,4,5,5,5,5,4,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,4,5,6,6,5,4,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,4,5,5,5,5,4,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],n=s=>({0:"transparent",1:"#000000",2:t>66?"#808080":t>33?"#b8860b":"#8b0000",3:t>66?"#606060":t>33?"#daa520":"#a52a2a",4:"#4a2511",5:"#654321",6:"#ffd700"})[s]||"transparent";return g.jsxs(te.div,{animate:t<33?{x:[-3,3,-3,3,0]}:{},transition:{duration:.5,repeat:t<33?1/0:0,repeatDelay:2},className:"inline-block relative",style:{imageRendering:"pixelated"},children:[g.jsx("div",{className:"grid",style:{gridTemplateColumns:"repeat(32, 3px)",gap:0},children:e.flat().map((s,o)=>g.jsx("div",{style:{width:"3px",height:"3px",backgroundColor:n(s)}},o))}),g.jsx(te.div,{animate:{rotate:[-5,5,-5]},transition:{duration:2,repeat:1/0},className:"absolute",style:{top:"-16px",left:"50%",transform:"translateX(-50%)"},children:g.jsx("div",{className:"grid",style:{gridTemplateColumns:"repeat(8, 2px)",gap:0},children:[[1,1,0,0,0,0,0,0],[1,2,2,2,2,2,2,0],[1,2,2,2,2,2,2,2],[1,2,2,2,2,2,2,0],[1,1,0,0,0,0,0,0]].flat().map((s,o)=>g.jsx("div",{style:{width:"2px",height:"2px",backgroundColor:s===1?"#654321":s===2?"#ff0000":"transparent"}},o))})}),t<33&&g.jsx(te.div,{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 text-red-500 font-bold",animate:{opacity:[1,0,1],scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},style:{fontSize:"24px"},children:""})]})}const qT=(t,e,n)=>t>200&&e<50&&n>200;function rf(t,e){return t[e]>0}function YT(t,e,n){const o=t.getImageData(0,0,e,n).data;let a=e,c=n,u=-1,f=-1;for(let h=0;h<n;h++)for(let m=0;m<e;m++){const v=(h*e+m)*4+3;rf(o,v)&&(m<a&&(a=m),h<c&&(c=h),m>u&&(u=m),h>f&&(f=h))}return u<a||f<c?null:{x:a,y:c,width:u-a+1,height:f-c+1}}function Qy(t){const e=[];let n=-1;for(let o=0;o<=t.length;o++){const a=o<t.length?t[o]:!1;a&&n<0&&(n=o),!a&&n>=0&&(e.push({start:n,end:o}),n=-1)}const s=[];for(const o of e){const a=s[s.length-1];if(!a){s.push(o);continue}o.start-a.end<=2?a.end=o.end:s.push(o)}return s}function JT(t,e,n,s){const a=t.getImageData(0,0,e,n).data;if(s==="vertical"){const u=new Array(n).fill(!1);for(let f=0;f<n;f++)for(let h=0;h<e;h++){const m=(f*e+h)*4+3;if(rf(a,m)){u[f]=!0;break}}return Qy(u).map(({start:f,end:h})=>({sx:0,sy:f,sw:e,sh:h-f}))}const c=new Array(e).fill(!1);for(let u=0;u<e;u++)for(let f=0;f<n;f++){const h=(f*e+u)*4+3;if(rf(a,h)){c[u]=!0;break}}return Qy(c).map(({start:u,end:f})=>({sx:u,sy:0,sw:f-u,sh:n}))}function XT(t,e,n){const s=t.getImageData(0,0,e,n),o=s.data;for(let a=0;a<o.length;a+=4)qT(o[a],o[a+1],o[a+2])&&(o[a+3]=0);t.putImageData(s,0,0)}function no({src:t,frameWidth:e,frameHeight:n,layout:s,frameCount:o,displaySize:a,frameInterval:c=120,alt:u="",className:f="",stabilizeBottom:h=!0}){const[m,v]=E.useState([]),[w,x]=E.useState(0);E.useEffect(()=>{let k=!1;v([]);const C=new Image;return C.onload=()=>{if(k)return;const P=C.naturalWidth,T=C.naturalHeight;if(!P||!T)return;const R=s==="vertical",D=typeof e=="number"&&e>0?Math.floor(e):void 0,M=typeof n=="number"&&n>0?Math.floor(n):void 0,U=typeof o=="number"&&o>0?Math.floor(o):void 0,$=document.createElement("canvas");$.width=P,$.height=T;const J=$.getContext("2d");if(!J)return;J.drawImage(C,0,0),XT(J,P,T);const ne=U!=null||D!=null||M!=null;let ae=[];if(ne){let B=D,N=M,z=U;if(R?(B??(B=P),!N&&z&&(N=Math.floor(T/z)),N??(N=T),z||(z=Math.floor(T/N))):(N??(N=T),!B&&z&&(B=Math.floor(P/z)),B??(B=P),z||(z=Math.floor(P/B))),!B||!N||!z||B<=0||N<=0||z<=0){v([]);return}B=Math.min(B,P),N=Math.min(N,T);const H=Math.floor(R?T/N:P/B);z=Math.max(1,Math.min(z,H));for(let O=0;O<z;O++){const W=R?0:O*B,X=R?O*N:0;ae.push({sx:W,sy:X,sw:B,sh:N})}}else ae=JT(J,P,T,s);if(ae.length===0){v([]);return}const ce=[],me=[];let Z=1,he=1;for(const{sx:B,sy:N,sw:z,sh:H}of ae){const O=document.createElement("canvas");O.width=z,O.height=H;const W=O.getContext("2d");if(!W)continue;W.clearRect(0,0,z,H),W.drawImage($,B,N,z,H,0,0,z,H);const X=YT(W,z,H);X&&(me.push(X),ce.push(O),X.width>Z&&(Z=X.width),X.height>he&&(he=X.height))}const le=[];if(ce.forEach((B,N)=>{const z=me[N],H=document.createElement("canvas");if(h&&z){H.width=Z,H.height=he;const O=H.getContext("2d");if(!O){le.push("");return}const W=Math.floor((Z-z.width)/2),X=he-z.height;O.drawImage(B,z.x,z.y,z.width,z.height,W,X,z.width,z.height)}else{H.width=B.width,H.height=B.height;const O=H.getContext("2d");if(!O){le.push("");return}O.drawImage(B,0,0)}try{le.push(H.toDataURL("image/png"))}catch{le.push("")}}),le.length===0){v([]);return}v(le)},C.onerror=()=>v([]),C.src=t,()=>{k=!0}},[t,e,n,s,o,h]),E.useEffect(()=>{const k=m.filter(Boolean);if(k.length<2)return;const C=setInterval(()=>{x(P=>(P+1)%k.length)},c);return()=>clearInterval(C)},[m,c]);const S=m.filter(Boolean),b=S[w%Math.max(1,S.length)];return b?g.jsx("div",{className:f,style:{width:a,height:a,minWidth:a,minHeight:a,overflow:"hidden",display:"flex",alignItems:"flex-end",justifyContent:"center",position:"relative"},children:g.jsx("img",{src:b,alt:u,width:a,height:a,style:{display:"block",width:a,height:a,minWidth:a,minHeight:a,objectFit:"contain",objectPosition:"bottom center",imageRendering:"pixelated",position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)"}})}):g.jsx("div",{className:f,style:{width:a,height:a,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.05)",borderRadius:4},"aria-label":u,children:g.jsx("span",{style:{fontSize:10,color:"#94a3b8"},children:"..."})})}const QT={frameHeight:64,frameCount:12,layout:"vertical"},ZT={frameHeight:64,frameCount:20,layout:"vertical"},e2=140;function Ys({variant:t="strategist",size:e=80,className:n=""}){const s=t==="strategist"?"/character/strategist/atk.bmp":"/character/general/x.bmp",o=t==="strategist"?QT:ZT;return g.jsx(no,{src:s,frameHeight:o.frameHeight,frameCount:o.frameCount,layout:o.layout,displaySize:e,frameInterval:e2,alt:t==="strategist"?"":"",className:n})}const t2=(t,e,n)=>t>200&&e<50&&n>200;function n2(t){const e=t.naturalWidth,n=t.naturalHeight;if(!e||!n)return null;const s=document.createElement("canvas");s.width=e,s.height=n;const o=s.getContext("2d");if(!o)return null;o.drawImage(t,0,0);const a=o.getImageData(0,0,e,n),c=a.data;for(let u=0;u<c.length;u+=4){const f=c[u],h=c[u+1],m=c[u+2];t2(f,h,m)&&(c[u+3]=0)}o.putImageData(a,0,0);try{return s.toDataURL("image/png")}catch{return null}}function r2({src:t,size:e,frameInterval:n=150,alt:s="",className:o=""}){const a=Array.isArray(t)?t:[t],[c,u]=E.useState([]),[f,h]=E.useState(0);E.useEffect(()=>{let w=!1;return u([]),a.forEach((x,S)=>{const b=new Image;b.onload=()=>{if(w)return;const k=n2(b);k&&u(C=>{const P=[...C];return P[S]=k,P})},b.onerror=()=>{w||u(k=>{const C=[...k];return C[S]="",C})},b.src=x}),()=>{w=!0}},[JSON.stringify(a)]),E.useEffect(()=>{if(c.length<2||c.every(S=>!S))return;const w=c.filter(Boolean);if(w.length<2)return;const x=setInterval(()=>{h(S=>(S+1)%w.length)},n);return()=>clearInterval(x)},[c,n]);const m=c.filter(Boolean),v=m.length>0?m[f%m.length]:"";return v?g.jsx("div",{className:o,style:{width:e,height:e,display:"flex",alignItems:"flex-end",justifyContent:"center"},children:g.jsx("img",{src:v,alt:s,width:e,height:e,style:{display:"block",width:e,height:e,objectFit:"contain",objectPosition:"bottom",imageRendering:"pixelated"}})}):g.jsx("div",{className:o,style:{width:e,height:e,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.05)",borderRadius:4},"aria-label":s,children:g.jsx("span",{style:{fontSize:10,color:"#94a3b8"},children:"..."})})}const s2=["/character/bandit/rebel_staff_1.png","/character/bandit/rebel_staff_2.png"],fd={src:"/character/bandit/rebel_staff_sheet.bmp",layout:"vertical",frameCount:2},i2="/character/bandit/atk_extra_1.bmp",o2="/character/bandit/atk_extra_2.bmp",a2="/character/bandit/hogeoa_atk.bmp",Dn={frameHeight:64,frameCount:12,layout:"vertical"};function Kw({variant:t="rebel_staff",size:e=56,className:n=""}){return t==="rebel_staff"?g.jsx(r2,{src:s2,size:e,frameInterval:140,alt:" ()",className:n}):t==="rebel_staff_sheet"?g.jsx(no,{src:fd.src,layout:fd.layout,frameCount:fd.frameCount,displaySize:e,frameInterval:140,alt:" ()",className:n}):t==="extra_1"||t==="extra_2"?g.jsx(no,{src:t==="extra_1"?i2:o2,frameHeight:Dn.frameHeight,frameCount:Dn.frameCount,layout:Dn.layout,displaySize:e,frameInterval:120,alt:t==="extra_1"?" A":" B",className:n}):t==="hogeoa"?g.jsx(no,{src:a2,frameHeight:Dn.frameHeight,frameCount:Dn.frameCount,layout:Dn.layout,displaySize:e,frameInterval:120,alt:"",className:n}):g.jsx(no,{src:"/character/bandit/atk.bmp",frameHeight:Dn.frameHeight,frameCount:Dn.frameCount,layout:Dn.layout,displaySize:e,frameInterval:120,alt:"",className:n})}function hd({type:t,cost:e,label:n,count:s,onClick:o}){const a=()=>{switch(t){case"personnel":return"from-[#2f3f66] to-[#1f2d4b] border-amber-800/50";case"marketing":return"from-[#2f3f66] to-[#1f2d4b] border-amber-800/50";case"office":return"from-[#2f3f66] to-[#1f2d4b] border-amber-800/50"}},c=s?Math.min(s,5):3,u=t==="personnel"?"hogeoa":t==="marketing"?"extra_2":"extra_1";return g.jsxs(te.button,{type:"button",initial:{x:100,opacity:0},animate:{x:0,opacity:1},whileHover:o?{scale:1.02}:{},whileTap:o?{scale:.98}:{},onClick:o,disabled:!o,className:`bg-gradient-to-b ${a()} border-2 rounded-2xl p-4 relative shadow-sm w-full text-left appearance-none focus-visible:outline-none disabled:opacity-100 ${o?"cursor-pointer":"cursor-default"}`,children:[g.jsx("div",{className:"absolute -top-2.5 left-1/2 transform -translate-x-1/2 rounded-md border border-red-900 bg-red-700 px-3 py-1 text-[10px] font-black text-red-100 whitespace-nowrap shadow-sm",children:" "}),g.jsx("div",{className:"flex justify-center items-end gap-1 mb-3 mt-2 flex-wrap",children:Array.from({length:c}).map((f,h)=>g.jsx(te.div,{initial:{x:30,opacity:0},animate:{x:0,opacity:1},transition:{delay:h*.1},children:g.jsx(Kw,{variant:u,size:52})},h))}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"mb-2 text-sm font-bold text-amber-100",children:n}),g.jsx("div",{className:"text-xl font-black text-amber-300",children:Oe(e)}),s&&g.jsxs("div",{className:"mt-1 text-xs text-slate-300",children:[": ",s,""]})]}),o&&g.jsx("div",{className:"mt-2 text-center text-[10px] font-bold text-amber-200/90",children:"  "})]})}function l2({amount:t}){const e=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0],[0,0,0,0,0,1,2,3,3,2,1,0,0,0,0,0],[0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[0,1,2,4,4,2,2,2,2,2,2,4,4,2,1,0],[0,1,2,4,4,2,2,5,5,2,2,4,4,2,1,0],[0,1,2,2,2,2,2,5,5,2,2,2,2,2,1,0],[0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[0,1,2,2,2,6,6,6,6,6,6,2,2,2,1,0],[0,1,2,2,2,6,6,6,6,6,6,2,2,2,1,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],n=[[0,0,1,1,1,1,0,0],[0,1,2,2,2,2,1,0],[1,2,2,3,3,2,2,1],[1,2,3,3,3,3,2,1],[1,2,3,3,3,3,2,1],[1,2,2,3,3,2,2,1],[0,1,2,2,2,2,1,0],[0,0,1,1,1,1,0,0]],s=a=>({0:"transparent",1:"#3e2723",2:"#8d6e63",3:"#ffd700",4:"#4e342e",5:"#ffeb3b",6:"#5d4037"})[a]||"transparent",o=a=>({0:"transparent",1:"#b8860b",2:"#ffd700",3:"#ffed4e"})[a]||"transparent";return g.jsxs(te.div,{whileHover:{scale:1.1},className:"bg-gradient-to-b from-amber-800 to-amber-900 border-4 border-amber-950 p-4 cursor-pointer relative",style:{imageRendering:"pixelated"},children:[g.jsxs("div",{className:"text-center",children:[g.jsx(te.div,{animate:{y:[0,-3,0]},transition:{duration:2,repeat:1/0},className:"flex justify-center mb-2",children:g.jsx("div",{className:"grid",style:{gridTemplateColumns:"repeat(16, 3px)",gap:0},children:e.flat().map((a,c)=>g.jsx("div",{style:{width:"3px",height:"3px",backgroundColor:s(a)}},c))})}),g.jsx("div",{className:"flex justify-center gap-1 mb-2",children:[0,1,2].map(a=>g.jsx(te.div,{animate:{y:[0,-5,0],opacity:[.7,1,.7]},transition:{duration:1.5,repeat:1/0,delay:a*.3},className:"grid",style:{gridTemplateColumns:"repeat(8, 2px)",gap:0},children:n.flat().map((c,u)=>g.jsx("div",{style:{width:"2px",height:"2px",backgroundColor:o(c)}},u))},a))}),g.jsx("div",{className:"text-yellow-950 font-bold text-xs mb-1",children:" "}),g.jsx("div",{className:"text-2xl font-bold text-yellow-950",children:Oe(t)})]}),g.jsx(te.div,{className:"absolute top-2 right-2 text-yellow-300 text-lg",animate:{opacity:[0,1,0],scale:[.8,1.2,.8]},transition:{duration:1.5,repeat:1/0},children:""})]})}const pd=Bw/12*100,md=Uw/12*100;function Gw({percentage:t,label:e}){const n=Math.max(0,Math.min(t,100)),s=()=>n>pd?"from-emerald-400 to-emerald-600":n>md?"from-amber-300 to-amber-500":"from-red-400 to-red-600",o=()=>n>pd?"":n>md?"":"";return g.jsxs("div",{className:"max-w-3xl",children:[g.jsxs("div",{className:"mb-2 flex items-center justify-between gap-4",children:[g.jsx("span",{className:"sg-label text-amber-100",children:e}),g.jsx("span",{className:`sg-label ${n>pd?"text-emerald-300":n>md?"text-amber-300":"text-red-300"}`,children:o()})]}),g.jsxs("div",{className:"relative h-11 overflow-hidden rounded-md border-2 border-amber-700/70 bg-[#1b2a4a] shadow-[inset_0_0_0_1px_rgba(255,228,151,0.2)]",children:[g.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(to right, rgba(255,255,255,0.25) 1px, transparent 1px)",backgroundSize:"14px 100%"}}),g.jsx(te.div,{initial:{width:0},animate:{width:`${n}%`},transition:{duration:.9,ease:"easeOut"},className:`h-full bg-gradient-to-r ${s()}`}),g.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[11px] font-black tracking-[0.1em] text-amber-50 drop-shadow-[0_1px_0_rgba(0,0,0,0.7)]",children:[n.toFixed(1),"%"]})]})]})}function an({children:t,onClick:e,variant:n="primary",size:s="medium",disabled:o=!1}){const a=()=>{switch(n){case"primary":return"sg-btn-primary";case"secondary":return"sg-btn-secondary";case"danger":return"sg-btn-danger";case"success":return"sg-btn-success"}},c=()=>{switch(s){case"small":return"px-3 py-2 text-[10px]";case"medium":return"px-4 py-2.5 text-[11px]";case"large":return"px-6 py-3.5 text-xs"}};return g.jsx(te.button,{whileHover:o?{}:{scale:1.03},whileTap:o?{}:{scale:.97},onClick:e,disabled:o,className:`
        sg-btn
        ${a()}
        ${c()}
        font-bold
        disabled:opacity-50 disabled:cursor-not-allowed
      `,children:t})}const c2=8,Zy=2.2,u2=6e3,d2=1500;function f2({monthlyBurn:t=0,runOnce:e=!1,className:n=""}){const[s,o]=E.useState(0),[a,c]=E.useState(!1);return E.useEffect(()=>{const u=setTimeout(()=>c(!0),d2);return()=>clearTimeout(u)},[]),E.useEffect(()=>{if(e)return;const u=setInterval(()=>{c(!1),o(h=>h+1);const f=setTimeout(()=>c(!0),100);return()=>clearTimeout(f)},u2);return()=>clearInterval(u)},[e]),g.jsxs("div",{className:`pointer-events-none absolute inset-0 z-0 ${n}`,"aria-hidden":!0,children:[g.jsx("div",{className:"absolute inset-0",children:a&&Array.from({length:c2}).map((u,f)=>g.jsx(te.div,{className:"absolute text-2xl opacity-90 drop-shadow-md",style:{top:`${38+f%3*14}%`},initial:{left:"5%",opacity:0},animate:{left:"88%",opacity:[0,1,1,0]},transition:{duration:Zy,delay:f*.12,opacity:{times:[0,.08,.88,1],duration:Zy}},children:""},`${s}-${f}`))}),t>0&&g.jsxs(te.div,{className:"absolute left-1/2 top-[72%] -translate-x-1/2 rounded-md border border-amber-700/70 bg-[#16233e]/90 px-3 py-1.5 text-xs font-bold text-amber-200 shadow-[inset_0_0_0_1px_rgba(255,223,138,0.2)]",initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{delay:.8},children:["   : ",Oe(t)]})]})}function tt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function ev(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function qw(...t){return e=>{let n=!1;const s=t.map(o=>{const a=ev(o,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():ev(t[o],null)}}}}function ot(...t){return E.useCallback(qw(...t),t)}function h2(t,e){const n=E.createContext(e),s=a=>{const{children:c,...u}=a,f=E.useMemo(()=>u,Object.values(u));return g.jsx(n.Provider,{value:f,children:c})};s.displayName=t+"Provider";function o(a){const c=E.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[s,o]}function Ao(t,e=[]){let n=[];function s(a,c){const u=E.createContext(c),f=n.length;n=[...n,c];const h=v=>{var C;const{scope:w,children:x,...S}=v,b=((C=w==null?void 0:w[t])==null?void 0:C[f])||u,k=E.useMemo(()=>S,Object.values(S));return g.jsx(b.Provider,{value:k,children:x})};h.displayName=a+"Provider";function m(v,w){var b;const x=((b=w==null?void 0:w[t])==null?void 0:b[f])||u,S=E.useContext(x);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[h,m]}const o=()=>{const a=n.map(c=>E.createContext(c));return function(u){const f=(u==null?void 0:u[t])||a;return E.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return o.scopeName=t,[s,p2(o,...e)]}function p2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=s.reduce((u,{useScope:f,scopeName:h})=>{const v=f(a)[`__scope${h}`];return{...u,...v}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}var ch=n0();const m2=t0(ch);var Js=E.forwardRef((t,e)=>{const{children:n,...s}=t,o=E.Children.toArray(n),a=o.find(y2);if(a){const c=a.props.children,u=o.map(f=>f===a?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:f);return g.jsx(sf,{...s,ref:e,children:E.isValidElement(c)?E.cloneElement(c,void 0,u):null})}return g.jsx(sf,{...s,ref:e,children:n})});Js.displayName="Slot";var sf=E.forwardRef((t,e)=>{const{children:n,...s}=t;if(E.isValidElement(n)){const o=w2(n),a=v2(s,n.props);return n.type!==E.Fragment&&(a.ref=e?qw(e,o):o),E.cloneElement(n,a)}return E.Children.count(n)>1?E.Children.only(null):null});sf.displayName="SlotClone";var g2=({children:t})=>g.jsx(g.Fragment,{children:t});function y2(t){return E.isValidElement(t)&&t.type===g2}function v2(t,e){const n={...e};for(const s in e){const o=t[s],a=e[s];/^on[A-Z]/.test(s)?o&&a?n[s]=(...u)=>{a(...u),o(...u)}:o&&(n[s]=o):s==="style"?n[s]={...o,...a}:s==="className"&&(n[s]=[o,a].filter(Boolean).join(" "))}return{...t,...n}}function w2(t){var s,o;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var x2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],at=x2.reduce((t,e)=>{const n=E.forwardRef((s,o)=>{const{asChild:a,...c}=s,u=a?Js:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(u,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function b2(t,e){t&&ch.flushSync(()=>t.dispatchEvent(e))}function vr(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function S2(t,e=globalThis==null?void 0:globalThis.document){const n=vr(t);E.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var _2="DismissableLayer",of="dismissableLayer.update",k2="dismissableLayer.pointerDownOutside",E2="dismissableLayer.focusOutside",tv,Yw=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uh=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:u,...f}=t,h=E.useContext(Yw),[m,v]=E.useState(null),w=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=E.useState({}),S=ot(e,U=>v(U)),b=Array.from(h.layers),[k]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),C=b.indexOf(k),P=m?b.indexOf(m):-1,T=h.layersWithOutsidePointerEventsDisabled.size>0,R=P>=C,D=P2(U=>{const $=U.target,J=[...h.branches].some(ne=>ne.contains($));!R||J||(o==null||o(U),c==null||c(U),U.defaultPrevented||u==null||u())},w),M=A2(U=>{const $=U.target;[...h.branches].some(ne=>ne.contains($))||(a==null||a(U),c==null||c(U),U.defaultPrevented||u==null||u())},w);return S2(U=>{P===h.layers.size-1&&(s==null||s(U),!U.defaultPrevented&&u&&(U.preventDefault(),u()))},w),E.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(tv=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),nv(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=tv)}},[m,w,n,h]),E.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),nv())},[m,h]),E.useEffect(()=>{const U=()=>x({});return document.addEventListener(of,U),()=>document.removeEventListener(of,U)},[]),g.jsx(at.div,{...f,ref:S,style:{pointerEvents:T?R?"auto":"none":void 0,...t.style},onFocusCapture:tt(t.onFocusCapture,M.onFocusCapture),onBlurCapture:tt(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:tt(t.onPointerDownCapture,D.onPointerDownCapture)})});uh.displayName=_2;var C2="DismissableLayerBranch",T2=E.forwardRef((t,e)=>{const n=E.useContext(Yw),s=E.useRef(null),o=ot(e,s);return E.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),g.jsx(at.div,{...t,ref:o})});T2.displayName=C2;function P2(t,e=globalThis==null?void 0:globalThis.document){const n=vr(t),s=E.useRef(!1),o=E.useRef(()=>{});return E.useEffect(()=>{const a=u=>{if(u.target&&!s.current){let f=function(){Jw(k2,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);s.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function A2(t,e=globalThis==null?void 0:globalThis.document){const n=vr(t),s=E.useRef(!1);return E.useEffect(()=>{const o=a=>{a.target&&!s.current&&Jw(E2,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function nv(){const t=new CustomEvent(of);document.dispatchEvent(t)}function Jw(t,e,n,{discrete:s}){const o=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),s?b2(o,a):o.dispatchEvent(a)}var gd=0;function Xw(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??rv()),document.body.insertAdjacentElement("beforeend",t[1]??rv()),gd++,()=>{gd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gd--}},[])}function rv(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var yd="focusScope.autoFocusOnMount",vd="focusScope.autoFocusOnUnmount",sv={bubbles:!1,cancelable:!0},R2="FocusScope",dh=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=t,[u,f]=E.useState(null),h=vr(o),m=vr(a),v=E.useRef(null),w=ot(e,b=>f(b)),x=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(s){let b=function(T){if(x.paused||!u)return;const R=T.target;u.contains(R)?v.current=R:fr(v.current,{select:!0})},k=function(T){if(x.paused||!u)return;const R=T.relatedTarget;R!==null&&(u.contains(R)||fr(v.current,{select:!0}))},C=function(T){if(document.activeElement===document.body)for(const D of T)D.removedNodes.length>0&&fr(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",k);const P=new MutationObserver(C);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",k),P.disconnect()}}},[s,u,x.paused]),E.useEffect(()=>{if(u){ov.add(x);const b=document.activeElement;if(!u.contains(b)){const C=new CustomEvent(yd,sv);u.addEventListener(yd,h),u.dispatchEvent(C),C.defaultPrevented||(j2(M2(Qw(u)),{select:!0}),document.activeElement===b&&fr(u))}return()=>{u.removeEventListener(yd,h),setTimeout(()=>{const C=new CustomEvent(vd,sv);u.addEventListener(vd,m),u.dispatchEvent(C),C.defaultPrevented||fr(b??document.body,{select:!0}),u.removeEventListener(vd,m),ov.remove(x)},0)}}},[u,h,m,x]);const S=E.useCallback(b=>{if(!n&&!s||x.paused)return;const k=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,C=document.activeElement;if(k&&C){const P=b.currentTarget,[T,R]=N2(P);T&&R?!b.shiftKey&&C===R?(b.preventDefault(),n&&fr(T,{select:!0})):b.shiftKey&&C===T&&(b.preventDefault(),n&&fr(R,{select:!0})):C===P&&b.preventDefault()}},[n,s,x.paused]);return g.jsx(at.div,{tabIndex:-1,...c,ref:w,onKeyDown:S})});dh.displayName=R2;function j2(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(fr(s,{select:e}),document.activeElement!==n)return}function N2(t){const e=Qw(t),n=iv(e,t),s=iv(e.reverse(),t);return[n,s]}function Qw(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function iv(t,e){for(const n of t)if(!O2(n,{upTo:e}))return n}function O2(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function I2(t){return t instanceof HTMLInputElement&&"select"in t}function fr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&I2(t)&&e&&t.select()}}var ov=D2();function D2(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=av(t,e),t.unshift(e)},remove(e){var n;t=av(t,e),(n=t[0])==null||n.resume()}}}function av(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function M2(t){return t.filter(e=>e.tagName!=="A")}var Yr=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},L2=t1.useId||(()=>{}),$2=0;function wl(t){const[e,n]=E.useState(L2());return Yr(()=>{n(s=>s??String($2++))},[t]),t||(e?`radix-${e}`:"")}const V2=["top","right","bottom","left"],wr=Math.min,It=Math.max,Ol=Math.round,qa=Math.floor,_n=t=>({x:t,y:t}),F2={left:"right",right:"left",bottom:"top",top:"bottom"},U2={start:"end",end:"start"};function af(t,e,n){return It(t,wr(e,n))}function Vn(t,e){return typeof t=="function"?t(e):t}function Fn(t){return t.split("-")[0]}function ni(t){return t.split("-")[1]}function fh(t){return t==="x"?"y":"x"}function hh(t){return t==="y"?"height":"width"}const B2=new Set(["top","bottom"]);function bn(t){return B2.has(Fn(t))?"y":"x"}function ph(t){return fh(bn(t))}function z2(t,e,n){n===void 0&&(n=!1);const s=ni(t),o=ph(t),a=hh(o);let c=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=Il(c)),[c,Il(c)]}function W2(t){const e=Il(t);return[lf(t),e,lf(e)]}function lf(t){return t.replace(/start|end/g,e=>U2[e])}const lv=["left","right"],cv=["right","left"],H2=["top","bottom"],K2=["bottom","top"];function G2(t,e,n){switch(t){case"top":case"bottom":return n?e?cv:lv:e?lv:cv;case"left":case"right":return e?H2:K2;default:return[]}}function q2(t,e,n,s){const o=ni(t);let a=G2(Fn(t),n==="start",s);return o&&(a=a.map(c=>c+"-"+o),e&&(a=a.concat(a.map(lf)))),a}function Il(t){return t.replace(/left|right|bottom|top/g,e=>F2[e])}function Y2(t){return{top:0,right:0,bottom:0,left:0,...t}}function Zw(t){return typeof t!="number"?Y2(t):{top:t,right:t,bottom:t,left:t}}function Dl(t){const{x:e,y:n,width:s,height:o}=t;return{width:s,height:o,top:n,left:e,right:e+s,bottom:n+o,x:e,y:n}}function uv(t,e,n){let{reference:s,floating:o}=t;const a=bn(e),c=ph(e),u=hh(c),f=Fn(e),h=a==="y",m=s.x+s.width/2-o.width/2,v=s.y+s.height/2-o.height/2,w=s[u]/2-o[u]/2;let x;switch(f){case"top":x={x:m,y:s.y-o.height};break;case"bottom":x={x:m,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:v};break;case"left":x={x:s.x-o.width,y:v};break;default:x={x:s.x,y:s.y}}switch(ni(e)){case"start":x[c]-=w*(n&&h?-1:1);break;case"end":x[c]+=w*(n&&h?-1:1);break}return x}async function J2(t,e){var n;e===void 0&&(e={});const{x:s,y:o,platform:a,rects:c,elements:u,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:w=!1,padding:x=0}=Vn(e,t),S=Zw(x),k=u[w?v==="floating"?"reference":"floating":v],C=Dl(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(k)))==null||n?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:f})),P=v==="floating"?{x:s,y:o,width:c.floating.width,height:c.floating.height}:c.reference,T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),R=await(a.isElement==null?void 0:a.isElement(T))?await(a.getScale==null?void 0:a.getScale(T))||{x:1,y:1}:{x:1,y:1},D=Dl(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:P,offsetParent:T,strategy:f}):P);return{top:(C.top-D.top+S.top)/R.y,bottom:(D.bottom-C.bottom+S.bottom)/R.y,left:(C.left-D.left+S.left)/R.x,right:(D.right-C.right+S.right)/R.x}}const X2=async(t,e,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:c}=n,u=a.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let h=await c.getElementRects({reference:t,floating:e,strategy:o}),{x:m,y:v}=uv(h,s,f),w=s,x={},S=0;for(let k=0;k<u.length;k++){var b;const{name:C,fn:P}=u[k],{x:T,y:R,data:D,reset:M}=await P({x:m,y:v,initialPlacement:s,placement:w,strategy:o,middlewareData:x,rects:h,platform:{...c,detectOverflow:(b=c.detectOverflow)!=null?b:J2},elements:{reference:t,floating:e}});m=T??m,v=R??v,x={...x,[C]:{...x[C],...D}},M&&S<=50&&(S++,typeof M=="object"&&(M.placement&&(w=M.placement),M.rects&&(h=M.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:o}):M.rects),{x:m,y:v}=uv(h,w,f)),k=-1)}return{x:m,y:v,placement:w,strategy:o,middlewareData:x}},Q2=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:o,rects:a,platform:c,elements:u,middlewareData:f}=e,{element:h,padding:m=0}=Vn(t,e)||{};if(h==null)return{};const v=Zw(m),w={x:n,y:s},x=ph(o),S=hh(x),b=await c.getDimensions(h),k=x==="y",C=k?"top":"left",P=k?"bottom":"right",T=k?"clientHeight":"clientWidth",R=a.reference[S]+a.reference[x]-w[x]-a.floating[S],D=w[x]-a.reference[x],M=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let U=M?M[T]:0;(!U||!await(c.isElement==null?void 0:c.isElement(M)))&&(U=u.floating[T]||a.floating[S]);const $=R/2-D/2,J=U/2-b[S]/2-1,ne=wr(v[C],J),ae=wr(v[P],J),ce=ne,me=U-b[S]-ae,Z=U/2-b[S]/2+$,he=af(ce,Z,me),le=!f.arrow&&ni(o)!=null&&Z!==he&&a.reference[S]/2-(Z<ce?ne:ae)-b[S]/2<0,B=le?Z<ce?Z-ce:Z-me:0;return{[x]:w[x]+B,data:{[x]:he,centerOffset:Z-he-B,...le&&{alignmentOffset:B}},reset:le}}}),Z2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:o,middlewareData:a,rects:c,initialPlacement:u,platform:f,elements:h}=e,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:b=!0,...k}=Vn(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const C=Fn(o),P=bn(u),T=Fn(u)===u,R=await(f.isRTL==null?void 0:f.isRTL(h.floating)),D=w||(T||!b?[Il(u)]:W2(u)),M=S!=="none";!w&&M&&D.push(...q2(u,b,S,R));const U=[u,...D],$=await f.detectOverflow(e,k),J=[];let ne=((s=a.flip)==null?void 0:s.overflows)||[];if(m&&J.push($[C]),v){const Z=z2(o,c,R);J.push($[Z[0]],$[Z[1]])}if(ne=[...ne,{placement:o,overflows:J}],!J.every(Z=>Z<=0)){var ae,ce;const Z=(((ae=a.flip)==null?void 0:ae.index)||0)+1,he=U[Z];if(he&&(!(v==="alignment"?P!==bn(he):!1)||ne.every(N=>bn(N.placement)===P?N.overflows[0]>0:!0)))return{data:{index:Z,overflows:ne},reset:{placement:he}};let le=(ce=ne.filter(B=>B.overflows[0]<=0).sort((B,N)=>B.overflows[1]-N.overflows[1])[0])==null?void 0:ce.placement;if(!le)switch(x){case"bestFit":{var me;const B=(me=ne.filter(N=>{if(M){const z=bn(N.placement);return z===P||z==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(z=>z>0).reduce((z,H)=>z+H,0)]).sort((N,z)=>N[1]-z[1])[0])==null?void 0:me[0];B&&(le=B);break}case"initialPlacement":le=u;break}if(o!==le)return{reset:{placement:le}}}return{}}}};function dv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function fv(t){return V2.some(e=>t[e]>=0)}const eP=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n,platform:s}=e,{strategy:o="referenceHidden",...a}=Vn(t,e);switch(o){case"referenceHidden":{const c=await s.detectOverflow(e,{...a,elementContext:"reference"}),u=dv(c,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:fv(u)}}}case"escaped":{const c=await s.detectOverflow(e,{...a,altBoundary:!0}),u=dv(c,n.floating);return{data:{escapedOffsets:u,escaped:fv(u)}}}default:return{}}}}},ex=new Set(["left","top"]);async function tP(t,e){const{placement:n,platform:s,elements:o}=t,a=await(s.isRTL==null?void 0:s.isRTL(o.floating)),c=Fn(n),u=ni(n),f=bn(n)==="y",h=ex.has(c)?-1:1,m=a&&f?-1:1,v=Vn(e,t);let{mainAxis:w,crossAxis:x,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof S=="number"&&(x=u==="end"?S*-1:S),f?{x:x*m,y:w*h}:{x:w*h,y:x*m}}const nP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:o,y:a,placement:c,middlewareData:u}=e,f=await tP(e,t);return c===((n=u.offset)==null?void 0:n.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:c}}}}},rP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:o,platform:a}=e,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:C=>{let{x:P,y:T}=C;return{x:P,y:T}}},...h}=Vn(t,e),m={x:n,y:s},v=await a.detectOverflow(e,h),w=bn(Fn(o)),x=fh(w);let S=m[x],b=m[w];if(c){const C=x==="y"?"top":"left",P=x==="y"?"bottom":"right",T=S+v[C],R=S-v[P];S=af(T,S,R)}if(u){const C=w==="y"?"top":"left",P=w==="y"?"bottom":"right",T=b+v[C],R=b-v[P];b=af(T,b,R)}const k=f.fn({...e,[x]:S,[w]:b});return{...k,data:{x:k.x-n,y:k.y-s,enabled:{[x]:c,[w]:u}}}}}},sP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:o,rects:a,middlewareData:c}=e,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=Vn(t,e),m={x:n,y:s},v=bn(o),w=fh(v);let x=m[w],S=m[v];const b=Vn(u,e),k=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(f){const T=w==="y"?"height":"width",R=a.reference[w]-a.floating[T]+k.mainAxis,D=a.reference[w]+a.reference[T]-k.mainAxis;x<R?x=R:x>D&&(x=D)}if(h){var C,P;const T=w==="y"?"width":"height",R=ex.has(Fn(o)),D=a.reference[v]-a.floating[T]+(R&&((C=c.offset)==null?void 0:C[v])||0)+(R?0:k.crossAxis),M=a.reference[v]+a.reference[T]+(R?0:((P=c.offset)==null?void 0:P[v])||0)-(R?k.crossAxis:0);S<D?S=D:S>M&&(S=M)}return{[w]:x,[v]:S}}}},iP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:o,rects:a,platform:c,elements:u}=e,{apply:f=()=>{},...h}=Vn(t,e),m=await c.detectOverflow(e,h),v=Fn(o),w=ni(o),x=bn(o)==="y",{width:S,height:b}=a.floating;let k,C;v==="top"||v==="bottom"?(k=v,C=w===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(C=v,k=w==="end"?"top":"bottom");const P=b-m.top-m.bottom,T=S-m.left-m.right,R=wr(b-m[k],P),D=wr(S-m[C],T),M=!e.middlewareData.shift;let U=R,$=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&($=T),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(U=P),M&&!w){const ne=It(m.left,0),ae=It(m.right,0),ce=It(m.top,0),me=It(m.bottom,0);x?$=S-2*(ne!==0||ae!==0?ne+ae:It(m.left,m.right)):U=b-2*(ce!==0||me!==0?ce+me:It(m.top,m.bottom))}await f({...e,availableWidth:$,availableHeight:U});const J=await c.getDimensions(u.floating);return S!==J.width||b!==J.height?{reset:{rects:!0}}:{}}}};function Hl(){return typeof window<"u"}function ri(t){return tx(t)?(t.nodeName||"").toLowerCase():"#document"}function Mt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cn(t){var e;return(e=(tx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tx(t){return Hl()?t instanceof Node||t instanceof Mt(t).Node:!1}function cn(t){return Hl()?t instanceof Element||t instanceof Mt(t).Element:!1}function En(t){return Hl()?t instanceof HTMLElement||t instanceof Mt(t).HTMLElement:!1}function hv(t){return!Hl()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mt(t).ShadowRoot}const oP=new Set(["inline","contents"]);function Ro(t){const{overflow:e,overflowX:n,overflowY:s,display:o}=un(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!oP.has(o)}const aP=new Set(["table","td","th"]);function lP(t){return aP.has(ri(t))}const cP=[":popover-open",":modal"];function Kl(t){return cP.some(e=>{try{return t.matches(e)}catch{return!1}})}const uP=["transform","translate","scale","rotate","perspective"],dP=["transform","translate","scale","rotate","perspective","filter"],fP=["paint","layout","strict","content"];function mh(t){const e=gh(),n=cn(t)?un(t):t;return uP.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||dP.some(s=>(n.willChange||"").includes(s))||fP.some(s=>(n.contain||"").includes(s))}function hP(t){let e=xr(t);for(;En(e)&&!Xs(e);){if(mh(e))return e;if(Kl(e))return null;e=xr(e)}return null}function gh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pP=new Set(["html","body","#document"]);function Xs(t){return pP.has(ri(t))}function un(t){return Mt(t).getComputedStyle(t)}function Gl(t){return cn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xr(t){if(ri(t)==="html")return t;const e=t.assignedSlot||t.parentNode||hv(t)&&t.host||Cn(t);return hv(e)?e.host:e}function nx(t){const e=xr(t);return Xs(e)?t.ownerDocument?t.ownerDocument.body:t.body:En(e)&&Ro(e)?e:nx(e)}function yo(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=nx(t),a=o===((s=t.ownerDocument)==null?void 0:s.body),c=Mt(o);if(a){const u=cf(c);return e.concat(c,c.visualViewport||[],Ro(o)?o:[],u&&n?yo(u):[])}return e.concat(o,yo(o,[],n))}function cf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function rx(t){const e=un(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const o=En(t),a=o?t.offsetWidth:n,c=o?t.offsetHeight:s,u=Ol(n)!==a||Ol(s)!==c;return u&&(n=a,s=c),{width:n,height:s,$:u}}function yh(t){return cn(t)?t:t.contextElement}function Hs(t){const e=yh(t);if(!En(e))return _n(1);const n=e.getBoundingClientRect(),{width:s,height:o,$:a}=rx(e);let c=(a?Ol(n.width):n.width)/s,u=(a?Ol(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const mP=_n(0);function sx(t){const e=Mt(t);return!gh()||!e.visualViewport?mP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Mt(t)?!1:e}function Jr(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=yh(t);let c=_n(1);e&&(s?cn(s)&&(c=Hs(s)):c=Hs(t));const u=gP(a,n,s)?sx(a):_n(0);let f=(o.left+u.x)/c.x,h=(o.top+u.y)/c.y,m=o.width/c.x,v=o.height/c.y;if(a){const w=Mt(a),x=s&&cn(s)?Mt(s):s;let S=w,b=cf(S);for(;b&&s&&x!==S;){const k=Hs(b),C=b.getBoundingClientRect(),P=un(b),T=C.left+(b.clientLeft+parseFloat(P.paddingLeft))*k.x,R=C.top+(b.clientTop+parseFloat(P.paddingTop))*k.y;f*=k.x,h*=k.y,m*=k.x,v*=k.y,f+=T,h+=R,S=Mt(b),b=cf(S)}}return Dl({width:m,height:v,x:f,y:h})}function ql(t,e){const n=Gl(t).scrollLeft;return e?e.left+n:Jr(Cn(t)).left+n}function ix(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-ql(t,n),o=n.top+e.scrollTop;return{x:s,y:o}}function yP(t){let{elements:e,rect:n,offsetParent:s,strategy:o}=t;const a=o==="fixed",c=Cn(s),u=e?Kl(e.floating):!1;if(s===c||u&&a)return n;let f={scrollLeft:0,scrollTop:0},h=_n(1);const m=_n(0),v=En(s);if((v||!v&&!a)&&((ri(s)!=="body"||Ro(c))&&(f=Gl(s)),En(s))){const x=Jr(s);h=Hs(s),m.x=x.x+s.clientLeft,m.y=x.y+s.clientTop}const w=c&&!v&&!a?ix(c,f):_n(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+m.x+w.x,y:n.y*h.y-f.scrollTop*h.y+m.y+w.y}}function vP(t){return Array.from(t.getClientRects())}function wP(t){const e=Cn(t),n=Gl(t),s=t.ownerDocument.body,o=It(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=It(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+ql(t);const u=-n.scrollTop;return un(s).direction==="rtl"&&(c+=It(e.clientWidth,s.clientWidth)-o),{width:o,height:a,x:c,y:u}}const pv=25;function xP(t,e){const n=Mt(t),s=Cn(t),o=n.visualViewport;let a=s.clientWidth,c=s.clientHeight,u=0,f=0;if(o){a=o.width,c=o.height;const m=gh();(!m||m&&e==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}const h=ql(s);if(h<=0){const m=s.ownerDocument,v=m.body,w=getComputedStyle(v),x=m.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,S=Math.abs(s.clientWidth-v.clientWidth-x);S<=pv&&(a-=S)}else h<=pv&&(a+=h);return{width:a,height:c,x:u,y:f}}const bP=new Set(["absolute","fixed"]);function SP(t,e){const n=Jr(t,!0,e==="fixed"),s=n.top+t.clientTop,o=n.left+t.clientLeft,a=En(t)?Hs(t):_n(1),c=t.clientWidth*a.x,u=t.clientHeight*a.y,f=o*a.x,h=s*a.y;return{width:c,height:u,x:f,y:h}}function mv(t,e,n){let s;if(e==="viewport")s=xP(t,n);else if(e==="document")s=wP(Cn(t));else if(cn(e))s=SP(e,n);else{const o=sx(t);s={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Dl(s)}function ox(t,e){const n=xr(t);return n===e||!cn(n)||Xs(n)?!1:un(n).position==="fixed"||ox(n,e)}function _P(t,e){const n=e.get(t);if(n)return n;let s=yo(t,[],!1).filter(u=>cn(u)&&ri(u)!=="body"),o=null;const a=un(t).position==="fixed";let c=a?xr(t):t;for(;cn(c)&&!Xs(c);){const u=un(c),f=mh(c);!f&&u.position==="fixed"&&(o=null),(a?!f&&!o:!f&&u.position==="static"&&!!o&&bP.has(o.position)||Ro(c)&&!f&&ox(t,c))?s=s.filter(m=>m!==c):o=u,c=xr(c)}return e.set(t,s),s}function kP(t){let{element:e,boundary:n,rootBoundary:s,strategy:o}=t;const c=[...n==="clippingAncestors"?Kl(e)?[]:_P(e,this._c):[].concat(n),s],u=c[0],f=c.reduce((h,m)=>{const v=mv(e,m,o);return h.top=It(v.top,h.top),h.right=wr(v.right,h.right),h.bottom=wr(v.bottom,h.bottom),h.left=It(v.left,h.left),h},mv(e,u,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function EP(t){const{width:e,height:n}=rx(t);return{width:e,height:n}}function CP(t,e,n){const s=En(e),o=Cn(e),a=n==="fixed",c=Jr(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const f=_n(0);function h(){f.x=ql(o)}if(s||!s&&!a)if((ri(e)!=="body"||Ro(o))&&(u=Gl(e)),s){const x=Jr(e,!0,a,e);f.x=x.x+e.clientLeft,f.y=x.y+e.clientTop}else o&&h();a&&!s&&o&&h();const m=o&&!s&&!a?ix(o,u):_n(0),v=c.left+u.scrollLeft-f.x-m.x,w=c.top+u.scrollTop-f.y-m.y;return{x:v,y:w,width:c.width,height:c.height}}function wd(t){return un(t).position==="static"}function gv(t,e){if(!En(t)||un(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Cn(t)===n&&(n=n.ownerDocument.body),n}function ax(t,e){const n=Mt(t);if(Kl(t))return n;if(!En(t)){let o=xr(t);for(;o&&!Xs(o);){if(cn(o)&&!wd(o))return o;o=xr(o)}return n}let s=gv(t,e);for(;s&&lP(s)&&wd(s);)s=gv(s,e);return s&&Xs(s)&&wd(s)&&!mh(s)?n:s||hP(t)||n}const TP=async function(t){const e=this.getOffsetParent||ax,n=this.getDimensions,s=await n(t.floating);return{reference:CP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function PP(t){return un(t).direction==="rtl"}const AP={convertOffsetParentRelativeRectToViewportRelativeRect:yP,getDocumentElement:Cn,getClippingRect:kP,getOffsetParent:ax,getElementRects:TP,getClientRects:vP,getDimensions:EP,getScale:Hs,isElement:cn,isRTL:PP};function lx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function RP(t,e){let n=null,s;const o=Cn(t);function a(){var u;clearTimeout(s),(u=n)==null||u.disconnect(),n=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),a();const h=t.getBoundingClientRect(),{left:m,top:v,width:w,height:x}=h;if(u||e(),!w||!x)return;const S=qa(v),b=qa(o.clientWidth-(m+w)),k=qa(o.clientHeight-(v+x)),C=qa(m),T={rootMargin:-S+"px "+-b+"px "+-k+"px "+-C+"px",threshold:It(0,wr(1,f))||1};let R=!0;function D(M){const U=M[0].intersectionRatio;if(U!==f){if(!R)return c();U?c(!1,U):s=setTimeout(()=>{c(!1,1e-7)},1e3)}U===1&&!lx(h,t.getBoundingClientRect())&&c(),R=!1}try{n=new IntersectionObserver(D,{...T,root:o.ownerDocument})}catch{n=new IntersectionObserver(D,T)}n.observe(t)}return c(!0),a}function jP(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,h=yh(t),m=o||a?[...h?yo(h):[],...yo(e)]:[];m.forEach(C=>{o&&C.addEventListener("scroll",n,{passive:!0}),a&&C.addEventListener("resize",n)});const v=h&&u?RP(h,n):null;let w=-1,x=null;c&&(x=new ResizeObserver(C=>{let[P]=C;P&&P.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var T;(T=x)==null||T.observe(e)})),n()}),h&&!f&&x.observe(h),x.observe(e));let S,b=f?Jr(t):null;f&&k();function k(){const C=Jr(t);b&&!lx(b,C)&&n(),b=C,S=requestAnimationFrame(k)}return n(),()=>{var C;m.forEach(P=>{o&&P.removeEventListener("scroll",n),a&&P.removeEventListener("resize",n)}),v==null||v(),(C=x)==null||C.disconnect(),x=null,f&&cancelAnimationFrame(S)}}const NP=nP,OP=rP,IP=Z2,DP=iP,MP=eP,yv=Q2,LP=sP,$P=(t,e,n)=>{const s=new Map,o={platform:AP,...n},a={...o.platform,_c:s};return X2(t,e,{...o,platform:a})};var VP=typeof document<"u",FP=function(){},xl=VP?E.useLayoutEffect:FP;function Ml(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Ml(t[s],e[s]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,o[s]))return!1;for(s=n;s--!==0;){const a=o[s];if(!(a==="_owner"&&t.$$typeof)&&!Ml(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function cx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function vv(t,e){const n=cx(t);return Math.round(e*n)/n}function xd(t){const e=E.useRef(t);return xl(()=>{e.current=t}),e}function UP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:a,floating:c}={},transform:u=!0,whileElementsMounted:f,open:h}=t,[m,v]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,x]=E.useState(s);Ml(w,s)||x(s);const[S,b]=E.useState(null),[k,C]=E.useState(null),P=E.useCallback(N=>{N!==M.current&&(M.current=N,b(N))},[]),T=E.useCallback(N=>{N!==U.current&&(U.current=N,C(N))},[]),R=a||S,D=c||k,M=E.useRef(null),U=E.useRef(null),$=E.useRef(m),J=f!=null,ne=xd(f),ae=xd(o),ce=xd(h),me=E.useCallback(()=>{if(!M.current||!U.current)return;const N={placement:e,strategy:n,middleware:w};ae.current&&(N.platform=ae.current),$P(M.current,U.current,N).then(z=>{const H={...z,isPositioned:ce.current!==!1};Z.current&&!Ml($.current,H)&&($.current=H,ch.flushSync(()=>{v(H)}))})},[w,e,n,ae,ce]);xl(()=>{h===!1&&$.current.isPositioned&&($.current.isPositioned=!1,v(N=>({...N,isPositioned:!1})))},[h]);const Z=E.useRef(!1);xl(()=>(Z.current=!0,()=>{Z.current=!1}),[]),xl(()=>{if(R&&(M.current=R),D&&(U.current=D),R&&D){if(ne.current)return ne.current(R,D,me);me()}},[R,D,me,ne,J]);const he=E.useMemo(()=>({reference:M,floating:U,setReference:P,setFloating:T}),[P,T]),le=E.useMemo(()=>({reference:R,floating:D}),[R,D]),B=E.useMemo(()=>{const N={position:n,left:0,top:0};if(!le.floating)return N;const z=vv(le.floating,m.x),H=vv(le.floating,m.y);return u?{...N,transform:"translate("+z+"px, "+H+"px)",...cx(le.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:H}},[n,u,le.floating,m.x,m.y]);return E.useMemo(()=>({...m,update:me,refs:he,elements:le,floatingStyles:B}),[m,me,he,le,B])}const BP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:o}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?yv({element:s.current,padding:o}).fn(n):{}:s?yv({element:s,padding:o}).fn(n):{}}}},zP=(t,e)=>({...NP(t),options:[t,e]}),WP=(t,e)=>({...OP(t),options:[t,e]}),HP=(t,e)=>({...LP(t),options:[t,e]}),KP=(t,e)=>({...IP(t),options:[t,e]}),GP=(t,e)=>({...DP(t),options:[t,e]}),qP=(t,e)=>({...MP(t),options:[t,e]}),YP=(t,e)=>({...BP(t),options:[t,e]});var JP="Arrow",ux=E.forwardRef((t,e)=>{const{children:n,width:s=10,height:o=5,...a}=t;return g.jsx(at.svg,{...a,ref:e,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});ux.displayName=JP;var XP=ux;function dx(t){const[e,n]=E.useState(void 0);return Yr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,u;if("borderBoxSize"in a){const f=a.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=t.offsetWidth,u=t.offsetHeight;n({width:c,height:u})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var vh="Popper",[fx,hx]=Ao(vh),[QP,px]=fx(vh),mx=t=>{const{__scopePopper:e,children:n}=t,[s,o]=E.useState(null);return g.jsx(QP,{scope:e,anchor:s,onAnchorChange:o,children:n})};mx.displayName=vh;var gx="PopperAnchor",yx=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...o}=t,a=px(gx,n),c=E.useRef(null),u=ot(e,c);return E.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||c.current)}),s?null:g.jsx(at.div,{...o,ref:u})});yx.displayName=gx;var wh="PopperContent",[ZP,eA]=fx(wh),vx=E.forwardRef((t,e)=>{var xe,Ce,Pe,We,Gt,fn;const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:v="partial",hideWhenDetached:w=!1,updatePositionStrategy:x="optimized",onPlaced:S,...b}=t,k=px(wh,n),[C,P]=E.useState(null),T=ot(e,hn=>P(hn)),[R,D]=E.useState(null),M=dx(R),U=(M==null?void 0:M.width)??0,$=(M==null?void 0:M.height)??0,J=s+(a!=="center"?"-"+a:""),ne=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},ae=Array.isArray(h)?h:[h],ce=ae.length>0,me={padding:ne,boundary:ae.filter(nA),altBoundary:ce},{refs:Z,floatingStyles:he,placement:le,isPositioned:B,middlewareData:N}=UP({strategy:"fixed",placement:J,whileElementsMounted:(...hn)=>jP(...hn,{animationFrame:x==="always"}),elements:{reference:k.anchor},middleware:[zP({mainAxis:o+$,alignmentAxis:c}),f&&WP({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?HP():void 0,...me}),f&&KP({...me}),GP({...me,apply:({elements:hn,rects:Qr,availableWidth:Oo,availableHeight:Io})=>{const{width:ui,height:Do}=Qr.reference,Bn=hn.floating.style;Bn.setProperty("--radix-popper-available-width",`${Oo}px`),Bn.setProperty("--radix-popper-available-height",`${Io}px`),Bn.setProperty("--radix-popper-anchor-width",`${ui}px`),Bn.setProperty("--radix-popper-anchor-height",`${Do}px`)}}),R&&YP({element:R,padding:u}),rA({arrowWidth:U,arrowHeight:$}),w&&qP({strategy:"referenceHidden",...me})]}),[z,H]=bx(le),O=vr(S);Yr(()=>{B&&(O==null||O())},[B,O]);const W=(xe=N.arrow)==null?void 0:xe.x,X=(Ce=N.arrow)==null?void 0:Ce.y,pe=((Pe=N.arrow)==null?void 0:Pe.centerOffset)!==0,[Se,_e]=E.useState();return Yr(()=>{C&&_e(window.getComputedStyle(C).zIndex)},[C]),g.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...he,transform:B?he.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(We=N.transformOrigin)==null?void 0:We.x,(Gt=N.transformOrigin)==null?void 0:Gt.y].join(" "),...((fn=N.hide)==null?void 0:fn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(ZP,{scope:n,placedSide:z,onArrowChange:D,arrowX:W,arrowY:X,shouldHideArrow:pe,children:g.jsx(at.div,{"data-side":z,"data-align":H,...b,ref:T,style:{...b.style,animation:B?void 0:"none"}})})})});vx.displayName=wh;var wx="PopperArrow",tA={top:"bottom",right:"left",bottom:"top",left:"right"},xx=E.forwardRef(function(e,n){const{__scopePopper:s,...o}=e,a=eA(wx,s),c=tA[a.placedSide];return g.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:g.jsx(XP,{...o,ref:n,style:{...o.style,display:"block"}})})});xx.displayName=wx;function nA(t){return t!==null}var rA=t=>({name:"transformOrigin",options:t,fn(e){var k,C,P;const{placement:n,rects:s,middlewareData:o}=e,c=((k=o.arrow)==null?void 0:k.centerOffset)!==0,u=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[h,m]=bx(n),v={start:"0%",center:"50%",end:"100%"}[m],w=(((C=o.arrow)==null?void 0:C.x)??0)+u/2,x=(((P=o.arrow)==null?void 0:P.y)??0)+f/2;let S="",b="";return h==="bottom"?(S=c?v:`${w}px`,b=`${-f}px`):h==="top"?(S=c?v:`${w}px`,b=`${s.floating.height+f}px`):h==="right"?(S=`${-f}px`,b=c?v:`${x}px`):h==="left"&&(S=`${s.floating.width+f}px`,b=c?v:`${x}px`),{data:{x:S,y:b}}}});function bx(t){const[e,n="center"]=t.split("-");return[e,n]}var sA=mx,Sx=yx,iA=vx,oA=xx,aA="Portal",xh=E.forwardRef((t,e)=>{var u;const{container:n,...s}=t,[o,a]=E.useState(!1);Yr(()=>a(!0),[]);const c=n||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?m2.createPortal(g.jsx(at.div,{...s,ref:e}),c):null});xh.displayName=aA;function lA(t,e){return E.useReducer((n,s)=>e[n][s]??n,t)}var si=t=>{const{present:e,children:n}=t,s=cA(e),o=typeof n=="function"?n({present:s.isPresent}):E.Children.only(n),a=ot(s.ref,uA(o));return typeof n=="function"||s.isPresent?E.cloneElement(o,{ref:a}):null};si.displayName="Presence";function cA(t){const[e,n]=E.useState(),s=E.useRef({}),o=E.useRef(t),a=E.useRef("none"),c=t?"mounted":"unmounted",[u,f]=lA(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const h=Ya(s.current);a.current=u==="mounted"?h:"none"},[u]),Yr(()=>{const h=s.current,m=o.current;if(m!==t){const w=a.current,x=Ya(h);t?f("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(m&&w!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,f]),Yr(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,v=x=>{const b=Ya(s.current).includes(x.animationName);if(x.target===e&&b&&(f("ANIMATION_END"),!o.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},w=x=>{x.target===e&&(a.current=Ya(s.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:E.useCallback(h=>{h&&(s.current=getComputedStyle(h)),n(h)},[])}}function Ya(t){return(t==null?void 0:t.animationName)||"none"}function uA(t){var s,o;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function bh({prop:t,defaultProp:e,onChange:n=()=>{}}){const[s,o]=dA({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s,u=vr(n),f=E.useCallback(h=>{if(a){const v=typeof h=="function"?h(t):h;v!==t&&u(v)}else o(h)},[a,t,o,u]);return[c,f]}function dA({defaultProp:t,onChange:e}){const n=E.useState(t),[s]=n,o=E.useRef(s),a=vr(e);return E.useEffect(()=>{o.current!==s&&(a(s),o.current=s)},[s,o,a]),n}var fA=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ks=new WeakMap,Ja=new WeakMap,Xa={},bd=0,_x=function(t){return t&&(t.host||_x(t.parentNode))},hA=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=_x(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},pA=function(t,e,n,s){var o=hA(e,Array.isArray(t)?t:[t]);Xa[n]||(Xa[n]=new WeakMap);var a=Xa[n],c=[],u=new Set,f=new Set(o),h=function(v){!v||u.has(v)||(u.add(v),h(v.parentNode))};o.forEach(h);var m=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(w){if(u.has(w))m(w);else try{var x=w.getAttribute(s),S=x!==null&&x!=="false",b=(ks.get(w)||0)+1,k=(a.get(w)||0)+1;ks.set(w,b),a.set(w,k),c.push(w),b===1&&S&&Ja.set(w,!0),k===1&&w.setAttribute(n,"true"),S||w.setAttribute(s,"true")}catch(C){console.error("aria-hidden: cannot operate on ",w,C)}})};return m(e),u.clear(),bd++,function(){c.forEach(function(v){var w=ks.get(v)-1,x=a.get(v)-1;ks.set(v,w),a.set(v,x),w||(Ja.has(v)||v.removeAttribute(s),Ja.delete(v)),x||v.removeAttribute(n)}),bd--,bd||(ks=new WeakMap,ks=new WeakMap,Ja=new WeakMap,Xa={})}},kx=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),o=fA(t);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),pA(s,o,n,"aria-hidden")):function(){return null}},xn=function(){return xn=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xn.apply(this,arguments)};function ii(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function mA(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{h(s.next(m))}catch(v){c(v)}}function f(m){try{h(s.throw(m))}catch(v){c(v)}}function h(m){m.done?a(m.value):o(m.value).then(u,f)}h((s=s.apply(t,e||[])).next())})}function gA(t,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,a;s<o;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))}var bl="right-scroll-bar-position",Sl="width-before-scroll-bar",yA="with-scroll-bars-hidden",vA="--removed-body-scroll-bar-size";function Sd(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function wA(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=e,n.facade}var xA=typeof window<"u"?E.useLayoutEffect:E.useEffect,wv=new WeakMap;function bA(t,e){var n=wA(null,function(s){return t.forEach(function(o){return Sd(o,s)})});return xA(function(){var s=wv.get(n);if(s){var o=new Set(s),a=new Set(t),c=n.current;o.forEach(function(u){a.has(u)||Sd(u,null)}),a.forEach(function(u){o.has(u)||Sd(u,c)})}wv.set(n,t)},[t]),n}function SA(t){return t}function _A(t,e){e===void 0&&(e=SA);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var c=e(a,s);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(a){for(s=!0;n.length;){var c=n;n=[],c.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){s=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(a),c=n}var f=function(){var m=c;c=[],m.forEach(a)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(m){c.push(m),h()},filter:function(m){return c=c.filter(m),n}}}};return o}function kA(t){t===void 0&&(t={});var e=_A(null);return e.options=xn({async:!0,ssr:!1},t),e}var Ex=function(t){var e=t.sideCar,n=ii(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return E.createElement(s,xn({},n))};Ex.isSideCarExport=!0;function EA(t,e){return t.useMedium(e),Ex}var Cx=kA(),_d=function(){},Yl=E.forwardRef(function(t,e){var n=E.useRef(null),s=E.useState({onScrollCapture:_d,onWheelCapture:_d,onTouchMoveCapture:_d}),o=s[0],a=s[1],c=t.forwardProps,u=t.children,f=t.className,h=t.removeScrollBar,m=t.enabled,v=t.shards,w=t.sideCar,x=t.noRelative,S=t.noIsolation,b=t.inert,k=t.allowPinchZoom,C=t.as,P=C===void 0?"div":C,T=t.gapMode,R=ii(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=w,M=bA([n,e]),U=xn(xn({},R),o);return E.createElement(E.Fragment,null,m&&E.createElement(D,{sideCar:Cx,removeScrollBar:h,shards:v,noRelative:x,noIsolation:S,inert:b,setCallbacks:a,allowPinchZoom:!!k,lockRef:n,gapMode:T}),c?E.cloneElement(E.Children.only(u),xn(xn({},U),{ref:M})):E.createElement(P,xn({},U,{className:f,ref:M}),u))});Yl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yl.classNames={fullWidth:Sl,zeroRight:bl};var CA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function TA(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=CA();return e&&t.setAttribute("nonce",e),t}function PA(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function AA(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var RA=function(){var t=0,e=null;return{add:function(n){t==0&&(e=TA())&&(PA(e,n),AA(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},jA=function(){var t=RA();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Tx=function(){var t=jA(),e=function(n){var s=n.styles,o=n.dynamic;return t(s,o),null};return e},NA={left:0,top:0,right:0,gap:0},kd=function(t){return parseInt(t||"",10)||0},OA=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[kd(n),kd(s),kd(o)]},IA=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return NA;var e=OA(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},DA=Tx(),Ks="data-scroll-locked",MA=function(t,e,n,s){var o=t.left,a=t.top,c=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(yA,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(Ks,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bl,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Sl,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(bl," .").concat(bl,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Sl," .").concat(Sl,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ks,`] {
    `).concat(vA,": ").concat(u,`px;
  }
`)},xv=function(){var t=parseInt(document.body.getAttribute(Ks)||"0",10);return isFinite(t)?t:0},LA=function(){E.useEffect(function(){return document.body.setAttribute(Ks,(xv()+1).toString()),function(){var t=xv()-1;t<=0?document.body.removeAttribute(Ks):document.body.setAttribute(Ks,t.toString())}},[])},$A=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,o=s===void 0?"margin":s;LA();var a=E.useMemo(function(){return IA(o)},[o]);return E.createElement(DA,{styles:MA(a,!e,o,n?"":"!important")})},uf=!1;if(typeof window<"u")try{var Qa=Object.defineProperty({},"passive",{get:function(){return uf=!0,!0}});window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{uf=!1}var Es=uf?{passive:!1}:!1,VA=function(t){return t.tagName==="TEXTAREA"},Px=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!VA(t)&&n[e]==="visible")},FA=function(t){return Px(t,"overflowY")},UA=function(t){return Px(t,"overflowX")},bv=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=Ax(t,s);if(o){var a=Rx(t,s),c=a[1],u=a[2];if(c>u)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},BA=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},zA=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},Ax=function(t,e){return t==="v"?FA(e):UA(e)},Rx=function(t,e){return t==="v"?BA(e):zA(e)},WA=function(t,e){return t==="h"&&e==="rtl"?-1:1},HA=function(t,e,n,s,o){var a=WA(t,window.getComputedStyle(e).direction),c=a*s,u=n.target,f=e.contains(u),h=!1,m=c>0,v=0,w=0;do{if(!u)break;var x=Rx(t,u),S=x[0],b=x[1],k=x[2],C=b-k-a*S;(S||C)&&Ax(t,u)&&(v+=C,w+=S);var P=u.parentNode;u=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(m&&Math.abs(v)<1||!m&&Math.abs(w)<1)&&(h=!0),h},Za=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Sv=function(t){return[t.deltaX,t.deltaY]},_v=function(t){return t&&"current"in t?t.current:t},KA=function(t,e){return t[0]===e[0]&&t[1]===e[1]},GA=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qA=0,Cs=[];function YA(t){var e=E.useRef([]),n=E.useRef([0,0]),s=E.useRef(),o=E.useState(qA++)[0],a=E.useState(Tx)[0],c=E.useRef(t);E.useEffect(function(){c.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var b=gA([t.lockRef.current],(t.shards||[]).map(_v),!0).filter(Boolean);return b.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),b.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var u=E.useCallback(function(b,k){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!c.current.allowPinchZoom;var C=Za(b),P=n.current,T="deltaX"in b?b.deltaX:P[0]-C[0],R="deltaY"in b?b.deltaY:P[1]-C[1],D,M=b.target,U=Math.abs(T)>Math.abs(R)?"h":"v";if("touches"in b&&U==="h"&&M.type==="range")return!1;var $=window.getSelection(),J=$&&$.anchorNode,ne=J?J===M||J.contains(M):!1;if(ne)return!1;var ae=bv(U,M);if(!ae)return!0;if(ae?D=U:(D=U==="v"?"h":"v",ae=bv(U,M)),!ae)return!1;if(!s.current&&"changedTouches"in b&&(T||R)&&(s.current=D),!D)return!0;var ce=s.current||D;return HA(ce,k,b,ce==="h"?T:R)},[]),f=E.useCallback(function(b){var k=b;if(!(!Cs.length||Cs[Cs.length-1]!==a)){var C="deltaY"in k?Sv(k):Za(k),P=e.current.filter(function(D){return D.name===k.type&&(D.target===k.target||k.target===D.shadowParent)&&KA(D.delta,C)})[0];if(P&&P.should){k.cancelable&&k.preventDefault();return}if(!P){var T=(c.current.shards||[]).map(_v).filter(Boolean).filter(function(D){return D.contains(k.target)}),R=T.length>0?u(k,T[0]):!c.current.noIsolation;R&&k.cancelable&&k.preventDefault()}}},[]),h=E.useCallback(function(b,k,C,P){var T={name:b,delta:k,target:C,should:P,shadowParent:JA(C)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(R){return R!==T})},1)},[]),m=E.useCallback(function(b){n.current=Za(b),s.current=void 0},[]),v=E.useCallback(function(b){h(b.type,Sv(b),b.target,u(b,t.lockRef.current))},[]),w=E.useCallback(function(b){h(b.type,Za(b),b.target,u(b,t.lockRef.current))},[]);E.useEffect(function(){return Cs.push(a),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",f,Es),document.addEventListener("touchmove",f,Es),document.addEventListener("touchstart",m,Es),function(){Cs=Cs.filter(function(b){return b!==a}),document.removeEventListener("wheel",f,Es),document.removeEventListener("touchmove",f,Es),document.removeEventListener("touchstart",m,Es)}},[]);var x=t.removeScrollBar,S=t.inert;return E.createElement(E.Fragment,null,S?E.createElement(a,{styles:GA(o)}):null,x?E.createElement($A,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function JA(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const XA=EA(Cx,YA);var Sh=E.forwardRef(function(t,e){return E.createElement(Yl,xn({},t,{ref:e,sideCar:XA}))});Sh.classNames=Yl.classNames;var _h="Popover",[jx]=Ao(_h,[hx]),jo=hx(),[QA,Sr]=jx(_h),Nx=t=>{const{__scopePopover:e,children:n,open:s,defaultOpen:o,onOpenChange:a,modal:c=!1}=t,u=jo(e),f=E.useRef(null),[h,m]=E.useState(!1),[v=!1,w]=bh({prop:s,defaultProp:o,onChange:a});return g.jsx(sA,{...u,children:g.jsx(QA,{scope:e,contentId:wl(),triggerRef:f,open:v,onOpenChange:w,onOpenToggle:E.useCallback(()=>w(x=>!x),[w]),hasCustomAnchor:h,onCustomAnchorAdd:E.useCallback(()=>m(!0),[]),onCustomAnchorRemove:E.useCallback(()=>m(!1),[]),modal:c,children:n})})};Nx.displayName=_h;var Ox="PopoverAnchor",ZA=E.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,o=Sr(Ox,n),a=jo(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=o;return E.useEffect(()=>(c(),()=>u()),[c,u]),g.jsx(Sx,{...a,...s,ref:e})});ZA.displayName=Ox;var Ix="PopoverTrigger",Dx=E.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,o=Sr(Ix,n),a=jo(n),c=ot(e,o.triggerRef),u=g.jsx(at.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Fx(o.open),...s,ref:c,onClick:tt(t.onClick,o.onOpenToggle)});return o.hasCustomAnchor?u:g.jsx(Sx,{asChild:!0,...a,children:u})});Dx.displayName=Ix;var kh="PopoverPortal",[eR,tR]=jx(kh,{forceMount:void 0}),Mx=t=>{const{__scopePopover:e,forceMount:n,children:s,container:o}=t,a=Sr(kh,e);return g.jsx(eR,{scope:e,forceMount:n,children:g.jsx(si,{present:n||a.open,children:g.jsx(xh,{asChild:!0,container:o,children:s})})})};Mx.displayName=kh;var Qs="PopoverContent",Lx=E.forwardRef((t,e)=>{const n=tR(Qs,t.__scopePopover),{forceMount:s=n.forceMount,...o}=t,a=Sr(Qs,t.__scopePopover);return g.jsx(si,{present:s||a.open,children:a.modal?g.jsx(nR,{...o,ref:e}):g.jsx(rR,{...o,ref:e})})});Lx.displayName=Qs;var nR=E.forwardRef((t,e)=>{const n=Sr(Qs,t.__scopePopover),s=E.useRef(null),o=ot(e,s),a=E.useRef(!1);return E.useEffect(()=>{const c=s.current;if(c)return kx(c)},[]),g.jsx(Sh,{as:Js,allowPinchZoom:!0,children:g.jsx($x,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tt(t.onCloseAutoFocus,c=>{var u;c.preventDefault(),a.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:tt(t.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,h=u.button===2||f;a.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:tt(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),rR=E.forwardRef((t,e)=>{const n=Sr(Qs,t.__scopePopover),s=E.useRef(!1),o=E.useRef(!1);return g.jsx($x,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,u;(c=t.onCloseAutoFocus)==null||c.call(t,a),a.defaultPrevented||(s.current||(u=n.triggerRef.current)==null||u.focus(),a.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:a=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),$x=E.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,...v}=t,w=Sr(Qs,n),x=jo(n);return Xw(),g.jsx(dh,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:a,children:g.jsx(uh,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>w.onOpenChange(!1),children:g.jsx(iA,{"data-state":Fx(w.open),role:"dialog",id:w.contentId,...x,...v,ref:e,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Vx="PopoverClose",sR=E.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,o=Sr(Vx,n);return g.jsx(at.button,{type:"button",...s,ref:e,onClick:tt(t.onClick,()=>o.onOpenChange(!1))})});sR.displayName=Vx;var iR="PopoverArrow",oR=E.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,o=jo(n);return g.jsx(oA,{...o,...s,ref:e})});oR.displayName=iR;function Fx(t){return t?"open":"closed"}var aR=Nx,lR=Dx,cR=Mx,uR=Lx;function Ux(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=Ux(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function dR(){for(var t,e,n=0,s="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=Ux(t))&&(s&&(s+=" "),s+=e);return s}const Eh="-",fR=t=>{const e=pR(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{const u=c.split(Eh);return u[0]===""&&u.length!==1&&u.shift(),Bx(u,e)||hR(c)},getConflictingClassGroupIds:(c,u)=>{const f=n[c]||[];return u&&s[c]?[...f,...s[c]]:f}}},Bx=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),o=s?Bx(t.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const a=t.join(Eh);return(c=e.validators.find(({validator:u})=>u(a)))==null?void 0:c.classGroupId},kv=/^\[(.+)\]$/,hR=t=>{if(kv.test(t)){const e=kv.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},pR=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const o in n)df(n[o],s,o,e);return s},df=(t,e,n,s)=>{t.forEach(o=>{if(typeof o=="string"){const a=o===""?e:Ev(e,o);a.classGroupId=n;return}if(typeof o=="function"){if(mR(o)){df(o(s),e,n,s);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,c])=>{df(c,Ev(e,a),n,s)})})},Ev=(t,e)=>{let n=t;return e.split(Eh).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},mR=t=>t.isThemeGetter,gR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const o=(a,c)=>{n.set(a,c),e++,e>t&&(e=0,s=n,n=new Map)};return{get(a){let c=n.get(a);if(c!==void 0)return c;if((c=s.get(a))!==void 0)return o(a,c),c},set(a,c){n.has(a)?n.set(a,c):o(a,c)}}},ff="!",hf=":",yR=hf.length,vR=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=o=>{const a=[];let c=0,u=0,f=0,h;for(let S=0;S<o.length;S++){let b=o[S];if(c===0&&u===0){if(b===hf){a.push(o.slice(f,S)),f=S+yR;continue}if(b==="/"){h=S;continue}}b==="["?c++:b==="]"?c--:b==="("?u++:b===")"&&u--}const m=a.length===0?o:o.substring(f),v=wR(m),w=v!==m,x=h&&h>f?h-f:void 0;return{modifiers:a,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:x}};if(e){const o=e+hf,a=s;s=c=>c.startsWith(o)?a(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=a=>n({className:a,parseClassName:o})}return s},wR=t=>t.endsWith(ff)?t.substring(0,t.length-1):t.startsWith(ff)?t.substring(1):t,xR=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let a=[];return s.forEach(c=>{c[0]==="["||e[c]?(o.push(...a.sort(),c),a=[]):a.push(c)}),o.push(...a.sort()),o}},bR=t=>({cache:gR(t.cacheSize),parseClassName:vR(t),sortModifiers:xR(t),...fR(t)}),SR=/\s+/,_R=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:a}=e,c=[],u=t.trim().split(SR);let f="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{isExternal:v,modifiers:w,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:b}=n(m);if(v){f=m+(f.length>0?" "+f:f);continue}let k=!!b,C=s(k?S.substring(0,b):S);if(!C){if(!k){f=m+(f.length>0?" "+f:f);continue}if(C=s(S),!C){f=m+(f.length>0?" "+f:f);continue}k=!1}const P=a(w).join(":"),T=x?P+ff:P,R=T+C;if(c.includes(R))continue;c.push(R);const D=o(C,k);for(let M=0;M<D.length;++M){const U=D[M];c.push(T+U)}f=m+(f.length>0?" "+f:f)}return f};function kR(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=zx(e))&&(s&&(s+=" "),s+=n);return s}const zx=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=zx(t[s]))&&(n&&(n+=" "),n+=e);return n};function ER(t,...e){let n,s,o,a=c;function c(f){const h=e.reduce((m,v)=>v(m),t());return n=bR(h),s=n.cache.get,o=n.cache.set,a=u,u(f)}function u(f){const h=s(f);if(h)return h;const m=_R(f,n);return o(f,m),m}return function(){return a(kR.apply(null,arguments))}}const Qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Wx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Hx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,CR=/^\d+\/\d+$/,TR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,RR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ts=t=>CR.test(t),ke=t=>!!t&&!Number.isNaN(Number(t)),lr=t=>!!t&&Number.isInteger(Number(t)),Ed=t=>t.endsWith("%")&&ke(t.slice(0,-1)),Mn=t=>TR.test(t),NR=()=>!0,OR=t=>PR.test(t)&&!AR.test(t),Kx=()=>!1,IR=t=>RR.test(t),DR=t=>jR.test(t),MR=t=>!se(t)&&!ie(t),LR=t=>oi(t,Yx,Kx),se=t=>Wx.test(t),Lr=t=>oi(t,Jx,OR),Cd=t=>oi(t,BR,ke),Cv=t=>oi(t,Gx,Kx),$R=t=>oi(t,qx,DR),el=t=>oi(t,Xx,IR),ie=t=>Hx.test(t),Qi=t=>ai(t,Jx),VR=t=>ai(t,zR),Tv=t=>ai(t,Gx),FR=t=>ai(t,Yx),UR=t=>ai(t,qx),tl=t=>ai(t,Xx,!0),oi=(t,e,n)=>{const s=Wx.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},ai=(t,e,n=!1)=>{const s=Hx.exec(t);return s?s[1]?e(s[1]):n:!1},Gx=t=>t==="position"||t==="percentage",qx=t=>t==="image"||t==="url",Yx=t=>t==="length"||t==="size"||t==="bg-size",Jx=t=>t==="length",BR=t=>t==="number",zR=t=>t==="family-name",Xx=t=>t==="shadow",WR=()=>{const t=Qe("color"),e=Qe("font"),n=Qe("text"),s=Qe("font-weight"),o=Qe("tracking"),a=Qe("leading"),c=Qe("breakpoint"),u=Qe("container"),f=Qe("spacing"),h=Qe("radius"),m=Qe("shadow"),v=Qe("inset-shadow"),w=Qe("text-shadow"),x=Qe("drop-shadow"),S=Qe("blur"),b=Qe("perspective"),k=Qe("aspect"),C=Qe("ease"),P=Qe("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...R(),ie,se],M=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],$=()=>[ie,se,f],J=()=>[Ts,"full","auto",...$()],ne=()=>[lr,"none","subgrid",ie,se],ae=()=>["auto",{span:["full",lr,ie,se]},lr,ie,se],ce=()=>[lr,"auto",ie,se],me=()=>["auto","min","max","fr",ie,se],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],le=()=>["auto",...$()],B=()=>[Ts,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],N=()=>[t,ie,se],z=()=>[...R(),Tv,Cv,{position:[ie,se]}],H=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",FR,LR,{size:[ie,se]}],W=()=>[Ed,Qi,Lr],X=()=>["","none","full",h,ie,se],pe=()=>["",ke,Qi,Lr],Se=()=>["solid","dashed","dotted","double"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[ke,Ed,Tv,Cv],Ce=()=>["","none",S,ie,se],Pe=()=>["none",ke,ie,se],We=()=>["none",ke,ie,se],Gt=()=>[ke,ie,se],fn=()=>[Ts,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Mn],breakpoint:[Mn],color:[NR],container:[Mn],"drop-shadow":[Mn],ease:["in","out","in-out"],font:[MR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Mn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Mn],shadow:[Mn],spacing:["px",ke],text:[Mn],"text-shadow":[Mn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ts,se,ie,k]}],container:["container"],columns:[{columns:[ke,se,ie,u]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:J()}],"inset-x":[{"inset-x":J()}],"inset-y":[{"inset-y":J()}],start:[{start:J()}],end:[{end:J()}],top:[{top:J()}],right:[{right:J()}],bottom:[{bottom:J()}],left:[{left:J()}],visibility:["visible","invisible","collapse"],z:[{z:[lr,"auto",ie,se]}],basis:[{basis:[Ts,"full","auto",u,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ke,Ts,"auto","initial","none",se]}],grow:[{grow:["",ke,ie,se]}],shrink:[{shrink:["",ke,ie,se]}],order:[{order:[lr,"first","last","none",ie,se]}],"grid-cols":[{"grid-cols":ne()}],"col-start-end":[{col:ae()}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":ne()}],"row-start-end":[{row:ae()}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":me()}],"auto-rows":[{"auto-rows":me()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:le()}],mx:[{mx:le()}],my:[{my:le()}],ms:[{ms:le()}],me:[{me:le()}],mt:[{mt:le()}],mr:[{mr:le()}],mb:[{mb:le()}],ml:[{ml:le()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[u,"screen",...B()]}],"min-w":[{"min-w":[u,"screen","none",...B()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...B()]}],h:[{h:["screen",...B()]}],"min-h":[{"min-h":["screen","none",...B()]}],"max-h":[{"max-h":["screen",...B()]}],"font-size":[{text:["base",n,Qi,Lr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ie,Cd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ed,se]}],"font-family":[{font:[VR,se,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ie,se]}],"line-clamp":[{"line-clamp":[ke,"none",ie,Cd]}],leading:[{leading:[a,...$()]}],"list-image":[{"list-image":["none",ie,se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ie,se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[ke,"from-font","auto",ie,Lr]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[ke,"auto",ie,se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie,se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie,se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:z()}],"bg-repeat":[{bg:H()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},lr,ie,se],radial:["",ie,se],conic:[lr,ie,se]},UR,$R]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ke,ie,se]}],"outline-w":[{outline:["",ke,Qi,Lr]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",m,tl,el]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",v,tl,el]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[ke,Lr]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",w,tl,el]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[ke,ie,se]}],"mix-blend":[{"mix-blend":[..._e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[ie,se]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:z()}],"mask-repeat":[{mask:H()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ie,se]}],filter:[{filter:["","none",ie,se]}],blur:[{blur:Ce()}],brightness:[{brightness:[ke,ie,se]}],contrast:[{contrast:[ke,ie,se]}],"drop-shadow":[{"drop-shadow":["","none",x,tl,el]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",ke,ie,se]}],"hue-rotate":[{"hue-rotate":[ke,ie,se]}],invert:[{invert:["",ke,ie,se]}],saturate:[{saturate:[ke,ie,se]}],sepia:[{sepia:["",ke,ie,se]}],"backdrop-filter":[{"backdrop-filter":["","none",ie,se]}],"backdrop-blur":[{"backdrop-blur":Ce()}],"backdrop-brightness":[{"backdrop-brightness":[ke,ie,se]}],"backdrop-contrast":[{"backdrop-contrast":[ke,ie,se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ke,ie,se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ke,ie,se]}],"backdrop-invert":[{"backdrop-invert":["",ke,ie,se]}],"backdrop-opacity":[{"backdrop-opacity":[ke,ie,se]}],"backdrop-saturate":[{"backdrop-saturate":[ke,ie,se]}],"backdrop-sepia":[{"backdrop-sepia":["",ke,ie,se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ie,se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ke,"initial",ie,se]}],ease:[{ease:["linear","initial",C,ie,se]}],delay:[{delay:[ke,ie,se]}],animate:[{animate:["none",P,ie,se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,ie,se]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Pe()}],"rotate-x":[{"rotate-x":Pe()}],"rotate-y":[{"rotate-y":Pe()}],"rotate-z":[{"rotate-z":Pe()}],scale:[{scale:We()}],"scale-x":[{"scale-x":We()}],"scale-y":[{"scale-y":We()}],"scale-z":[{"scale-z":We()}],"scale-3d":["scale-3d"],skew:[{skew:Gt()}],"skew-x":[{"skew-x":Gt()}],"skew-y":[{"skew-y":Gt()}],transform:[{transform:[ie,se,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fn()}],"translate-x":[{"translate-x":fn()}],"translate-y":[{"translate-y":fn()}],"translate-z":[{"translate-z":fn()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie,se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie,se]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[ke,Qi,Lr,Cd]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},HR=ER(WR);function Kt(...t){return HR(dR(t))}function KR({...t}){return g.jsx(aR,{"data-slot":"popover",...t})}function GR({...t}){return g.jsx(lR,{"data-slot":"popover-trigger",...t})}function qR({className:t,align:e="center",sideOffset:n=4,...s}){return g.jsx(cR,{children:g.jsx(uR,{"data-slot":"popover-content",align:e,sideOffset:n,className:Kt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...s})})}const Pv=["     .","     .","      .","       ."];function YR({data:t,onStartScenario:e,representativeVariant:n,onRepresentativeVariantChange:s,onEditMoney:o,onEditCost:a,userDisplayName:c,companyName:u}){const f=lh(t.personnelCost,t.marketingCost,t.officeCost),h=GT(t.runway),m=Math.min(t.runway/12*100,100),[v,w]=E.useState(!1),x=t.historicalData.slice(-6),S=x.length>0,b=Math.max(0,6-x.length),k=x.length>0?Math.max(...x.map(M=>Math.abs(M.revenue-M.burn)),1):1,[C,P]=E.useState(0),T=(c==null?void 0:c.trim())||"",R=(u==null?void 0:u.trim())||" ",D=u!=null&&u.trim()?`${u.trim()}   `:"    ";return E.useEffect(()=>{if(x.length>0)return;const M=setInterval(()=>{P(U=>(U+1)%Pv.length)},2800);return()=>clearInterval(M)},[x.length]),g.jsxs("div",{className:"mx-auto max-w-6xl space-y-6 px-4 md:px-5",children:[g.jsx(te.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"sg-panel-dark p-5 md:p-6",children:g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("span",{className:"text-4xl drop-shadow-[0_2px_0_rgba(0,0,0,0.65)]",children:""}),g.jsxs("div",{children:[g.jsxs("h1",{className:"sg-heading",children:[T,"  "]}),g.jsx("p",{className:"sg-subtitle mt-1",children:D})]})]}),g.jsxs(te.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.98},onClick:o,className:"sg-card-dark cursor-pointer px-5 py-3 text-center",children:[g.jsx("div",{className:"sg-label text-amber-200",children:""}),g.jsx("div",{className:"mt-1 text-2xl font-black text-amber-200",children:Oe(t.cash)}),g.jsx("div",{className:"mt-1 text-[10px] font-bold text-slate-300",children:" "})]})]})}),g.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"sg-panel-dark sg-panel-animated relative overflow-hidden p-6 md:p-8",children:[g.jsx(f2,{monthlyBurn:f,runOnce:!1}),g.jsxs("div",{className:"relative z-10 mb-6 flex items-start justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"sg-heading",children:"  "}),g.jsx("p",{className:"sg-subtitle mt-1",children:"Runway & Burn Rate"})]}),g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("div",{className:"text-3xl font-black text-amber-200",children:t.runway.toFixed(1)}),g.jsx("div",{className:"sg-label text-[9px] text-slate-300",children:"Runway ()"}),g.jsx("div",{className:`sg-label mt-1 text-[10px] ${h==="danger"?"text-red-300":h==="warning"?"text-amber-300":"text-emerald-300"}`,children:h==="danger"?"":h==="warning"?"":""})]})]}),g.jsx("div",{className:"relative z-10 mb-8",children:g.jsx(Gw,{percentage:m,label:`: ${t.runway}`})}),g.jsxs("div",{className:"flex justify-center items-center mb-12 relative",children:[g.jsx(Hw,{hp:m}),g.jsxs(KR,{open:v,onOpenChange:w,children:[g.jsx(GR,{asChild:!0,children:g.jsxs(te.div,{className:"absolute cursor-pointer select-none",style:{bottom:"-20px"},whileHover:{scale:1.05},whileTap:{scale:.98},children:[g.jsx(Ys,{variant:n,size:88}),g.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 rounded-md border border-amber-600/70 bg-[#1d2e54]/90 px-2 py-1 text-xs font-bold text-amber-100",children:[R,g.jsx("span",{className:"text-[10px] text-slate-300",children:"( )"})]})]})}),g.jsxs(qR,{className:"w-56 border-amber-600/60 bg-[#182642] p-3 text-white",align:"center",side:"top",children:[g.jsx("div",{className:"sg-label mb-3 text-amber-200",children:" "}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:()=>{s("strategist"),w(!1)},className:`rounded-md border px-3 py-2 text-xs font-bold transition-colors ${n==="strategist"?"border-amber-400 bg-amber-500 text-[#2d1f00]":"border-slate-500 bg-slate-700/80 text-slate-200 hover:bg-slate-600"}`,children:""}),g.jsx("button",{type:"button",onClick:()=>{s("general"),w(!1)},className:`rounded-md border px-3 py-2 text-xs font-bold transition-colors ${n==="general"?"border-amber-400 bg-amber-500 text-[#2d1f00]":"border-slate-500 bg-slate-700/80 text-slate-200 hover:bg-slate-600"}`,children:""})]})]})]})]}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("div",{className:"text-center mb-4",children:g.jsx("div",{className:"inline-block rounded-md border border-amber-600/70 bg-[#1b2a4a]/90 px-4 py-2 text-sm font-bold text-amber-100 shadow-[inset_0_0_0_1px_rgba(255,226,143,0.24)]",children:"     "})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto",children:[g.jsx(hd,{type:"personnel",cost:t.personnelCost,label:"",count:t.employees,onClick:()=>a("personnel")}),g.jsx(hd,{type:"marketing",cost:t.marketingCost,label:"",onClick:()=>a("marketing")}),g.jsx(hd,{type:"office",cost:t.officeCost,label:"",onClick:()=>a("office")})]})]}),g.jsx(te.div,{className:"absolute right-6 top-6",animate:{rotate:[0,10,0,-10,0]},transition:{duration:3,repeat:1/0},children:g.jsx(l2,{amount:t.monthlyRevenue})})]}),g.jsxs(te.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"sg-panel p-5 md:p-6",children:[g.jsx("h3",{className:"sg-label mb-4 text-amber-900",children:" 6  "}),x.length===0?g.jsxs("div",{className:"relative overflow-hidden rounded-md border border-amber-800/45 bg-gradient-to-b from-amber-50 to-amber-100 px-4 py-6 text-center",children:[g.jsx(te.div,{className:"absolute right-4 top-3 text-lg",animate:{rotate:[0,12,-10,0],scale:[1,1.15,1]},transition:{duration:2.6,repeat:1/0},children:""}),g.jsx(te.div,{className:"absolute left-4 top-3 text-lg",animate:{y:[0,-4,0],opacity:[.8,1,.8]},transition:{duration:1.8,repeat:1/0},children:""}),g.jsx("div",{className:"text-lg font-black text-amber-900",children:"    "}),g.jsx("div",{className:"mt-2 text-sm font-bold text-amber-900/85",children:"       ."}),g.jsx(te.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.35},className:"mt-4 rounded-md border border-amber-700/45 bg-amber-200/55 px-3 py-2 text-xs font-bold text-amber-900",children:Pv[C]},C),g.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-2 text-[10px] font-bold text-amber-900/75",children:[g.jsx("span",{className:"rounded-full border border-amber-700/45 bg-amber-100 px-2 py-1",children:" "}),g.jsx("span",{children:""}),g.jsx("span",{className:"rounded-full border border-amber-700/45 bg-amber-100 px-2 py-1",children:" "}),g.jsx("span",{children:""}),g.jsx("span",{className:"rounded-full border border-amber-700/45 bg-amber-100 px-2 py-1",children:"  "})]}),g.jsx("div",{className:"sg-command-row mt-5",children:g.jsx(an,{onClick:e,variant:"primary",children:"   "})})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[x.map((M,U)=>g.jsxs("div",{className:"sg-card p-3 text-center",children:[g.jsx("div",{className:"text-[11px] font-bold text-amber-800 mb-2",children:M.month}),g.jsx("div",{className:"text-lg font-bold",children:M.revenue>M.burn?"":M.revenue===M.burn?"":""}),g.jsx("div",{className:"mt-1 text-xs text-amber-900/80",children:M.revenue>M.burn?"":M.revenue===M.burn?"":""})]},U)),Array.from({length:b}).map((M,U)=>g.jsxs("div",{className:"sg-card p-3 text-center opacity-70",children:[g.jsx("div",{className:"text-[11px] font-bold text-amber-700/80 mb-2",children:" "}),g.jsx("div",{className:"text-lg font-bold text-amber-700/70",children:""}),g.jsx("div",{className:"mt-1 text-xs text-amber-800/70",children:" "})]},`placeholder-${U}`))]}),g.jsx("div",{className:"mt-6 h-24 flex items-end gap-2 justify-center",children:x.map((M,U)=>{const $=M.revenue-M.burn,J=Math.abs($)/k*100;return g.jsxs("div",{className:"flex flex-col items-center gap-1",children:[g.jsx("div",{className:"text-[10px] font-bold text-amber-900/70",children:Oe($,{signed:!0})}),g.jsx("div",{className:`w-8 rounded-sm ${$>=0?"bg-emerald-500":"bg-red-500"} border border-amber-900/30`,style:{height:`${Math.max(J,10)}%`}})]},U)})})]})]}),g.jsxs(te.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"text-center",children:[S&&g.jsx("div",{className:"sg-command-row",children:g.jsx(an,{onClick:e,variant:"primary",size:"large",children:"     "})}),g.jsx("div",{className:"mt-4 text-sm text-amber-100/85",children:S?`  :   ${Oe(t.monthlyRevenue)} |   ${Oe(t.monthlyBurn)} |  ${Oe(t.monthlyRevenue-t.monthlyBurn,{signed:!0})}`:"           ."})]})]})}function JR(t,e){const n=Math.max(e.monthlyBurn,1),s=Math.round(e.personnelCost/n*100),o=Math.round(e.marketingCost/n*100),a=Math.round(e.officeCost/n*100),c=e.monthlyRevenue-e.monthlyBurn,u=`${e.runway.toFixed(1)}`,f=` :  ${s}%   ${o}%   ${a}%`;return t==="defense"?{summary:`   | ${f}`,options:[{title:" 1.  ",action:"   .",expected:`    (${u})  .`},{title:" 2.  ",action:"      .",expected:"      ."},{title:" 3.  ",action:"/    .",expected:"     ."}],recommendation:e.runway<6?"AI :   1  .  .":"AI :  2      .  ."}:t==="attack"?{summary:`   | ${f}`,options:[{title:" 1.  ",action:"     .",expected:"      ."},{title:" 2. - ",action:"/  A/B  .",expected:"       ."},{title:" 3.  ",action:"   .",expected:"     ."}],recommendation:o<20?"AI :   1     .  .":"AI :      2   .  ."}:{summary:`   | ${f}`,options:[{title:" 1.  ",action:"      .",expected:"     ."},{title:" 2.  ",action:"/    .",expected:"      ."},{title:" 3.   ",action:"       .",expected:"      ."}],recommendation:c>=0?"AI :   1  .  .":"AI :    2     .  ."}}function XR({selectedScenario:t,onSelectScenario:e,scenarioCopy:n,financialData:s,onEditScenario:o,onNext:a,onSimulate:c,onBack:u}){const f=[{id:"defense",icon:"",...n.defense},{id:"maintain",icon:"",...n.maintain},{id:"attack",icon:"",...n.attack}],h=v=>{if(v===t&&(v==="defense"||v==="attack")){o(v);return}e(v)},m=JR(t,s);return g.jsxs("div",{className:"mx-auto max-w-6xl px-4 md:px-5",children:[g.jsx(te.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"mx-auto mb-8 max-w-3xl text-center",children:g.jsxs("div",{className:"sg-panel-dark p-5",children:[g.jsx("h2",{className:"sg-heading",children:"    "}),g.jsx("p",{className:"sg-subtitle mt-2",children:"     ?"})]})}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:f.map((v,w)=>g.jsxs(te.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:w*.1},whileHover:{scale:1.02},onClick:()=>h(v.id),className:`
              sg-card-dark p-6 cursor-pointer relative
              border-2 transition-all duration-200
              ${t===v.id?"border-amber-400 bg-[#253969]":"border-amber-900/70 hover:border-amber-500/70"}
            `,children:[t===v.id&&g.jsx(te.div,{initial:{scale:0},animate:{scale:1},className:"absolute -right-2 -top-2 flex h-8 w-8 items-center justify-center rounded-full border border-amber-800 bg-amber-400 text-sm font-black text-[#2d2000] shadow-md",children:""}),g.jsx(te.div,{animate:t===v.id?{rotate:[0,-5,5,0]}:{},transition:{duration:.5},className:"text-6xl text-center mb-4",children:v.icon}),g.jsx("h3",{className:"text-center text-lg font-black text-amber-100 mb-3",children:v.title}),g.jsxs("div",{className:"space-y-2 text-center",children:[g.jsx("div",{className:"rounded-md border border-amber-700/50 bg-[#1f3058] p-2 shadow-[inset_0_0_0_1px_rgba(255,221,139,0.16)]",children:g.jsx("div",{className:"text-sm font-bold text-amber-100",children:v.description})}),g.jsx("div",{className:"rounded-md border border-amber-700/40 bg-[#1f3058] p-2 shadow-[inset_0_0_0_1px_rgba(255,221,139,0.14)]",children:g.jsx("div",{className:"text-sm font-bold text-emerald-300",children:v.effect})}),g.jsx("div",{className:"text-sm text-slate-200/85",children:v.detail}),(v.id==="defense"||v.id==="attack")&&g.jsx("div",{className:"text-[10px] font-bold text-amber-300/90",children:"     "})]}),g.jsxs("div",{className:"flex justify-center mt-4 gap-2",children:[v.id==="defense"&&g.jsxs(g.Fragment,{children:[g.jsx(te.span,{animate:{x:[0,5,0]},transition:{duration:2,repeat:1/0},children:""}),g.jsx(te.span,{animate:{x:[0,5,0]},transition:{duration:2,repeat:1/0,delay:.3},children:""})]}),v.id==="maintain"&&g.jsxs(g.Fragment,{children:[g.jsx(te.span,{animate:{x:[0,10,0]},transition:{duration:1.5,repeat:1/0},children:""}),g.jsx(te.span,{animate:{x:[0,10,0]},transition:{duration:1.5,repeat:1/0,delay:.2},children:""}),g.jsx(te.span,{animate:{x:[0,10,0]},transition:{duration:1.5,repeat:1/0,delay:.4},children:""})]}),v.id==="attack"&&g.jsxs(g.Fragment,{children:[g.jsx(te.span,{animate:{x:[0,15,0]},transition:{duration:1,repeat:1/0},children:""}),g.jsx(te.span,{animate:{x:[0,15,0]},transition:{duration:1,repeat:1/0,delay:.1},children:""}),g.jsx(te.span,{animate:{x:[0,15,0]},transition:{duration:1,repeat:1/0,delay:.2},children:""}),g.jsx(te.span,{animate:{x:[0,15,0]},transition:{duration:1,repeat:1/0,delay:.3},children:""})]})]})]},v.id))}),g.jsxs(te.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.25},className:"sg-panel-dark mb-8 p-5",children:[g.jsx("div",{className:"mb-2 text-sm font-black text-amber-100",children:" AI   (3)"}),g.jsx("p",{className:"text-xs text-slate-300",children:m.summary}),g.jsx("div",{className:"mt-3 grid grid-cols-1 gap-3 md:grid-cols-3",children:m.options.map(v=>g.jsxs("div",{className:"rounded-md border border-amber-700/45 bg-[#1f3058] p-3",children:[g.jsx("div",{className:"text-xs font-black text-amber-100",children:v.title}),g.jsx("div",{className:"mt-1 text-[11px] text-slate-200",children:v.action}),g.jsx("div",{className:"mt-2 text-[11px] font-bold text-emerald-300",children:v.expected})]},v.title))}),g.jsxs("div",{className:"mt-3 rounded-md border border-amber-600/55 bg-[#172844] px-3 py-2 text-xs font-bold text-amber-100",children:[m.recommendation," (   ",Oe(s.monthlyRevenue-s.monthlyBurn,{signed:!0}),")"]})]}),g.jsxs(te.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"sg-command-row",children:[g.jsx(an,{onClick:u,variant:"secondary",children:" "}),g.jsx(an,{onClick:a,variant:"success",size:"large",children:"   "}),g.jsx(an,{onClick:c,variant:"primary",size:"large",children:"  "})]})]})}function Qx(t,[e,n]){return Math.min(n,Math.max(e,t))}var QR=E.createContext(void 0);function ZR(t){const e=E.useContext(QR);return t||e||"ltr"}function ej(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function tj(t){const e=t+"CollectionProvider",[n,s]=Ao(e),[o,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=x=>{const{scope:S,children:b}=x,k=cr.useRef(null),C=cr.useRef(new Map).current;return g.jsx(o,{scope:S,itemMap:C,collectionRef:k,children:b})};c.displayName=e;const u=t+"CollectionSlot",f=cr.forwardRef((x,S)=>{const{scope:b,children:k}=x,C=a(u,b),P=ot(S,C.collectionRef);return g.jsx(Js,{ref:P,children:k})});f.displayName=u;const h=t+"CollectionItemSlot",m="data-radix-collection-item",v=cr.forwardRef((x,S)=>{const{scope:b,children:k,...C}=x,P=cr.useRef(null),T=ot(S,P),R=a(h,b);return cr.useEffect(()=>(R.itemMap.set(P,{ref:P,...C}),()=>void R.itemMap.delete(P))),g.jsx(Js,{[m]:"",ref:T,children:k})});v.displayName=h;function w(x){const S=a(t+"CollectionConsumer",x);return cr.useCallback(()=>{const k=S.collectionRef.current;if(!k)return[];const C=Array.from(k.querySelectorAll(`[${m}]`));return Array.from(S.itemMap.values()).sort((R,D)=>C.indexOf(R.ref.current)-C.indexOf(D.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:c,Slot:f,ItemSlot:v},w,s]}var Zx=["PageUp","PageDown"],eb=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],tb={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},li="Slider",[pf,nj,rj]=tj(li),[nb]=Ao(li,[rj]),[sj,Jl]=nb(li),rb=E.forwardRef((t,e)=>{const{name:n,min:s=0,max:o=100,step:a=1,orientation:c="horizontal",disabled:u=!1,minStepsBetweenThumbs:f=0,defaultValue:h=[s],value:m,onValueChange:v=()=>{},onValueCommit:w=()=>{},inverted:x=!1,form:S,...b}=t,k=E.useRef(new Set),C=E.useRef(0),T=c==="horizontal"?ij:oj,[R=[],D]=bh({prop:m,defaultProp:h,onChange:ae=>{var me;(me=[...k.current][C.current])==null||me.focus(),v(ae)}}),M=E.useRef(R);function U(ae){const ce=dj(R,ae);ne(ae,ce)}function $(ae){ne(ae,C.current)}function J(){const ae=M.current[C.current];R[C.current]!==ae&&w(R)}function ne(ae,ce,{commit:me}={commit:!1}){const Z=mj(a),he=gj(Math.round((ae-s)/a)*a+s,Z),le=Qx(he,[s,o]);D((B=[])=>{const N=cj(B,le,ce);if(pj(N,f*a)){C.current=N.indexOf(le);const z=String(N)!==String(B);return z&&me&&w(N),z?N:B}else return B})}return g.jsx(sj,{scope:t.__scopeSlider,name:n,disabled:u,min:s,max:o,valueIndexToChangeRef:C,thumbs:k.current,values:R,orientation:c,form:S,children:g.jsx(pf.Provider,{scope:t.__scopeSlider,children:g.jsx(pf.Slot,{scope:t.__scopeSlider,children:g.jsx(T,{"aria-disabled":u,"data-disabled":u?"":void 0,...b,ref:e,onPointerDown:tt(b.onPointerDown,()=>{u||(M.current=R)}),min:s,max:o,inverted:x,onSlideStart:u?void 0:U,onSlideMove:u?void 0:$,onSlideEnd:u?void 0:J,onHomeKeyDown:()=>!u&&ne(s,0,{commit:!0}),onEndKeyDown:()=>!u&&ne(o,R.length-1,{commit:!0}),onStepKeyDown:({event:ae,direction:ce})=>{if(!u){const he=Zx.includes(ae.key)||ae.shiftKey&&eb.includes(ae.key)?10:1,le=C.current,B=R[le],N=a*he*ce;ne(B+N,le,{commit:!0})}}})})})})});rb.displayName=li;var[sb,ib]=nb(li,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ij=E.forwardRef((t,e)=>{const{min:n,max:s,dir:o,inverted:a,onSlideStart:c,onSlideMove:u,onSlideEnd:f,onStepKeyDown:h,...m}=t,[v,w]=E.useState(null),x=ot(e,T=>w(T)),S=E.useRef(void 0),b=ZR(o),k=b==="ltr",C=k&&!a||!k&&a;function P(T){const R=S.current||v.getBoundingClientRect(),D=[0,R.width],U=Ch(D,C?[n,s]:[s,n]);return S.current=R,U(T-R.left)}return g.jsx(sb,{scope:t.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:g.jsx(ob,{dir:b,"data-orientation":"horizontal",...m,ref:x,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const R=P(T.clientX);c==null||c(R)},onSlideMove:T=>{const R=P(T.clientX);u==null||u(R)},onSlideEnd:()=>{S.current=void 0,f==null||f()},onStepKeyDown:T=>{const D=tb[C?"from-left":"from-right"].includes(T.key);h==null||h({event:T,direction:D?-1:1})}})})}),oj=E.forwardRef((t,e)=>{const{min:n,max:s,inverted:o,onSlideStart:a,onSlideMove:c,onSlideEnd:u,onStepKeyDown:f,...h}=t,m=E.useRef(null),v=ot(e,m),w=E.useRef(void 0),x=!o;function S(b){const k=w.current||m.current.getBoundingClientRect(),C=[0,k.height],T=Ch(C,x?[s,n]:[n,s]);return w.current=k,T(b-k.top)}return g.jsx(sb,{scope:t.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:g.jsx(ob,{"data-orientation":"vertical",...h,ref:v,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const k=S(b.clientY);a==null||a(k)},onSlideMove:b=>{const k=S(b.clientY);c==null||c(k)},onSlideEnd:()=>{w.current=void 0,u==null||u()},onStepKeyDown:b=>{const C=tb[x?"from-bottom":"from-top"].includes(b.key);f==null||f({event:b,direction:C?-1:1})}})})}),ob=E.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onHomeKeyDown:c,onEndKeyDown:u,onStepKeyDown:f,...h}=t,m=Jl(li,n);return g.jsx(at.span,{...h,ref:e,onKeyDown:tt(t.onKeyDown,v=>{v.key==="Home"?(c(v),v.preventDefault()):v.key==="End"?(u(v),v.preventDefault()):Zx.concat(eb).includes(v.key)&&(f(v),v.preventDefault())}),onPointerDown:tt(t.onPointerDown,v=>{const w=v.target;w.setPointerCapture(v.pointerId),v.preventDefault(),m.thumbs.has(w)?w.focus():s(v)}),onPointerMove:tt(t.onPointerMove,v=>{v.target.hasPointerCapture(v.pointerId)&&o(v)}),onPointerUp:tt(t.onPointerUp,v=>{const w=v.target;w.hasPointerCapture(v.pointerId)&&(w.releasePointerCapture(v.pointerId),a(v))})})}),ab="SliderTrack",lb=E.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,o=Jl(ab,n);return g.jsx(at.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...s,ref:e})});lb.displayName=ab;var mf="SliderRange",cb=E.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,o=Jl(mf,n),a=ib(mf,n),c=E.useRef(null),u=ot(e,c),f=o.values.length,h=o.values.map(w=>db(w,o.min,o.max)),m=f>1?Math.min(...h):0,v=100-Math.max(...h);return g.jsx(at.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...s,ref:u,style:{...t.style,[a.startEdge]:m+"%",[a.endEdge]:v+"%"}})});cb.displayName=mf;var gf="SliderThumb",ub=E.forwardRef((t,e)=>{const n=nj(t.__scopeSlider),[s,o]=E.useState(null),a=ot(e,u=>o(u)),c=E.useMemo(()=>s?n().findIndex(u=>u.ref.current===s):-1,[n,s]);return g.jsx(aj,{...t,ref:a,index:c})}),aj=E.forwardRef((t,e)=>{const{__scopeSlider:n,index:s,name:o,...a}=t,c=Jl(gf,n),u=ib(gf,n),[f,h]=E.useState(null),m=ot(e,P=>h(P)),v=f?c.form||!!f.closest("form"):!0,w=dx(f),x=c.values[s],S=x===void 0?0:db(x,c.min,c.max),b=uj(s,c.values.length),k=w==null?void 0:w[u.size],C=k?fj(k,S,u.direction):0;return E.useEffect(()=>{if(f)return c.thumbs.add(f),()=>{c.thumbs.delete(f)}},[f,c.thumbs]),g.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${S}% + ${C}px)`},children:[g.jsx(pf.ItemSlot,{scope:t.__scopeSlider,children:g.jsx(at.span,{role:"slider","aria-label":t["aria-label"]||b,"aria-valuemin":c.min,"aria-valuenow":x,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...a,ref:m,style:x===void 0?{display:"none"}:t.style,onFocus:tt(t.onFocus,()=>{c.valueIndexToChangeRef.current=s})})}),v&&g.jsx(lj,{name:o??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:x},s)]})});ub.displayName=gf;var lj=t=>{const{value:e,...n}=t,s=E.useRef(null),o=ej(e);return E.useEffect(()=>{const a=s.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const h=new Event("input",{bubbles:!0});f.call(a,e),a.dispatchEvent(h)}},[o,e]),g.jsx("input",{style:{display:"none"},...n,ref:s,defaultValue:e})};function cj(t=[],e,n){const s=[...t];return s[n]=e,s.sort((o,a)=>o-a)}function db(t,e,n){const a=100/(n-e)*(t-e);return Qx(a,[0,100])}function uj(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function dj(t,e){if(t.length===1)return 0;const n=t.map(o=>Math.abs(o-e)),s=Math.min(...n);return n.indexOf(s)}function fj(t,e,n){const s=t/2,a=Ch([0,50],[0,s]);return(s-a(e)*n)*n}function hj(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function pj(t,e){if(e>0){const n=hj(t);return Math.min(...n)>=e}return!0}function Ch(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function mj(t){return(String(t).split(".")[1]||"").length}function gj(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var yj=rb,vj=lb,wj=cb,xj=ub;function bj({className:t,defaultValue:e,value:n,min:s=0,max:o=100,...a}){const c=E.useMemo(()=>Array.isArray(n)?n:Array.isArray(e)?e:[s,o],[n,e,s,o]);return g.jsxs(yj,{"data-slot":"slider",defaultValue:e,value:n,min:s,max:o,className:Kt("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...a,children:[g.jsx(vj,{"data-slot":"slider-track",className:Kt("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:g.jsx(wj,{"data-slot":"slider-range",className:Kt("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:c.length},(u,f)=>g.jsx(xj,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},f))]})}const zt={revenueGrowth:{min:-50,max:100,step:5},headcountChange:{min:-5,max:10,step:1},marketingIncrease:{min:-50,max:200,step:10},priceIncrease:{min:-20,max:50,step:5}},yf="http://localhost:11434",vf="llama3.1:latest",fb={defense:" ",maintain:" ",attack:" "},Sj={defense:"     ,   .",maintain:"      .",attack:" ,      ."},nl=(t,e,n)=>Math.max(e,Math.min(n,t)),rl=(t,e)=>Math.round(t/e)*e;function _l(t,e){const n=nl(rl((t==null?void 0:t.revenueGrowth)??e.revenueGrowth,zt.revenueGrowth.step),zt.revenueGrowth.min,zt.revenueGrowth.max),s=nl(rl((t==null?void 0:t.headcountChange)??e.headcountChange,zt.headcountChange.step),zt.headcountChange.min,zt.headcountChange.max),o=nl(rl((t==null?void 0:t.marketingIncrease)??e.marketingIncrease,zt.marketingIncrease.step),zt.marketingIncrease.min,zt.marketingIncrease.max),a=nl(rl((t==null?void 0:t.priceIncrease)??e.priceIncrease,zt.priceIncrease.step),zt.priceIncrease.min,zt.priceIncrease.max);return{revenueGrowth:n,headcountChange:s,marketingIncrease:o,priceIncrease:a}}function lo(t,e){const n=Math.max(0,t.employees+e.headcountChange),s=t.monthlyRevenue*(1+e.revenueGrowth/100),o=n*qr,a=t.marketingCost*(1+e.marketingIncrease/100),c=o+a+t.officeCost,u=t.cash/c;return{revenue:s,burn:c,runway:u,profit:s-c}}function _j(t){const e=t.match(/```json\s*([\s\S]*?)```/i);if(e!=null&&e[1])return e[1].trim();const n=t.indexOf("{"),s=t.lastIndexOf("}");return n<0||s<0||s<=n?null:t.slice(n,s+1)}function kj(t,e,n){const o={defense:{safe:{revenueGrowth:10,headcountChange:0,marketingIncrease:10,priceIncrease:5},balanced:{revenueGrowth:20,headcountChange:1,marketingIncrease:25,priceIncrease:10},aggressive:{revenueGrowth:30,headcountChange:2,marketingIncrease:50,priceIncrease:12}},maintain:{safe:{revenueGrowth:15,headcountChange:1,marketingIncrease:20,priceIncrease:5},balanced:{revenueGrowth:30,headcountChange:2,marketingIncrease:45,priceIncrease:10},aggressive:{revenueGrowth:45,headcountChange:3,marketingIncrease:80,priceIncrease:15}},attack:{safe:{revenueGrowth:25,headcountChange:2,marketingIncrease:45,priceIncrease:8},balanced:{revenueGrowth:40,headcountChange:3,marketingIncrease:75,priceIncrease:12},aggressive:{revenueGrowth:60,headcountChange:5,marketingIncrease:120,priceIncrease:18}}}[n],a=_l({revenueGrowth:Math.max(e.revenueGrowth,o.safe.revenueGrowth??15),headcountChange:Math.min(Math.max(e.headcountChange,0),o.safe.headcountChange??1),marketingIncrease:Math.min(Math.max(e.marketingIncrease,0),o.safe.marketingIncrease??20),priceIncrease:Math.max(e.priceIncrease,o.safe.priceIncrease??0)},e),c=_l({revenueGrowth:Math.max(e.revenueGrowth,o.balanced.revenueGrowth??30),headcountChange:Math.min(Math.max(e.headcountChange,o.balanced.headcountChange??1),4),marketingIncrease:Math.min(Math.max(e.marketingIncrease,o.balanced.marketingIncrease??35),100),priceIncrease:Math.min(Math.max(e.priceIncrease,o.balanced.priceIncrease??5),20)},e),u=_l({revenueGrowth:Math.min(Math.max(e.revenueGrowth,o.aggressive.revenueGrowth??45),85),headcountChange:Math.min(Math.max(e.headcountChange,o.aggressive.headcountChange??2),6),marketingIncrease:Math.min(Math.max(e.marketingIncrease,o.aggressive.marketingIncrease??70),140),priceIncrease:Math.min(Math.max(e.priceIncrease,o.aggressive.priceIncrease??8),22)},e);return[{title:" ",reason:"       .",settings:a,projection:lo(t,a),source:"fallback"},{title:" ",reason:"          .",settings:c,projection:lo(t,c),source:"fallback"},{title:" ",reason:"        .",settings:u,projection:lo(t,u),source:"fallback"}]}async function Ej(t,e,n){var m;const s=[" CFO   .",": 24         3 .","   (//) .",`    "${fb[n]}".`,` : ${Sj[n]}`,"  JSON .","JSON :",'{"recommendations":[{"title":"string","reason":"string","settings":{"revenueGrowth":number,"headcountChange":number,"marketingIncrease":number,"priceIncrease":number}}]}'," :","- revenueGrowth: -50~100 (step 5)","- headcountChange: -5~10 (step 1)","- marketingIncrease: -50~200 (step 10)","- priceIncrease: -20~50 (step 5)","  :",JSON.stringify({cash:t.cash,monthlyRevenue:t.monthlyRevenue,monthlyBurn:t.monthlyBurn,employees:t.employees,personnelCost:t.personnelCost,marketingCost:t.marketingCost,officeCost:t.officeCost,runway:t.runway})," :",JSON.stringify(e)].join(`
`),o=await fetch(`${yf}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:vf,stream:!1,format:"json",messages:[{role:"system",content:"  JSON .   reason ."},{role:"user",content:s}]})});if(!o.ok)throw new Error(`Ollama  : ${o.status}`);const a=await o.json(),c=typeof((m=a==null?void 0:a.message)==null?void 0:m.content)=="string"?a.message.content:"",u=_j(c);if(!u)throw new Error("Ollama  JSON  .");const f=JSON.parse(u),h=Array.isArray(f.recommendations)?f.recommendations.slice(0,3):[];if(h.length===0)throw new Error("Ollama    .");return h.map((v,w)=>{const x=_l(v.settings,e);return{title:(v.title||"").trim()||`AI  ${w+1}`,reason:(v.reason||"").trim()||"    .",settings:x,projection:lo(t,x),source:"ollama"}})}async function Cj(t,e,n="maintain"){try{return{recommendations:await Ej(t,e,n),source:"ollama",model:vf,baseUrl:yf,message:`${fb[n]}  AI  .`}}catch(s){const o=kj(t,e,n);return s instanceof Error&&console.warn("[AI Advisor] fallback engaged:",s.message),{recommendations:o,source:"fallback",model:vf,baseUrl:yf,message:"    .      ."}}}const Td={revenueGrowth:{label:" ",suffix:"%"},headcountChange:{label:" ",suffix:""},marketingIncrease:{label:" ",suffix:"%"},priceIncrease:{label:" ",suffix:"%"}};function Tj({settings:t,onSettingsChange:e,data:n,scenario:s,onSimulate:o,onBack:a}){const c=E.useMemo(()=>lo(n,t),[n,t]),[u,f]=E.useState(!1),[h,m]=E.useState(null),[v,w]=E.useState(null),[x,S]=E.useState([]),b=E.useRef(null),k=[{id:"revenueGrowth",icon:"",label:" ",value:t.revenueGrowth,min:-50,max:100,step:5,suffix:"%"},{id:"headcountChange",icon:"",label:" ",value:t.headcountChange,min:-5,max:10,step:1,suffix:""},{id:"marketingIncrease",icon:"",label:" ",value:t.marketingIncrease,min:-50,max:200,step:10,suffix:"%"},{id:"priceIncrease",icon:"",label:" ",value:t.priceIncrease,min:-20,max:50,step:5,suffix:"%"}],C=async P=>{f(!0),m(null);try{const T=await Cj(n,t,s);S(T.recommendations),w(T.source),m(T.message),P&&T.recommendations.length>0&&(e(T.recommendations[0].settings),m(R=>`${R??""}  1   .`))}catch{w("fallback"),m("   .      .")}finally{f(!1)}};return E.useEffect(()=>{s!=="attack"&&s!=="defense"||b.current!==s&&(b.current=s,C(!0))},[s]),g.jsxs("div",{className:"mx-auto max-w-6xl px-4 md:px-5",children:[g.jsx(te.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"mx-auto mb-8 max-w-3xl text-center",children:g.jsxs("div",{className:"sg-panel-dark p-5",children:[g.jsx("h2",{className:"sg-heading",children:" "}),g.jsx("p",{className:"sg-subtitle mt-2",children:"   "})]})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsx(te.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},className:"space-y-6",children:k.map((P,T)=>g.jsxs(te.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:T*.1},className:"sg-card p-6",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"text-2xl",children:P.icon}),g.jsx("span",{className:"text-sm font-bold text-amber-900",children:P.label})]}),g.jsxs("div",{className:`rounded-md border px-3 py-1.5 text-xl font-black ${P.value>=0?"border-emerald-700/40 bg-emerald-100 text-emerald-700":"border-red-700/40 bg-red-100 text-red-700"}`,children:[P.value>0?"+":"",P.value,P.suffix]})]}),g.jsx(bj,{value:[P.value],onValueChange:R=>e({...t,[P.id]:R[0]}),min:P.min,max:P.max,step:P.step,className:"py-4"}),g.jsxs("div",{className:"mt-2 flex justify-between text-xs text-amber-900/60",children:[g.jsxs("span",{children:[P.min,P.suffix]}),g.jsxs("span",{children:[P.max,P.suffix]})]})]},P.id))}),g.jsxs(te.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},className:"space-y-6",children:[g.jsxs("div",{className:"sg-panel-dark p-6",children:[g.jsxs("h3",{className:"sg-heading mb-4 flex items-center gap-2",children:[g.jsx("span",{children:""}),"  "]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"sg-card-dark flex items-center justify-between p-3",children:[g.jsx("span",{className:"text-sm text-slate-200",children:" "}),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-lg font-bold text-green-400",children:Oe(c.revenue)}),g.jsxs("div",{className:"text-xs text-slate-500",children:[": ",Oe(n.monthlyRevenue)]})]})]}),g.jsxs("div",{className:"sg-card-dark flex items-center justify-between p-3",children:[g.jsx("span",{className:"text-sm text-slate-200",children:" "}),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-lg font-bold text-red-400",children:Oe(c.burn)}),g.jsxs("div",{className:"text-xs text-slate-500",children:[": ",Oe(n.monthlyBurn)]})]})]}),g.jsxs("div",{className:"sg-card-dark flex items-center justify-between p-3",children:[g.jsx("span",{className:"text-sm text-slate-200",children:" "}),g.jsx("div",{className:`text-lg font-bold ${c.profit>=0?"text-green-400":"text-red-400"}`,children:Oe(c.profit,{signed:!0})})]}),g.jsxs("div",{className:"sg-card-dark flex items-center justify-between p-3",children:[g.jsx("span",{className:"text-sm text-slate-200",children:""}),g.jsxs("div",{className:"text-right",children:[g.jsxs("div",{className:`text-2xl font-bold ${c.runway>6?"text-primary":c.runway>3?"text-amber-400":"text-red-400"}`,children:[c.runway.toFixed(1),""]}),g.jsxs("div",{className:"text-xs text-slate-500",children:[": ",n.runway.toFixed(1),""]})]})]})]})]}),g.jsxs("div",{className:"sg-panel-dark p-6",children:[g.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[g.jsx("h4",{className:"sg-heading",children:" AI "}),v&&g.jsx("span",{className:`rounded-md border px-2 py-1 text-[10px] font-bold ${v==="ollama"?"border-emerald-500/50 bg-emerald-900/35 text-emerald-200":"border-amber-500/50 bg-amber-900/35 text-amber-200"}`,children:v==="ollama"?"LLama ":" "})]}),g.jsxs("p",{className:"text-xs text-slate-300",children:["Ollama URL: ",g.jsx("code",{children:"VITE_OLLAMA_BASE_URL"})," / : ",g.jsx("code",{children:"VITE_OLLAMA_MODEL"})]}),g.jsxs("div",{className:"sg-command-row mt-4 justify-start",children:[g.jsx(an,{onClick:()=>{C(!1)},variant:"primary",size:"small",disabled:u,children:u?" ...":" AI  Top3 "}),g.jsx(an,{onClick:()=>{C(!0)},variant:"success",size:"small",disabled:u,children:u?" ...":" AI   "})]}),h&&g.jsx("div",{className:"mt-3 rounded-md border border-amber-700/60 bg-[#1a2c4f] px-3 py-2 text-xs text-amber-100",children:h}),x.length>0&&g.jsx("div",{className:"mt-4 space-y-3",children:x.map((P,T)=>g.jsxs("div",{className:"sg-card-dark p-3",children:[g.jsxs("div",{className:"mb-1 flex items-start justify-between gap-2",children:[g.jsxs("div",{className:"text-sm font-black text-amber-100",children:[T+1,". ",P.title]}),g.jsx("button",{type:"button",onClick:()=>e(P.settings),className:"rounded-md border border-amber-500/70 bg-amber-400 px-2 py-1 text-[10px] font-black text-[#2f2207]",children:"  "})]}),g.jsx("p",{className:"text-xs leading-relaxed text-slate-200/95",children:P.reason}),g.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2 text-[11px] text-slate-300",children:Object.keys(Td).map(R=>g.jsxs("div",{className:"rounded-sm border border-amber-700/30 bg-[#1f325a] px-2 py-1",children:[Td[R].label,": ",P.settings[R]>0?"+":"",P.settings[R],Td[R].suffix]},R))}),g.jsxs("div",{className:"mt-2 flex flex-wrap gap-3 text-[11px] font-bold text-amber-100",children:[g.jsxs("span",{children:[" ",Oe(P.projection.profit,{signed:!0})]}),g.jsxs("span",{children:[" ",P.projection.runway.toFixed(1),""]})]})]},`${P.title}-${T}`))})]}),g.jsxs("div",{className:"sg-panel p-6",children:[g.jsx("h4",{className:"sg-label mb-4 text-amber-900",children:" 24  "}),g.jsx("div",{className:"flex items-end justify-between h-32 gap-1",children:[...Array(24)].map((P,T)=>{const R=c.revenue*Math.pow(1+t.revenueGrowth/1200,T),D=c.burn,M=R-D,U=Math.abs(M)/5e4*100;return g.jsx(te.div,{initial:{height:0},animate:{height:`${Math.min(U,100)}%`},transition:{delay:T*.02},className:`flex-1 rounded-t-sm ${M>=0?"bg-emerald-500":"bg-red-500"} border border-amber-900/20`,title:`${T+1}: ${Oe(M,{signed:!0})}`},T)})}),g.jsxs("div",{className:"mt-4 flex justify-between text-xs text-amber-900/60",children:[g.jsx("span",{children:""}),g.jsx("span",{children:"6"}),g.jsx("span",{children:"12"}),g.jsx("span",{children:"18"}),g.jsx("span",{children:"24"})]})]}),g.jsx(te.div,{className:`rounded-xl p-6 border-2 ${c.runway<3?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"}`,children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"text-3xl",children:c.runway<3?"":c.runway>12?"":""}),g.jsxs("div",{children:[g.jsx("div",{className:"mb-2 font-bold text-amber-900",children:c.runway<3?":  ":c.runway>12?":   ":":   "}),g.jsx("p",{className:"text-sm text-amber-900/80",children:c.runway<3?"    .":c.runway>12?"     .":"     ."})]})]})})]})]}),g.jsxs(te.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"sg-command-row mt-8",children:[g.jsx(an,{onClick:a,variant:"secondary",children:"  "}),g.jsx(an,{onClick:o,variant:"success",size:"large",children:"  "})]})]})}const Av=(t,e,n)=>Math.max(e,Math.min(n,t));function Pj({scenario:t,representativeVariant:e,success:n,results:s}){const o=["hogeoa","extra_1","extra_2"],a=E.useMemo(()=>{const b=s.filter((P,T)=>T%2===0).slice(0,10);if(b.length===0)return[{attacker:"bandit",damage:10,month:1}];const k=t==="attack"?2:t==="maintain"?1:0,C=t==="attack"?2:t==="maintain"?0:-1;return b.map(P=>{const T=Math.round(P.profit/4e3),R=Math.round((P.runway-6)*1.2);return P.profit>=0?{attacker:"hero",damage:Av(10+T+R+k+(n?2:0),6,24),month:P.month}:{attacker:"bandit",damage:Av(9+Math.abs(Math.min(T,0))+Math.max(0,-R)+C,6,24),month:P.month}})},[s,t,n]),[c,u]=E.useState(0),[f,h]=E.useState(100),[m,v]=E.useState(100),[w,x]=E.useState(null);E.useEffect(()=>{u(0),h(100),v(100),x(null)},[a]),E.useEffect(()=>{if(a.length===0)return;const b=setInterval(()=>{u(k=>(k+1)%(a.length+1))},1100);return()=>clearInterval(b)},[a.length]),E.useEffect(()=>{if(c===0){h(100),v(100),x(null);return}const b=a[c-1];x(b.attacker),b.attacker==="hero"?v(C=>Math.max(0,C-b.damage)):h(C=>Math.max(0,C-b.damage));const k=setTimeout(()=>{x(null)},450);return()=>clearTimeout(k)},[c,a]);const S=c===0?a[Math.max(0,a.length-1)]:a[Math.max(0,c-1)];return g.jsxs(te.div,{initial:{y:12,opacity:0},animate:{y:0,opacity:1},className:"sg-panel-dark p-4 md:p-5",children:[g.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[g.jsx("h3",{className:"sg-heading",children:" "}),g.jsx("span",{className:"sg-chip",children:c===0?"":`${c}/${a.length} `})]}),g.jsxs("div",{className:"mb-4 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[g.jsxs("div",{className:"sg-card-dark p-3",children:[g.jsx("div",{className:"mb-1 text-[10px] font-bold uppercase tracking-widest text-slate-300",children:"  "}),g.jsx("div",{className:"h-3 overflow-hidden rounded-sm border border-emerald-900/40 bg-[#12223f]",children:g.jsx(te.div,{animate:{width:`${f}%`},transition:{duration:.45},className:"h-full bg-gradient-to-r from-emerald-400 to-emerald-600"})}),g.jsxs("div",{className:"mt-1 text-right text-xs font-bold text-emerald-300",children:[f,"%"]})]}),g.jsxs("div",{className:"sg-card-dark p-3",children:[g.jsx("div",{className:"mb-1 text-[10px] font-bold uppercase tracking-widest text-slate-300",children:" "}),g.jsx("div",{className:"h-3 overflow-hidden rounded-sm border border-red-900/40 bg-[#12223f]",children:g.jsx(te.div,{animate:{width:`${m}%`},transition:{duration:.45},className:"h-full bg-gradient-to-r from-red-400 to-red-600"})}),g.jsxs("div",{className:"mt-1 text-right text-xs font-bold text-red-300",children:[m,"%"]})]})]}),g.jsxs("div",{className:"relative h-[218px] overflow-hidden rounded-md border border-amber-700/70 bg-gradient-to-b from-[#1b2d52] via-[#1a2949] to-[#12203a] shadow-[inset_0_0_0_1px_rgba(255,224,132,0.16)]",children:[g.jsx("div",{className:"absolute inset-x-0 bottom-14 h-px bg-amber-300/40"}),g.jsx("div",{className:"absolute inset-x-0 bottom-0 h-14 bg-gradient-to-b from-[#303f65] to-[#263457]"}),g.jsxs(te.div,{className:"absolute bottom-5 left-3 flex items-end gap-3 md:left-6",animate:w==="hero"?{x:[0,18,0]}:w==="bandit"?{x:[0,-5,0]}:{x:0},transition:{duration:.45},children:[g.jsx("div",{className:"mb-2",children:g.jsx(Hw,{hp:f})}),g.jsx(Ys,{variant:e,size:76})]}),g.jsx(te.div,{className:"absolute bottom-5 right-4 flex items-end gap-1 md:right-7",animate:w==="bandit"?{x:[0,-18,0]}:w==="hero"?{x:[0,8,-4,0]}:{x:0},transition:{duration:.45},children:Array.from({length:3}).map((b,k)=>g.jsx(te.div,{animate:{y:[0,-2,0]},transition:{duration:.9,repeat:1/0,delay:k*.14},children:g.jsx(Kw,{variant:o[k],size:56})},k))}),w==="hero"&&g.jsx(te.div,{className:"absolute bottom-20 right-[26%] text-3xl",initial:{opacity:0,scale:.5,x:-12},animate:{opacity:[0,1,0],scale:[.6,1.2,.84],x:[-12,10,18]},transition:{duration:.42},children:""},`hero-hit-${c}`),w==="bandit"&&g.jsx(te.div,{className:"absolute bottom-24 left-[28%] text-3xl",initial:{opacity:0,scale:.5,x:10},animate:{opacity:[0,1,0],scale:[.6,1.2,.84],x:[8,-4,-12]},transition:{duration:.42},children:""},`bandit-hit-${c}`)]}),g.jsx("div",{className:"mt-3 rounded-md border border-amber-700/50 bg-[#172747] px-3 py-2 text-xs text-amber-100",children:c===0?"   .":`${S.month}: ${S.attacker==="hero"?" ":" "} (-${S.damage} HP)`})]})}function Aj({settings:t,scenario:e,initialData:n,representativeVariant:s,onRestart:o,onAdjust:a}){const u=(()=>{const b=[];let k=n.cash,C=n.monthlyRevenue;const T=Math.max(0,n.employees+t.headcountChange)*qr,R=n.marketingCost*(1+t.marketingIncrease/100),D=n.officeCost;for(let M=1;M<=24;M++){C=C*(1+t.revenueGrowth/1200),M===1&&(C=C*(1+t.priceIncrease/100));const U=T+R+D,$=C-U;k+=$,b.push({month:M,revenue:C,burn:U,profit:$,cash:k,runway:k/U})}return b})(),f=u[u.length-1],h=f.cash>n.cash&&f.runway>6,m=u.findIndex(b=>b.profit>0),v=u.findIndex(b=>b.cash<=0),w=u.reduce((b,k,C)=>k.cash>u[b].cash?C:b,0),S=(()=>{const b=[];return t.marketingIncrease>30&&b.push({icon:"",text:" ROI   "}),t.headcountChange>0&&b.push({icon:"",text:`${Math.ceil(t.headcountChange/2)}   `}),t.priceIncrease>0&&b.push({icon:"",text:`${t.priceIncrease}%   A/B  `}),f.runway<6?b.push({icon:"",text:"      "}):f.runway>18&&b.push({icon:"",text:" /  "}),b.slice(0,3)})();return g.jsxs("div",{className:"mx-auto max-w-6xl px-4 md:px-5",children:[g.jsx(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"mb-8 text-center",children:g.jsxs("div",{className:`inline-block rounded-xl p-6 border-2 ${h?"border-emerald-400 bg-emerald-100":"border-amber-300 bg-amber-100"}`,children:[g.jsx(te.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5},className:"text-5xl mb-3",children:h?"":""}),g.jsx("h2",{className:"sg-heading !text-amber-900 mb-2",children:h?" !":" "}),g.jsx("p",{className:"text-sm text-amber-900/75",children:"24    "})]})}),g.jsx(te.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"mb-8",children:g.jsx(Gw,{percentage:Math.min(f.runway/12*100,100),label:` : ${f.runway.toFixed(1)}`})}),g.jsx(Pj,{scenario:e,representativeVariant:s,success:h,results:u}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[g.jsxs(te.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},className:"sg-panel p-6",children:[g.jsx("h3",{className:"sg-label mb-6 text-amber-900",children:"24  "}),g.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-1",children:u.filter((b,k)=>k%2===0||k===u.length-1).map((b,k)=>g.jsxs(te.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:k*.05},className:"relative flex items-center justify-between rounded-md border border-amber-900/20 bg-amber-50 p-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"text-2xl",children:b.profit>5e3?"":b.profit>0?"":b.profit>-5e3?"":b.cash>0?"":""}),g.jsxs("div",{children:[g.jsxs("div",{className:"text-sm font-bold text-amber-900",children:[b.month,""]}),g.jsxs("div",{className:"text-xs text-amber-900/60",children:[": ",b.runway.toFixed(1),""]})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:`font-bold text-sm ${b.profit>=0?"text-green-600":"text-red-600"}`,children:Oe(b.profit,{signed:!0})}),g.jsxs("div",{className:"text-xs text-amber-900/60",children:[": ",Oe(b.cash)]})]}),b.month===m+1&&m>=0&&g.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-full bg-emerald-500 px-2 py-0.5 text-[10px] font-bold text-white",children:""}),b.month===w+1&&g.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-full bg-amber-500 px-2 py-0.5 text-[10px] font-bold text-white",children:""})]},b.month))}),g.jsx("div",{className:"mt-6 h-32 flex items-end gap-1",children:u.map((b,k)=>{const C=Math.max(b.profit/5e4*100+50,5);return g.jsx(te.div,{initial:{height:0},animate:{height:`${C}%`},transition:{delay:k*.02},className:`flex-1 rounded-t-sm ${b.profit>=0?"bg-emerald-500":"bg-red-500"} border border-amber-900/20`,title:`${b.month}: ${Oe(b.profit,{signed:!0})}`},k)})})]}),g.jsxs(te.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},className:"space-y-6",children:[g.jsxs("div",{className:"sg-panel-dark p-6",children:[g.jsxs("h3",{className:"sg-heading mb-4 flex items-center gap-2",children:[g.jsx("span",{children:""}),"  "]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"sg-card-dark p-4 text-center",children:[g.jsx("div",{className:"text-slate-400 text-xs mb-1",children:" "}),g.jsx("div",{className:`text-xl font-bold ${f.cash>n.cash?"text-green-400":"text-red-400"}`,children:Oe(f.cash)}),g.jsx("div",{className:"text-xs text-slate-500 mt-1",children:Oe(f.cash-n.cash,{signed:!0})})]}),g.jsxs("div",{className:"sg-card-dark p-4 text-center",children:[g.jsx("div",{className:"text-slate-400 text-xs mb-1",children:" "}),g.jsxs("div",{className:`text-xl font-bold ${f.runway>6?"text-green-400":"text-red-400"}`,children:[f.runway.toFixed(1),""]})]}),g.jsxs("div",{className:"sg-card-dark p-4 text-center",children:[g.jsx("div",{className:"text-slate-400 text-xs mb-1",children:"  "}),g.jsx("div",{className:"text-xl font-bold text-primary",children:Oe(f.revenue)})]}),g.jsxs("div",{className:"sg-card-dark p-4 text-center",children:[g.jsx("div",{className:"text-slate-400 text-xs mb-1",children:""}),g.jsx("div",{className:"text-xl font-bold text-amber-400",children:m>=0?`${m+1}`:""})]})]})]}),g.jsxs("div",{className:"sg-panel p-6",children:[g.jsx("h3",{className:"sg-label mb-4 text-amber-900",children:"AI  "}),g.jsx("div",{className:"mb-4 rounded-md border border-amber-900/20 bg-amber-50 p-4",children:g.jsx("p",{className:"text-sm leading-relaxed text-amber-900/85",children:h?`!   24  ${f.runway.toFixed(1)}  .     .`:f.cash>0?` .    , ${v>=0?`${v+1}  `:" "}  .   .`:` . ${v+1}  .     .`})}),g.jsx("div",{className:"mb-2 text-sm font-bold text-amber-900",children:"   3:"}),g.jsx("div",{className:"space-y-3",children:S.map((b,k)=>g.jsxs(te.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6+k*.1},className:"flex items-start gap-3 rounded-md border border-amber-900/20 bg-amber-50 p-3",children:[g.jsx("span",{className:"text-2xl",children:b.icon}),g.jsx("span",{className:"flex-1 text-sm text-amber-900/85",children:b.text})]},k))})]}),g.jsxs("div",{className:`rounded-xl p-6 border-2 text-center ${h?"bg-green-50 border-green-200":f.cash>0?"bg-amber-50 border-amber-200":"bg-red-50 border-red-200"}`,children:[g.jsx("div",{className:"text-4xl mb-3",children:h?"":f.cash>0?"":""}),g.jsx("div",{className:"mb-2 text-xl font-black text-amber-900",children:h?"  !":f.cash>0?" ":"  "}),g.jsx("p",{className:"text-sm text-amber-900/80",children:h?"     .":f.cash>0?"  .":"   ."})]})]})]}),g.jsxs(te.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},className:"sg-command-row",children:[g.jsx(an,{onClick:a,variant:"secondary",size:"large",children:"  "}),g.jsx(an,{onClick:o,variant:"success",size:"large",children:"  "})]})]})}function Rj({onSelect:t}){return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-[#0d1528]/92 p-4 backdrop-blur-sm",children:g.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-lg text-center",children:[g.jsxs("div",{className:"sg-panel-dark p-5 mb-6",children:[g.jsx("h2",{className:"sg-heading",children:"  "}),g.jsx("p",{className:"sg-subtitle mt-2",children:"   .     ."})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs(te.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>t("strategist"),className:"sg-card-dark border-2 border-amber-900/70 p-6 transition-colors hover:border-amber-400/90",children:[g.jsx("div",{className:"flex justify-center mb-3",children:g.jsx(Ys,{variant:"strategist",size:96})}),g.jsx("span",{className:"text-lg font-black text-amber-100",children:" "}),g.jsx("p",{className:"text-xs mt-1 text-slate-300",children:" "})]}),g.jsxs(te.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>t("general"),className:"sg-card-dark border-2 border-amber-900/70 p-6 transition-colors hover:border-amber-400/90",children:[g.jsx("div",{className:"flex justify-center mb-3",children:g.jsx(Ys,{variant:"general",size:96})}),g.jsx("span",{className:"text-lg font-black text-amber-100",children:" "}),g.jsx("p",{className:"text-xs mt-1 text-slate-300",children:" "})]})]})]})})}var Th="Dialog",[hb]=Ao(Th),[jj,dn]=hb(Th),pb=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:o,onOpenChange:a,modal:c=!0}=t,u=E.useRef(null),f=E.useRef(null),[h=!1,m]=bh({prop:s,defaultProp:o,onChange:a});return g.jsx(jj,{scope:e,triggerRef:u,contentRef:f,contentId:wl(),titleId:wl(),descriptionId:wl(),open:h,onOpenChange:m,onOpenToggle:E.useCallback(()=>m(v=>!v),[m]),modal:c,children:n})};pb.displayName=Th;var mb="DialogTrigger",Nj=E.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=dn(mb,n),a=ot(e,o.triggerRef);return g.jsx(at.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Rh(o.open),...s,ref:a,onClick:tt(t.onClick,o.onOpenToggle)})});Nj.displayName=mb;var Ph="DialogPortal",[Oj,gb]=hb(Ph,{forceMount:void 0}),yb=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:o}=t,a=dn(Ph,e);return g.jsx(Oj,{scope:e,forceMount:n,children:E.Children.map(s,c=>g.jsx(si,{present:n||a.open,children:g.jsx(xh,{asChild:!0,container:o,children:c})}))})};yb.displayName=Ph;var Ll="DialogOverlay",vb=E.forwardRef((t,e)=>{const n=gb(Ll,t.__scopeDialog),{forceMount:s=n.forceMount,...o}=t,a=dn(Ll,t.__scopeDialog);return a.modal?g.jsx(si,{present:s||a.open,children:g.jsx(Ij,{...o,ref:e})}):null});vb.displayName=Ll;var Ij=E.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=dn(Ll,n);return g.jsx(Sh,{as:Js,allowPinchZoom:!0,shards:[o.contentRef],children:g.jsx(at.div,{"data-state":Rh(o.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),Xr="DialogContent",wb=E.forwardRef((t,e)=>{const n=gb(Xr,t.__scopeDialog),{forceMount:s=n.forceMount,...o}=t,a=dn(Xr,t.__scopeDialog);return g.jsx(si,{present:s||a.open,children:a.modal?g.jsx(Dj,{...o,ref:e}):g.jsx(Mj,{...o,ref:e})})});wb.displayName=Xr;var Dj=E.forwardRef((t,e)=>{const n=dn(Xr,t.__scopeDialog),s=E.useRef(null),o=ot(e,n.contentRef,s);return E.useEffect(()=>{const a=s.current;if(a)return kx(a)},[]),g.jsx(xb,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tt(t.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:tt(t.onPointerDownOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&a.preventDefault()}),onFocusOutside:tt(t.onFocusOutside,a=>a.preventDefault())})}),Mj=E.forwardRef((t,e)=>{const n=dn(Xr,t.__scopeDialog),s=E.useRef(!1),o=E.useRef(!1);return g.jsx(xb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,u;(c=t.onCloseAutoFocus)==null||c.call(t,a),a.defaultPrevented||(s.current||(u=n.triggerRef.current)==null||u.focus(),a.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:a=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),xb=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=t,u=dn(Xr,n),f=E.useRef(null),h=ot(e,f);return Xw(),g.jsxs(g.Fragment,{children:[g.jsx(dh,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:a,children:g.jsx(uh,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Rh(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(Lj,{titleId:u.titleId}),g.jsx(Vj,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Ah="DialogTitle",bb=E.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=dn(Ah,n);return g.jsx(at.h2,{id:o.titleId,...s,ref:e})});bb.displayName=Ah;var Sb="DialogDescription",_b=E.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=dn(Sb,n);return g.jsx(at.p,{id:o.descriptionId,...s,ref:e})});_b.displayName=Sb;var kb="DialogClose",Eb=E.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=dn(kb,n);return g.jsx(at.button,{type:"button",...s,ref:e,onClick:tt(t.onClick,()=>o.onOpenChange(!1))})});Eb.displayName=kb;function Rh(t){return t?"open":"closed"}var Cb="DialogTitleWarning",[JI,Tb]=h2(Cb,{contentName:Xr,titleName:Ah,docsSlug:"dialog"}),Lj=({titleId:t})=>{const e=Tb(Cb),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},$j="DialogDescriptionWarning",Vj=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Tb($j).contentName}}.`;return E.useEffect(()=>{var a;const o=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},Fj=pb,Uj=yb,Bj=vb,zj=wb,Wj=bb,Hj=_b,Kj=Eb;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Rv=t=>{const e=qj(t);return e.charAt(0).toUpperCase()+e.slice(1)},Pb=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:c,...u},f)=>E.createElement("svg",{ref:f,...Yj,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Pb("lucide",o),...u},[...c.map(([h,m])=>E.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=(t,e)=>{const n=E.forwardRef(({className:s,...o},a)=>E.createElement(Jj,{ref:a,iconNode:e,className:Pb(`lucide-${Gj(Rv(t))}`,`lucide-${t}`,s),...o}));return n.displayName=Rv(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zj=Xj("x",Qj);function jh({...t}){return g.jsx(Fj,{"data-slot":"dialog",...t})}function eN({...t}){return g.jsx(Uj,{"data-slot":"dialog-portal",...t})}function tN({className:t,...e}){return g.jsx(Bj,{"data-slot":"dialog-overlay",className:Kt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Nh({className:t,children:e,...n}){return g.jsxs(eN,{"data-slot":"dialog-portal",children:[g.jsx(tN,{}),g.jsxs(zj,{"data-slot":"dialog-content",className:Kt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,g.jsxs(Kj,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[g.jsx(Zj,{}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Oh({className:t,...e}){return g.jsx("div",{"data-slot":"dialog-header",className:Kt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Ih({className:t,...e}){return g.jsx("div",{"data-slot":"dialog-footer",className:Kt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Dh({className:t,...e}){return g.jsx(Wj,{"data-slot":"dialog-title",className:Kt("text-lg leading-none font-semibold",t),...e})}function Mh({className:t,...e}){return g.jsx(Hj,{"data-slot":"dialog-description",className:Kt("text-muted-foreground text-sm",t),...e})}function xt({className:t,type:e,...n}){return g.jsx("input",{type:e,"data-slot":"input",className:Kt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}const Ab=t=>t.replace(/[^\d]/g,""),sl=t=>{const e=Ab(t);return e?Number(e).toLocaleString("ko-KR"):""},il=t=>{const e=Ab(t);if(!e)return 0;const n=Number(e);return Number.isFinite(n)?Math.max(0,n):0};function nN({open:t,onOpenChange:e,initialValues:n,onSave:s}){const[o,a]=E.useState("0"),[c,u]=E.useState("0"),[f,h]=E.useState("0"),[m,v]=E.useState("0"),[w,x]=E.useState("0");E.useEffect(()=>{t&&(a(n.cash.toLocaleString("ko-KR")),u(n.monthlyRevenue.toLocaleString("ko-KR")),h(String(n.employees)),v(n.marketingCost.toLocaleString("ko-KR")),x(n.officeCost.toLocaleString("ko-KR")))},[t,n]);const S=E.useMemo(()=>{const C=Math.round(($=>{const J=Number($);return Number.isFinite(J)?Math.max(0,J):0})(f)),P=il(m),T=il(w),R=il(o),D=Ww(C,{unitCost:qr}),M=lh(D,P,T),U=zw(R,M);return{cash:R,monthlyRevenue:il(c),employees:C,marketingCost:P,officeCost:T,burn:M,runway:U}},[o,f,m,c,w]),b=k=>{k.preventDefault(),s({cash:S.cash,monthlyRevenue:S.monthlyRevenue,employees:S.employees,marketingCost:S.marketingCost,officeCost:S.officeCost}),e(!1)};return g.jsx(jh,{open:t,onOpenChange:e,children:g.jsxs(Nh,{className:"sg-panel-dark border-amber-600/70 bg-[#162540] p-5 text-amber-100 sm:max-w-[640px]",children:[g.jsxs(Oh,{children:[g.jsx(Dh,{className:"sg-heading",children:"/ "}),g.jsx(Mh,{className:"text-xs text-slate-300",children:"   . : 10,000 1, 100,000,000 1  ."})]}),g.jsxs("form",{onSubmit:b,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[g.jsxs("label",{className:"text-xs font-bold text-amber-100",children:["()",g.jsx(xt,{className:"mt-1 border-amber-700/70 bg-[#1e315a] text-amber-100",type:"text",inputMode:"numeric",value:o,onChange:k=>a(sl(k.target.value))})]}),g.jsxs("label",{className:"text-xs font-bold text-amber-100",children:[" ",g.jsx(xt,{className:"mt-1 border-amber-700/70 bg-[#1e315a] text-amber-100",type:"text",inputMode:"numeric",value:c,onChange:k=>u(sl(k.target.value))})]}),g.jsxs("label",{className:"text-xs font-bold text-amber-100",children:[" ",g.jsx(xt,{className:"mt-1 border-amber-700/70 bg-[#1e315a] text-amber-100",type:"number",min:0,step:1,value:f,onChange:k=>h(k.target.value)})]}),g.jsxs("label",{className:"text-xs font-bold text-amber-100",children:[" ",g.jsx(xt,{className:"mt-1 border-amber-700/70 bg-[#1e315a] text-amber-100",type:"text",inputMode:"numeric",value:m,onChange:k=>v(sl(k.target.value))})]}),g.jsxs("label",{className:"text-xs font-bold text-amber-100 sm:col-span-2",children:[" ",g.jsx(xt,{className:"mt-1 border-amber-700/70 bg-[#1e315a] text-amber-100",type:"text",inputMode:"numeric",value:w,onChange:k=>x(sl(k.target.value))})]})]}),g.jsxs("div",{className:"rounded-md border border-amber-700/60 bg-[#1b2d52] p-3 text-xs text-amber-100",children:[g.jsxs("div",{children:[" : ",Oe(S.cash)]}),g.jsxs("div",{children:["  : ",Oe(S.burn)]}),g.jsxs("div",{children:[" : ",S.runway.toFixed(1),""]})]}),g.jsxs(Ih,{children:[g.jsx("button",{type:"button",onClick:()=>e(!1),className:"sg-btn sg-btn-secondary px-4 py-2 text-[11px] font-bold",children:""}),g.jsx("button",{type:"submit",className:"sg-btn sg-btn-success px-4 py-2 text-[11px] font-bold",children:""})]})]})]})})}const Rb=t=>t.replace(/[^\d]/g,""),rN=t=>{const e=Rb(t);return e?Number(e).toLocaleString("ko-KR"):""},sN=t=>{const e=Rb(t);if(!e)return 0;const n=Number(e);return Number.isFinite(n)?Math.max(0,n):0};function iN({open:t,target:e,initialAmount:n,initialEmployees:s,onOpenChange:o,onSave:a}){const[c,u]=E.useState("0"),[f,h]=E.useState("0");E.useEffect(()=>{t&&(u(n.toLocaleString("ko-KR")),h(String(s)))},[n,s,t]);const m=E.useMemo(()=>{const S=Number(f);return Number.isFinite(S)?Math.max(0,Math.round(S)):0},[f]),v=E.useMemo(()=>e==="personnel"?m*qr:sN(c),[c,m,e]),w=e==="personnel"?"":e==="office"?"":"",x=S=>{S.preventDefault(),a({amount:v,employees:e==="personnel"?m:void 0}),o(!1)};return g.jsx(jh,{open:t,onOpenChange:o,children:g.jsxs(Nh,{className:"sg-panel-dark border-amber-600/70 bg-[#162540] p-5 text-amber-100 sm:max-w-[520px]",children:[g.jsxs(Oh,{children:[g.jsxs(Dh,{className:"sg-heading",children:[w," "]}),g.jsx(Mh,{className:"text-xs text-slate-300",children:e==="personnel"?`     . (1 ${Oe(qr)})`:"   ."})]}),g.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e==="personnel"&&g.jsxs("label",{className:"block text-xs font-bold text-amber-100",children:[" ",g.jsx(xt,{className:"mt-1 border-amber-700/70 bg-[#1e315a] text-amber-100",type:"number",min:0,step:1,value:f,onChange:S=>h(S.target.value)})]}),e!=="personnel"&&g.jsxs("label",{className:"block text-xs font-bold text-amber-100",children:[w,g.jsx(xt,{className:"mt-1 border-amber-700/70 bg-[#1e315a] text-amber-100",type:"text",inputMode:"numeric",value:c,onChange:S=>u(rN(S.target.value))})]}),g.jsxs("div",{className:"rounded-md border border-amber-700/60 bg-[#1b2d52] p-3 text-xs text-amber-100",children:[g.jsxs("div",{children:[" : ",Oe(v)]}),e==="personnel"&&g.jsxs("div",{children:["  : ",m," (300 x ",m,")"]})]}),g.jsxs(Ih,{children:[g.jsx("button",{type:"button",onClick:()=>o(!1),className:"sg-btn sg-btn-secondary px-4 py-2 text-[11px] font-bold",children:""}),g.jsx("button",{type:"submit",className:"sg-btn sg-btn-success px-4 py-2 text-[11px] font-bold",children:""})]})]})]})})}function oN({className:t,...e}){return g.jsx("textarea",{"data-slot":"textarea",className:Kt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function aN({open:t,scenarioId:e,initialCopy:n,onOpenChange:s,onSave:o}){const a=" ",[c,u]=E.useState(""),[f,h]=E.useState(""),[m,v]=E.useState(""),[w,x]=E.useState("");E.useEffect(()=>{!t||!n||(u(e==="attack"?a:n.title),h(n.description),v(n.effect),x(n.detail))},[t,n,e]);const S=e==="defense"?"  ":e==="attack"?"  ":"  ",b=k=>{k.preventDefault(),e&&(o(e,{title:e==="attack"?a:c.trim()||" ",description:f.trim()||"-",effect:m.trim()||"-",detail:w.trim()||"-"}),s(!1))};return g.jsx(jh,{open:t,onOpenChange:s,children:g.jsxs(Nh,{className:"sg-panel-dark border-amber-600/70 bg-[#162540] p-5 text-amber-100 sm:max-w-[620px]",children:[g.jsxs(Oh,{children:[g.jsx(Dh,{className:"sg-heading",children:S}),g.jsx(Mh,{className:"text-xs text-slate-300",children:"        ."})]}),g.jsxs("form",{onSubmit:b,className:"space-y-4",children:[g.jsxs("label",{className:"block text-xs font-bold text-amber-100",children:["",g.jsx(xt,{className:"mt-1 border-amber-700/70 bg-[#1e315a] text-amber-100",value:c,onChange:k=>u(k.target.value),maxLength:24,disabled:e==="attack"}),e==="attack"&&g.jsx("div",{className:"mt-1 text-[10px] text-slate-300",children:"   ."})]}),g.jsxs("label",{className:"block text-xs font-bold text-amber-100",children:["",g.jsx(xt,{className:"mt-1 border-amber-700/70 bg-[#1e315a] text-amber-100",value:f,onChange:k=>h(k.target.value),maxLength:40})]}),g.jsxs("label",{className:"block text-xs font-bold text-amber-100",children:[" ",g.jsx(xt,{className:"mt-1 border-amber-700/70 bg-[#1e315a] text-amber-100",value:m,onChange:k=>v(k.target.value),maxLength:40})]}),g.jsxs("label",{className:"block text-xs font-bold text-amber-100",children:[" ",g.jsx(oN,{className:"mt-1 min-h-20 border-amber-700/70 bg-[#1e315a] text-amber-100",value:w,onChange:k=>x(k.target.value),maxLength:80})]}),g.jsxs(Ih,{children:[g.jsx("button",{type:"button",onClick:()=>s(!1),className:"sg-btn sg-btn-secondary px-4 py-2 text-[11px] font-bold",children:""}),g.jsx("button",{type:"submit",className:"sg-btn sg-btn-success px-4 py-2 text-[11px] font-bold",children:""})]})]})]})})}const kl="cfotool_representative_variant",wf="cfotool_character_chosen",lN={defense:{title:" ",description:" -30% ",effect:" +5",detail:"  "},maintain:{title:" ",description:"  ",effect:" 4.3",detail:"  "},attack:{title:" ",description:" +50% ",effect:" -1.2",detail:" ,  "}};function cN(){if(typeof window>"u")return null;const t=localStorage.getItem(kl);return t==="strategist"||t==="general"?t:null}function uN(){return typeof window>"u"?!1:localStorage.getItem(wf)==="true"}function dN({userDisplayName:t,companyName:e,initialRepresentativeVariant:n,onRepresentativeVariantPersist:s}){const[o,a]=E.useState("dashboard"),[c,u]=E.useState("maintain"),[f,h]=E.useState(lN),[m,v]=E.useState(!1),[w,x]=E.useState(null),[S,b]=E.useState(!1),[k,C]=E.useState(null),[P,T]=E.useState(()=>n??cN()??"strategist"),[R,D]=E.useState(()=>!n&&!uN()),M=B=>{T(B);try{localStorage.setItem(kl,B),localStorage.setItem(wf,"true")}catch{}s==null||s(B)},U=B=>{M(B),D(!1)};E.useEffect(()=>{!R&&typeof window<"u"&&localStorage.setItem(kl,P)},[P,R]),E.useEffect(()=>{if(n){T(n),D(!1);try{localStorage.setItem(kl,n),localStorage.setItem(wf,"true")}catch{}}},[n]);const[$,J]=E.useState({cash:15e7,monthlyRevenue:45e6,monthlyBurn:34e6,runway:4.3,employees:8,personnelCost:24e6,marketingCost:8e6,officeCost:2e6,historicalData:[]}),[ne,ae]=E.useState({revenueGrowth:30,headcountChange:2,marketingIncrease:50,priceIncrease:10}),ce=B=>{J(N=>{const z={cash:B.cash??N.cash,monthlyRevenue:B.monthlyRevenue??N.monthlyRevenue,employees:B.employees??N.employees,marketingCost:B.marketingCost??N.marketingCost,officeCost:B.officeCost??N.officeCost},H=Ww(z.employees,{unitCost:qr}),O=lh(H,z.marketingCost,z.officeCost),W=zw(z.cash,O),X=N.historicalData.length-1,pe=X>=0?N.historicalData.map((Se,_e)=>_e===X?{...Se,revenue:z.monthlyRevenue,burn:O}:Se):N.historicalData;return{...N,...z,personnelCost:H,monthlyBurn:O,runway:W,historicalData:pe}})},me=B=>{ce(B)},Z=B=>{if(w){if(w==="personnel"){const N=Math.max(0,Math.round(B.employees??0));ce({employees:N});return}if(w==="marketing"){ce({marketingCost:B.amount});return}ce({officeCost:B.amount})}},he=B=>{C(B),b(!0)},le=(B,N)=>{h(z=>({...z,[B]:N}))};return g.jsxs("div",{className:"w-full min-h-screen px-1 py-3 md:px-2 md:py-5",children:[o==="dashboard"&&R&&g.jsx(Rj,{onSelect:U}),o==="dashboard"&&!R&&g.jsx(YR,{data:$,onStartScenario:()=>a("scenario"),representativeVariant:P,onRepresentativeVariantChange:M,onEditMoney:()=>v(!0),onEditCost:B=>x(B),userDisplayName:t,companyName:e}),o==="scenario"&&g.jsx(XR,{selectedScenario:c,onSelectScenario:u,scenarioCopy:f,financialData:$,onEditScenario:he,onNext:()=>a("strategy"),onSimulate:()=>a("result"),onBack:()=>a("dashboard")}),o==="strategy"&&g.jsx(Tj,{settings:ne,onSettingsChange:ae,data:$,scenario:c,onSimulate:()=>a("result"),onBack:()=>a("scenario")}),o==="result"&&g.jsx(Aj,{settings:ne,scenario:c,initialData:$,representativeVariant:P,onRestart:()=>a("dashboard"),onAdjust:()=>a("strategy")}),g.jsx(nN,{open:m,onOpenChange:v,initialValues:{cash:$.cash,monthlyRevenue:$.monthlyRevenue,employees:$.employees,marketingCost:$.marketingCost,officeCost:$.officeCost},onSave:me}),g.jsx(iN,{open:w!==null,target:w,initialAmount:w==="personnel"?$.personnelCost:w==="office"?$.officeCost:$.marketingCost,initialEmployees:$.employees,onOpenChange:B=>{B||x(null)},onSave:Z}),g.jsx(aN,{open:S,scenarioId:k,initialCopy:k?f[k]:null,onOpenChange:b,onSave:le})]})}const fN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Lh extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class hN extends Lh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class jv extends Lh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nv extends Lh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(xf||(xf={}));class pN{constructor(e,{headers:n={},customFetch:s,region:o=xf.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=fN(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return mA(this,arguments,void 0,function*(n,s={}){var o;let a,c;try{const{headers:u,method:f,body:h,signal:m,timeout:v}=s;let w={},{region:x}=s;x||(x=this.region);const S=new URL(`${this.url}/${n}`);x&&x!=="any"&&(w["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let b;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",b=h):typeof h=="string"?(w["Content-Type"]="text/plain",b=h):typeof FormData<"u"&&h instanceof FormData?b=h:(w["Content-Type"]="application/json",b=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?b=JSON.stringify(h):b=h;let k=m;v&&(c=new AbortController,a=setTimeout(()=>c.abort(),v),m?(k=c.signal,m.addEventListener("abort",()=>c.abort())):k=c.signal);const C=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),u),body:b,signal:k}).catch(D=>{throw new hN(D)}),P=C.headers.get("x-relay-error");if(P&&P==="true")throw new jv(C);if(!C.ok)throw new Nv(C);let T=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),R;return T==="application/json"?R=yield C.json():T==="application/octet-stream"||T==="application/pdf"?R=yield C.blob():T==="text/event-stream"?R=C:T==="multipart/form-data"?R=yield C.formData():R=yield C.text(),{data:R,error:null,response:C}}catch(u){return{data:null,error:u,response:u instanceof Nv||u instanceof jv?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var mN=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},gN=class{constructor(t){var e,n,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(s=t.urlLengthLimit)!==null&&s!==void 0?s:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let c=null,u=null,f=null,h=a.status,m=a.statusText;if(a.ok){var v,w;if(n.method!=="HEAD"){var x;const C=await a.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((x=n.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?u=C:u=JSON.parse(C))}const b=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),k=(w=a.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");b&&k&&k.length>1&&(f=parseInt(k[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var S;const b=await a.text();try{c=JSON.parse(b),Array.isArray(c)&&a.status===404&&(u=[],c=null,h=200,m="OK")}catch{a.status===404&&b===""?(h=204,m="No Content"):c={message:b}}if(c&&n.isMaybeSingle&&(!(c==null||(S=c.details)===null||S===void 0)&&S.includes("0 rows"))&&(c=null,h=200,m="OK"),c&&n.shouldThrowOnError)throw new mN(c)}return{error:c,data:u,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(o=o.catch(a=>{var c;let u="",f="",h="";const m=a==null?void 0:a.cause;if(m){var v,w,x,S;const C=(v=m==null?void 0:m.message)!==null&&v!==void 0?v:"",P=(w=m==null?void 0:m.code)!==null&&w!==void 0?w:"";u=`${(x=a==null?void 0:a.name)!==null&&x!==void 0?x:"FetchError"}: ${a==null?void 0:a.message}`,u+=`

Caused by: ${(S=m==null?void 0:m.name)!==null&&S!==void 0?S:"Error"}: ${C}`,P&&(u+=` (${P})`),m!=null&&m.stack&&(u+=`
${m.stack}`)}else{var b;u=(b=a==null?void 0:a.stack)!==null&&b!==void 0?b:""}const k=this.url.toString().length;return(a==null?void 0:a.name)==="AbortError"||(a==null?void 0:a.code)==="ABORT_ERR"?(h="",f="Request was aborted (timeout or manual cancellation)",k>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${k} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((m==null?void 0:m.name)==="HeadersOverflowError"||(m==null?void 0:m.code)==="UND_ERR_HEADERS_OVERFLOW")&&(h="",f="HTTP headers exceeded server limits (typically 16KB)",k>this.urlLengthLimit&&(f+=`. Your request URL is ${k} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(c=a==null?void 0:a.name)!==null&&c!==void 0?c:"FetchError"}: ${a==null?void 0:a.message}`,details:u,hint:f,code:h},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},yN=class extends gN{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",c=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var c;const u=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${f}"; options=${u};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Ov=new RegExp("[,()]");var Ds=class extends yN{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&Ov.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&Ov.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},vN=class{constructor(t,{headers:e={},schema:n,fetch:s,urlLengthLimit:o=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=s,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:s}=e??{},o=n?"HEAD":"GET";let a=!1;const c=(t??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join(""),{url:u,headers:f}=this.cloneRequestState();return u.searchParams.set("select",c),s&&f.append("Prefer",`count=${s}`),new Ds({method:o,url:u,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var s;const o="POST",{url:a,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),n||c.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);a.searchParams.set("columns",f.join(","))}}return new Ds({method:o,url:a,headers:c,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var a;const c="POST",{url:u,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&u.searchParams.set("on_conflict",e),s&&f.append("Prefer",`count=${s}`),o||f.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(h.length>0){const m=[...new Set(h)].map(v=>`"${v}"`);u.searchParams.set("columns",m.join(","))}}return new Ds({method:c,url:u,headers:f,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;const s="PATCH",{url:o,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Ds({method:s,url:o,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const n="DELETE",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Ds({method:n,url:s,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function vo(t){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(t)}function wN(t,e){if(vo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(vo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xN(t){var e=wN(t,"string");return vo(e)=="symbol"?e:e+""}function bN(t,e,n){return(e=xN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function ol(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iv(Object(n),!0).forEach(function(s){bN(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iv(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var SN=class jb{constructor(e,{headers:n={},schema:s,fetch:o,timeout:a,urlLengthLimit:c=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.urlLengthLimit=c;const u=o??globalThis.fetch;a!==void 0&&a>0?this.fetch=(f,h)=>{const m=new AbortController,v=setTimeout(()=>m.abort(),a),w=h==null?void 0:h.signal;if(w){if(w.aborted)return clearTimeout(v),u(f,h);const x=()=>{clearTimeout(v),m.abort()};return w.addEventListener("abort",x,{once:!0}),u(f,ol(ol({},h),{},{signal:m.signal})).finally(()=>{clearTimeout(v),w.removeEventListener("abort",x)})}return u(f,ol(ol({},h),{},{signal:m.signal})).finally(()=>clearTimeout(v))}:this.fetch=u}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new vN(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new jb(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:s=!1,get:o=!1,count:a}={}){var c;let u;const f=new URL(`${this.url}/rpc/${e}`);let h;const m=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(m)),v=s&&Object.values(n).some(m);v?(u="POST",h=n):s||o?(u=s?"HEAD":"GET",Object.entries(n).filter(([x,S])=>S!==void 0).map(([x,S])=>[x,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([x,S])=>{f.searchParams.append(x,S)})):(u="POST",h=n);const w=new Headers(this.headers);return v?w.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&w.set("Prefer",`count=${a}`),new Ds({method:u,url:f,headers:w,schema:this.schemaName,body:h,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}};class _N{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const s=n.versions;if(s&&s.node){const o=s.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const kN="2.95.3",EN=`realtime-js/${kN}`,CN="1.0.0",Nb="2.0.0",Dv=Nb,bf=1e4,TN=1e3,PN=100;var hr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(hr||(hr={}));var Ze;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ze||(Ze={}));var on;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(on||(on={}));var Sf;(function(t){t.websocket="websocket"})(Sf||(Sf={}));var Br;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Br||(Br={}));class AN{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,n,s){var o,a;const c=e.topic,u=(o=e.ref)!==null&&o!==void 0?o:"",f=(a=e.join_ref)!==null&&a!==void 0?a:"",h=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(m).length===0?"":JSON.stringify(m);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+u.length+c.length+h.length+v.length,x=new ArrayBuffer(this.HEADER_LENGTH+w);let S=new DataView(x),b=0;S.setUint8(b++,this.KINDS.userBroadcastPush),S.setUint8(b++,f.length),S.setUint8(b++,u.length),S.setUint8(b++,c.length),S.setUint8(b++,h.length),S.setUint8(b++,v.length),S.setUint8(b++,n),Array.from(f,C=>S.setUint8(b++,C.charCodeAt(0))),Array.from(u,C=>S.setUint8(b++,C.charCodeAt(0))),Array.from(c,C=>S.setUint8(b++,C.charCodeAt(0))),Array.from(h,C=>S.setUint8(b++,C.charCodeAt(0))),Array.from(v,C=>S.setUint8(b++,C.charCodeAt(0)));var k=new Uint8Array(x.byteLength+s.byteLength);return k.set(new Uint8Array(x),0),k.set(new Uint8Array(s),x.byteLength),k.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,a,c,u,f]=s;return n({join_ref:o,ref:a,topic:c,event:u,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,s){const o=n.getUint8(1),a=n.getUint8(2),c=n.getUint8(3),u=n.getUint8(4);let f=this.HEADER_LENGTH+4;const h=s.decode(e.slice(f,f+o));f=f+o;const m=s.decode(e.slice(f,f+a));f=f+a;const v=s.decode(e.slice(f,f+c));f=f+c;const w=e.slice(f,e.byteLength),x=u===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,S={type:this.BROADCAST_EVENT,event:m,payload:x};return c>0&&(S.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>n.includes(s)))}}class Ob{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ne||(Ne={}));const Mv=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((a,c)=>(a[c]=RN(c,t,e,o),a),{}):{}},RN=(t,e,n,s)=>{const o=e.find(u=>u.name===t),a=o==null?void 0:o.type,c=n[t];return a&&!s.includes(a)?Ib(a,c):_f(c)},Ib=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return IN(e,n)}switch(t){case Ne.bool:return jN(e);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return NN(e);case Ne.json:case Ne.jsonb:return ON(e);case Ne.timestamp:return DN(e);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return _f(e);default:return _f(e)}},_f=t=>t,jN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},NN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ON=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},IN=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let a;const c=t.slice(1,n);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(u=>Ib(e,u))}return t},DN=t=>typeof t=="string"?t.replace(" ","T"):t,Db=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Pd{constructor(e,n,s={},o=bf){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Lv||(Lv={}));class co{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:a,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=co.syncState(this.state,o,a,c),this.pendingDiffs.forEach(f=>{this.state=co.syncDiff(this.state,f,a,c)}),this.pendingDiffs=[],u()}),this.channel._on(s.diff,{},o=>{const{onJoin:a,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=co.syncDiff(this.state,o,a,c),u())}),this.onJoin((o,a,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:c})}),this.onLeave((o,a,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const a=this.cloneDeep(e),c=this.transformState(n),u={},f={};return this.map(a,(h,m)=>{c[h]||(f[h]=m)}),this.map(c,(h,m)=>{const v=a[h];if(v){const w=m.map(k=>k.presence_ref),x=v.map(k=>k.presence_ref),S=m.filter(k=>x.indexOf(k.presence_ref)<0),b=v.filter(k=>w.indexOf(k.presence_ref)<0);S.length>0&&(u[h]=S),b.length>0&&(f[h]=b)}else u[h]=m}),this.syncDiff(a,{joins:u,leaves:f},s,o)}static syncDiff(e,n,s,o){const{joins:a,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(a,(u,f)=>{var h;const m=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(f),m.length>0){const v=e[u].map(x=>x.presence_ref),w=m.filter(x=>v.indexOf(x.presence_ref)<0);e[u].unshift(...w)}s(u,m,f)}),this.map(c,(u,f)=>{let h=e[u];if(!h)return;const m=f.map(v=>v.presence_ref);h=h.filter(v=>m.indexOf(v.presence_ref)<0),e[u]=h,o(u,h,f),h.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $v;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($v||($v={}));var uo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(uo||(uo={}));var Ln;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ln||(Ln={}));class zs{constructor(e,n={config:{}},s){var o,a;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Pd(this,on.join,this.params,this.timeout),this.rejoinTimer=new Ob(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(on.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new co(this),this.broadcastEndpointURL=Db(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ze.closed){const{config:{broadcast:c,presence:u,private:f}}=this.params,h=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[uo.PRESENCE]&&this.bindings[uo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},w={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(Ln.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(Ln.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e==null||e(Ln.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,k=(S=b==null?void 0:b.length)!==null&&S!==void 0?S:0,C=[];for(let P=0;P<k;P++){const T=b[P],{filter:{event:R,schema:D,table:M,filter:U}}=T,$=x&&x[P];if($&&$.event===R&&zs.isFilterValueEqual($.schema,D)&&zs.isFilterValueEqual($.table,M)&&zs.isFilterValueEqual($.filter,U))C.push(Object.assign(Object.assign({},T),{id:$.id}));else{this.unsubscribe(),this.state=Ze.errored,e==null||e(Ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Ln.SUBSCRIBED);return}}).receive("error",x=>{this.state=Ze.errored,e==null||e(Ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===Ze.joined&&e===uo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const h=await u.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:c}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,u,f;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ze.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(on.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Pd(this,on.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ze.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,a=setTimeout(()=>o.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),c}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Pd(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>PN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,a;const c=e.toLocaleLowerCase(),{close:u,error:f,leave:h,join:m}=on;if(s&&[u,f,h,m].indexOf(c)>=0&&s!==this._joinRef())return;let w=this._onMessage(c,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var S,b,k;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((k=(b=x.filter)===null||b===void 0?void 0:b.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===c}).map(x=>x.callback(w,s)):(a=this.bindings[c])===null||a===void 0||a.filter(x=>{var S,b,k,C,P,T;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const R=x.id,D=(S=x.filter)===null||S===void 0?void 0:S.event;return R&&((b=n.ids)===null||b===void 0?void 0:b.includes(R))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const R=(P=(C=x==null?void 0:x.filter)===null||C===void 0?void 0:C.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return R==="*"||R===((T=n==null?void 0:n.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:b,table:k,commit_timestamp:C,type:P,errors:T}=S;w=Object.assign(Object.assign({},{schema:b,table:k,commit_timestamp:C,eventType:P,new:{},old:{},errors:T}),this._getPayloadRecords(S))}x.callback(w,s)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&zs.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(on.close,{},e)}_onError(e){this._on(on.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Mv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Mv(e.columns,e.old_record)),n}}const Ad=()=>{},al={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},MN=[1e3,2e3,5e3,1e4],LN=1e4,$N=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class VN{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bf,this.transport=null,this.heartbeatIntervalMs=al.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ad,this.ref=0,this.reconnectTimer=null,this.vsn=Dv,this.logger=Ad,this.conn=null,this.sendBuffer=[],this.serializer=new AN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Sf.websocket}`,this.httpEndpoint=Db(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_N.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return n==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case hr.connecting:return Br.Connecting;case hr.open:return Br.Open;case hr.closing:return Br.Closing;default:return Br.Closed}}isConnected(){return this.connectionState()===Br.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===s);if(o)return o;{const a=new zs(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:s,payload:o,ref:a}=e,c=()=>{this.encode(e,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${s} (${a})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(TN,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},al.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:a,ref:c}=n,u=c?`(${c})`:"",f=a.status||"";this.log("receive",`${f} ${s} ${o} ${u}`.trim(),a),this.channels.filter(h=>h._isMember(s)).forEach(h=>h._trigger(o,a,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===hr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===hr.open||this.conn.readyState===hr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(on.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([$N],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,s=!1;if(e)n=e,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const a={access_token:n,version:EN};n&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(on.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Ob(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},al.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,a,c,u,f,h,m,v,w,x;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:bf,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:al.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:Ad,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:Dv,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:(S=>MN[S-1]||LN),this.vsn){case CN:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:((S,b)=>b(JSON.stringify(S))),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:((S,b)=>b(JSON.parse(S)));break;case Nb:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var wo=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function FN(t,e,n){const s=new URL(e,t);if(n)for(const[o,a]of Object.entries(n))a!==void 0&&s.searchParams.set(o,a);return s.toString()}async function UN(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function BN(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:o,body:a,headers:c}){const u=FN(t.baseUrl,s,o),f=await UN(t.auth),h=await e(u,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...f,...c},body:a?JSON.stringify(a):void 0}),m=await h.text(),v=(h.headers.get("content-type")||"").includes("application/json"),w=v&&m?JSON.parse(m):m;if(!h.ok){const x=v?w:void 0,S=x==null?void 0:x.error;throw new wo((S==null?void 0:S.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:x})}return{status:h.status,headers:h.headers,data:w}}}}function ll(t){return t.join("")}var zN=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:ll(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ll(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ll(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ll(t.namespace)}`}),!0}catch(e){if(e instanceof wo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof wo&&n.status===409)return;throw n}}};function Ps(t){return t.join("")}var WN=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ps(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ps(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ps(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ps(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ps(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ps(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof wo&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof wo&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},HN=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=BN({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new zN(this.client,e),this.tableOps=new WN(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Xl=class extends Error{constructor(t,e="storage",n,s){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=s}};function Ql(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var cl=class extends Xl{constructor(t,e,n,s="storage"){super(t,s,e,n),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Mb=class extends Xl{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const KN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),GN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kf=t=>{if(Array.isArray(t))return t.map(n=>kf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=kf(s)}),e},qN=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function xo(t){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo(t)}function YN(t,e){if(xo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(xo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JN(t){var e=YN(t,"string");return xo(e)=="symbol"?e:e+""}function XN(t,e,n){return(e=JN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function we(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vv(Object(n),!0).forEach(function(s){XN(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vv(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const Fv=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},QN=async(t,e,n,s)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const o=t,a=o.status||500;if(typeof o.json=="function")o.json().then(c=>{const u=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||a+"";e(new cl(Fv(c),a,u,s))}).catch(()=>{if(s==="vectors"){const c=a+"";e(new cl(o.statusText||`HTTP ${a} error`,a,c,s))}else{const c=a+"";e(new cl(o.statusText||`HTTP ${a} error`,a,c,s))}});else{const c=a+"";e(new cl(o.statusText||`HTTP ${a} error`,a,c,s))}}else e(new Mb(Fv(t),t,s))},ZN=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!s?we(we({},o),n):(GN(s)?(o.headers=we({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,e!=null&&e.duplex&&(o.duplex=e.duplex),we(we({},o),n))};async function Zi(t,e,n,s,o,a,c){return new Promise((u,f)=>{t(n,ZN(e,s,o,a)).then(h=>{if(!h.ok)throw h;if(s!=null&&s.noResolveJson)return h;if(c==="vectors"){const m=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!m||!m.includes("application/json"))return{}}return h.json()}).then(h=>u(h)).catch(h=>QN(h,f,s,c))})}function Lb(t="storage"){return{get:async(e,n,s,o)=>Zi(e,"GET",n,s,o,void 0,t),post:async(e,n,s,o,a)=>Zi(e,"POST",n,o,a,s,t),put:async(e,n,s,o,a)=>Zi(e,"PUT",n,o,a,s,t),head:async(e,n,s,o)=>Zi(e,"HEAD",n,we(we({},s),{},{noResolveJson:!0}),o,void 0,t),remove:async(e,n,s,o,a)=>Zi(e,"DELETE",n,o,a,s,t)}}const eO=Lb("storage"),{get:bo,post:sn,put:Ef,head:tO,remove:$h}=eO,Dt=Lb("vectors");var ci=class{constructor(t,e={},n,s="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=KN(n),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ql(n))return{data:null,error:n};throw n}}},nO=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ql(e))return{data:null,error:e};throw e}}};let $b;$b=Symbol.toStringTag;var rO=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[$b]="BlobDownloadBuilder",this.promise=null}asStream(){return new nO(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ql(e))return{data:null,error:e};throw e}}};const sO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Uv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var iO=class extends ci{constructor(t,e={},n,s){super(t,e,s,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,s){var o=this;return o.handleOperation(async()=>{let a;const c=we(we({},Uv),s);let u=we(we({},o.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),f&&a.append("metadata",o.encodeMetadata(f)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",c.cacheControl),f&&!a.has("metadata")&&a.append("metadata",o.encodeMetadata(f))):(a=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,f&&(u["x-metadata"]=o.toBase64(o.encodeMetadata(f))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!c.duplex&&(c.duplex="half")),s!=null&&s.headers&&(u=we(we({},u),s.headers));const h=o._removeEmptyFolders(e),m=o._getFinalPath(h),v=await(t=="PUT"?Ef:sn)(o.fetch,`${o.url}/object/${m}`,a,we({headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{path:h,id:v.Id,fullPath:v.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,s){var o=this;const a=o._removeEmptyFolders(t),c=o._getFinalPath(a),u=new URL(o.url+`/object/upload/sign/${c}`);return u.searchParams.set("token",e),o.handleOperation(async()=>{let f;const h=we({upsert:Uv.upsert},s),m=we(we({},o.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType),{path:a,fullPath:(await Ef(o.fetch,u.toString(),f,{headers:m})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(t);const o=we({},n.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const a=await sn(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:o}),c=new URL(n.url+a.url),u=c.searchParams.get("token");if(!u)throw new Xl("No token returned by API");return{signedUrl:c.toString(),path:t,token:u}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var s=this;return s.handleOperation(async()=>await sn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers}))}async copy(t,e,n){var s=this;return s.handleOperation(async()=>({path:(await sn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(t,e,n){var s=this;return s.handleOperation(async()=>{let o=s._getFinalPath(t),a=await sn(s.fetch,`${s.url}/object/sign/${o}`,we({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:s.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${s.url}${a.signedURL}${c}`)}})}async createSignedUrls(t,e,n){var s=this;return s.handleOperation(async()=>{const o=await sn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o.map(c=>we(we({},c),{},{signedUrl:c.signedURL?encodeURI(`${s.url}${c.signedURL}${a}`):null}))})}download(t,e,n){const s=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),a=o?`?${o}`:"",c=this._getFinalPath(t),u=()=>bo(this.fetch,`${this.url}/${s}/${c}${a}`,{headers:this.headers,noResolveJson:!0},n);return new rO(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>kf(await bo(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await tO(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ql(s)&&s instanceof Mb){const o=s.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&s.push(o);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await $h(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var s=this;return s.handleOperation(async()=>{const o=we(we(we({},sO),e),{},{prefix:t||""});return await sn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const s=we({},t);return await sn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const oO="2.95.3",No={"X-Client-Info":`storage-js/${oO}`};var aO=class extends ci{constructor(t,e={},n,s){const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const a=o.href.replace(/\/$/,""),c=we(we({},No),e);super(a,c,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await bo(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await bo(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await sn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await Ef(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await sn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await $h(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},lO=class extends ci{constructor(t,e={},n){const s=t.replace(/\/$/,""),o=we(we({},No),e);super(s,o,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await sn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const s=n.toString(),o=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return await bo(e.fetch,o,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await $h(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!qN(t))throw new Xl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new HN({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(o,a){const c=o[a];return typeof c!="function"?c:async(...u)=>{try{return{data:await c.apply(o,u),error:null}}catch(f){if(s)throw f;return{data:null,error:f}}}}})}},cO=class extends ci{constructor(t,e={},n){const s=t.replace(/\/$/,""),o=we(we({},No),{},{"Content-Type":"application/json"},e);super(s,o,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Dt.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await Dt.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Dt.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await Dt.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},uO=class extends ci{constructor(t,e={},n){const s=t.replace(/\/$/,""),o=we(we({},No),{},{"Content-Type":"application/json"},e);super(s,o,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Dt.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Dt.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Dt.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Dt.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Dt.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},dO=class extends ci{constructor(t,e={},n){const s=t.replace(/\/$/,""),o=we(we({},No),{},{"Content-Type":"application/json"},e);super(s,o,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Dt.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Dt.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Dt.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Dt.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},fO=class extends dO{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new hO(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},hO=class extends cO{constructor(t,e,n,s){super(t,e,s),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,we(we({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,we(we({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new pO(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},pO=class extends uO{constructor(t,e,n,s,o){super(t,e,o),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,we(we({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,we(we({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,we(we({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,we(we({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,we(we({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},mO=class extends aO{constructor(t,e={},n,s){super(t,e,n,s)}from(t){return new iO(this.url,this.headers,t,this.fetch)}get vectors(){return new fO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lO(this.url+"/iceberg",this.headers,this.fetch)}};const Vb="2.95.3",Ms=30*1e3,Cf=3,Rd=Cf*Ms,gO="http://localhost:9999",yO="supabase.auth.token",vO={"X-Client-Info":`gotrue-js/${Vb}`},Tf="X-Supabase-Api-Version",Fb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xO=600*1e3;class So extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function fe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class bO extends So{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function SO(t){return fe(t)&&t.name==="AuthApiError"}class zr extends So{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Un extends So{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class Ot extends Un{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jd(t){return fe(t)&&t.name==="AuthSessionMissingError"}class As extends Un{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ul extends Un{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class dl extends Un{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _O(t){return fe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Bv extends Un{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kO extends Un{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Pf extends Un{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Nd(t){return fe(t)&&t.name==="AuthRetryableFetchError"}class zv extends Un{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Af extends Un{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wv=` 	
\r=`.split(""),EO=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Wv.length;e+=1)t[Wv[e].charCodeAt(0)]=-2;for(let e=0;e<$l.length;e+=1)t[$l[e].charCodeAt(0)]=e;return t})();function Hv(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n($l[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n($l[s]),e.queuedBits-=6}}function Ub(t,e,n){const s=EO[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Kv(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=c=>{PO(c,s,n)};for(let c=0;c<t.length;c+=1)Ub(t.charCodeAt(c),o,a);return e.join("")}function CO(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function TO(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}CO(s,e)}}function PO(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Gs(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Ub(t.charCodeAt(o),n,s);return new Uint8Array(e)}function AO(t){const e=[];return TO(t,n=>e.push(n)),new Uint8Array(e)}function Kr(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Hv(o,n,s)),Hv(null,n,s),e.join("")}function RO(t){return Math.round(Date.now()/1e3)+t}function jO(){return Symbol("auth-callback")}const dt=()=>typeof window<"u"&&typeof document<"u",$r={tested:!1,writable:!1},Bb=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($r.tested)return $r.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$r.tested=!0,$r.writable=!0}catch{$r.tested=!0,$r.writable=!1}return $r.writable};function NO(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const zb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),OO=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ls=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Vr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ut=async(t,e)=>{await t.removeItem(e)};class Zl{constructor(){this.promise=new Zl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Zl.promiseConstructor=Promise;function fl(t){const e=t.split(".");if(e.length!==3)throw new Af("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!wO.test(e[s]))throw new Af("JWT not in base64url format");return{header:JSON.parse(Kv(e[0])),payload:JSON.parse(Kv(e[1])),signature:Gs(e[2]),raw:{header:e[0],payload:e[1]}}}async function IO(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function DO(t,e){return new Promise((s,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await t(a);if(!e(a,null,c)){s(c);return}}catch(c){if(!e(a,c)){o(c);return}}})()})}function MO(t){return("0"+t.toString(16)).substr(-2)}function LO(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,MO).join("")}async function $O(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function VO(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await $O(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rs(t,e,n=!1){const s=LO();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await Ls(t,`${e}-code-verifier`,o);const a=await VO(s);return[a,s===a?"plain":"s256"]}const FO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UO(t){const e=t.headers.get(Tf);if(!e||!e.match(FO))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function BO(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function zO(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function js(t){if(!WO.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Od(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function HO(t,e){return new Proxy(t,{get:(n,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,o)}})}function Gv(t){return JSON.parse(JSON.stringify(t))}const Ur=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),KO=[502,503,504];async function qv(t){var e;if(!OO(t))throw new Pf(Ur(t),0);if(KO.includes(t.status))throw new Pf(Ur(t),t.status);let n;try{n=await t.json()}catch(a){throw new zr(Ur(a),a)}let s;const o=UO(t);if(o&&o.getTime()>=Fb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new zv(Ur(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ot}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new zv(Ur(n),t.status,n.weak_password.reasons);throw new bO(Ur(n),t.status||500,s)}const GO=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function ve(t,e,n,s){var o;const a=Object.assign({},s==null?void 0:s.headers);a[Tf]||(a[Tf]=Fb["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const c=(o=s==null?void 0:s.query)!==null&&o!==void 0?o:{};s!=null&&s.redirectTo&&(c.redirect_to=s.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await qO(t,e,n+u,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(f):{data:Object.assign({},f),error:null}}async function qO(t,e,n,s,o,a){const c=GO(e,s,o,a);let u;try{u=await t(n,Object.assign({},c))}catch(f){throw console.error(f),new Pf(Ur(f),0)}if(u.ok||await qv(u),s!=null&&s.noResolveJson)return u;try{return await u.json()}catch(f){await qv(f)}}function nn(t){var e;let n=null;XO(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=RO(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Yv(t){const e=nn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function pr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function YO(t){return{data:t,error:null}}function JO(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:a}=t,c=ii(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:a},f=Object.assign({},c);return{data:{properties:u,user:f},error:null}}function Jv(t){return t}function XO(t){return t.access_token&&t.refresh_token&&t.expires_in}const Id=["global","local","others"];class QO{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=zb(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Id[0]){if(Id.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Id.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:pr})}catch(s){if(fe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=ii(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:JO,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(fe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:pr})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,a,c,u,f;try{const h={nextPage:null,lastPage:0,total:0},m=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Jv});if(m.error)throw m.error;const v=await m.json(),w=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);h[`${k}Page`]=b}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(fe(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){js(e);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:pr})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){js(e);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:pr})}catch(s){if(fe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){js(e);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:pr})}catch(s){if(fe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){js(e.userId);try{const{data:n,error:s}=await ve(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){js(e.userId),js(e.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,a,c,u,f;try{const h={nextPage:null,lastPage:0,total:0},m=await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Jv});if(m.error)throw m.error;const v=await m.json(),w=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);h[`${k}Page`]=b}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(fe(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(fe(n))return{data:null,error:n};throw n}}}function Xv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ns={debug:!!(globalThis&&Bb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ZO extends Wb{}async function eI(t,e,n){Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ZO(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ns.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function tI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Hb(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function nI(t){return parseInt(t,16)}function rI(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function sI(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:a=new Date,nonce:c,notBefore:u,requestId:f,resources:h,scheme:m,uri:v,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=Hb(t.address),S=m?`${m}://${s}`:s,b=t.statement?`${t.statement}
`:"",k=`${S} wants you to sign in with your Ethereum account:
${x}

${b}`;let C=`URI: ${v}
Version: ${w}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${a.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),f&&(C+=`
Request ID: ${f}`),h){let P=`
Resources:`;for(const T of h){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);P+=`
- ${T}`}C+=P}return`${k}
${C}`}class qe extends Error{constructor({message:e,code:n,cause:s,name:o}){var a;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(a=o??(s instanceof Error?s.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Vl extends qe{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function iI({error:t,options:e}){var n,s,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new qe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(Kb(c)){if(a.rp.id!==c)return new qe({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function oI({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new qe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Kb(s)){if(n.rpId!==s)return new qe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class aI{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const lI=new aI;function cI(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,o=ii(t,["challenge","user","excludeCredentials"]),a=Gs(e).buffer,c=Object.assign(Object.assign({},n),{id:Gs(n.id).buffer}),u=Object.assign(Object.assign({},o),{challenge:a,user:c});if(s&&s.length>0){u.excludeCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const h=s[f];u.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Gs(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function uI(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=ii(t,["challenge","allowCredentials"]),o=Gs(e).buffer,a=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];a.allowCredentials[c]=Object.assign(Object.assign({},u),{id:Gs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function dI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Kr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Kr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function fI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Kr(new Uint8Array(o.authenticatorData)),clientDataJSON:Kr(new Uint8Array(o.clientDataJSON)),signature:Kr(new Uint8Array(o.signature)),userHandle:o.userHandle?Kr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Kb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Qv(){var t,e;return!!(dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function hI(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vl("Browser returned unexpected credential type",e)}:{data:null,error:new Vl("Empty credential response",e)}}catch(e){return{data:null,error:iI({error:e,options:t})}}}async function pI(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vl("Browser returned unexpected credential type",e)}:{data:null,error:new Vl("Empty credential response",e)}}catch(e){return{data:null,error:oI({error:e,options:t})}}}const mI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Fl(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const a in o){const c=o[a];if(c!==void 0)if(Array.isArray(c))s[a]=c;else if(n(c))s[a]=c;else if(e(c)){const u=s[a];e(u)?s[a]=Fl(u,c):s[a]=Fl(c)}else s[a]=c}return s}function yI(t,e){return Fl(mI,t,e||{})}function vI(t,e){return Fl(gI,t,e||{})}class wI{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},a){var c;try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:f};const h=o??lI.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;if(!m.name){const v=s;if(v)m.name=`${m.id}:${v}`;else{const x=(await this.client.getUser()).data.user,S=((c=x==null?void 0:x.user_metadata)===null||c===void 0?void 0:c.name)||(x==null?void 0:x.email)||(x==null?void 0:x.id)||"User";m.name=`${m.id}:${S}`}}m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=yI(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:v,error:w}=await hI({publicKey:m,signal:h});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const m=vI(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:v,error:w}=await pI(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:h}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(u){return fe(u)?{data:null,error:u}:{data:null,error:new zr("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!n)return{data:null,error:new So("rpId is required for WebAuthn authentication")};try{if(!Qv())return{data:null,error:new zr("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:a});if(!c)return{data:null,error:u};const{webauthn:f}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:s,credential_response:f.credential_response}})}catch(c){return fe(c)?{data:null,error:c}:{data:null,error:new zr("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!n)return{data:null,error:new So("rpId is required for WebAuthn registration")};try{if(!Qv())return{data:null,error:new zr("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(m=>{var v;return(v=m.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:u};const{data:f,error:h}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:a});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:s,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(c){return fe(c)?{data:null,error:c}:{data:null,error:new zr("Unexpected error in register",c)}}}}tI();const xI={url:gO,storageKey:yO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Zv(t,e,n){return await n()}const Os={};class _o{get jwks(){var e,n;return(n=(e=Os[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Os[this.storageKey]=Object.assign(Object.assign({},Os[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Os[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Os[this.storageKey]=Object.assign(Object.assign({},Os[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},xI),e);if(this.storageKey=a.storageKey,this.instanceID=(n=_o.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,_o.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&dt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new QO({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=zb(a.fetch),this.lock=a.lock||Zv,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&dt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=eI:this.lock=Zv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Bb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xv(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Xv(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c);try{await this._notifyAllSubscribers(c.data.event,c.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}this.initialize().catch(c=>{this._debug("#initialize()","error",c)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Vb}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(dt()&&(n=NO(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),dt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),_O(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:c,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return fe(n)?this._returnResult({error:n}):this._returnResult({error:new zr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const a=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:nn}),{data:c,error:u}=a;if(u||!c)return this._returnResult({data:{user:null,session:null},error:u});const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(fe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,s,o;try{let a;if("email"in e){const{email:m,password:v,options:w}=e;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await Rs(this.storage,this.storageKey)),a=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:m,password:v,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:x,code_challenge_method:S},xform:nn})}else if("phone"in e){const{phone:m,password:v,options:w}=e;a=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(s=w==null?void 0:w.data)!==null&&s!==void 0?s:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:nn})}else throw new ul("You must provide either an email or phone number and a password");const{data:c,error:u}=a;if(u||!c)return await ut(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(await ut(this.storage,`${this.storageKey}-code-verifier`),fe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:c,options:u}=e;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Yv})}else if("phone"in e){const{phone:a,password:c,options:u}=e;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Yv})}else throw new ul("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const a=new As;return this._returnResult({data:{user:null,session:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,a,c,u,f,h,m,v,w;let x,S;if("message"in e)x=e.message,S=e.signature;else{const{chain:b,wallet:k,statement:C,options:P}=e;let T;if(dt())if(typeof k=="object")T=k;else{const J=window;if("ethereum"in J&&typeof J.ethereum=="object"&&"request"in J.ethereum&&typeof J.ethereum.request=="function")T=J.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=k}const R=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href),D=await T.request({method:"eth_requestAccounts"}).then(J=>J).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=Hb(D[0]);let U=(s=P==null?void 0:P.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!U){const J=await T.request({method:"eth_chainId"});U=nI(J)}const $={domain:R.host,address:M,statement:C,uri:R.href,version:"1",chainId:U,nonce:(o=P==null?void 0:P.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(a=P==null?void 0:P.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=P==null?void 0:P.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=P==null?void 0:P.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=P==null?void 0:P.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=P==null?void 0:P.signInWithEthereum)===null||m===void 0?void 0:m.resources};x=sI($),S=await T.request({method:"personal_sign",params:[rI(x),M]})}try{const{data:b,error:k}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:nn});if(k)throw k;if(!b||!b.session||!b.user){const C=new As;return this._returnResult({data:{user:null,session:null},error:C})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:k})}catch(b){if(fe(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var n,s,o,a,c,u,f,h,m,v,w,x;let S,b;if("message"in e)S=e.message,b=e.signature;else{const{chain:k,wallet:C,statement:P,options:T}=e;let R;if(dt())if(typeof C=="object")R=C;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))R=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=C}const D=new URL((n=T==null?void 0:T.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in R&&R.signIn){const M=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),P?{statement:P}:null));let U;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")U=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)U=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)S=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),b=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${D.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(o=(s=T==null?void 0:T.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=T==null?void 0:T.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((u=T==null?void 0:T.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((f=T==null?void 0:T.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((h=T==null?void 0:T.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((v=(m=T==null?void 0:T.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||v===void 0)&&v.length?["Resources",...T.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const M=await R.signMessage(new TextEncoder().encode(S),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=M}}try{const{data:k,error:C}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Kr(b)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:nn});if(C)throw C;if(!k||!k.session||!k.user){const P=new As;return this._returnResult({data:{user:null,session:null},error:P})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:C})}catch(k){if(fe(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const n=await Vr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new kO;const{data:a,error:c}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:nn});if(await ut(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!a||!a.session||!a.user){const u=new As;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:c})}catch(a){if(await ut(this.storage,`${this.storageKey}-code-verifier`),fe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:a,nonce:c}=e,u=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:nn}),{data:f,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const m=new As;return this._returnResult({data:{user:null,session:null},error:m})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(n){if(fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,o,a,c;try{if("email"in e){const{email:u,options:f}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Rs(this.storage,this.storageKey));const{error:v}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:u,options:f}=e,{data:h,error:m}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m})}throw new ul("You must provide either an email or phone number.")}catch(u){if(await ut(this.storage,`${this.storageKey}-code-verifier`),fe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var n,s;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:u}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:nn});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,h=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(o){if(fe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,s,o,a,c;try{let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Rs(this.storage,this.storageKey));const h=await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:YO});return!((a=h.data)===null||a===void 0)&&a.url&&dt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(await ut(this.storage,`${this.storageKey}-code-verifier`),fe(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Ot;const{error:o}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(fe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:a}=e,{error:c}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:o,options:a}=e,{data:c,error:u}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new ul("You must provide either an email or phone number and a type")}catch(n){if(fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Vr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Rd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await Vr(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Od()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=HO(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:pr}):await this._useSession(async n=>{var s,o,a;const{data:c,error:u}=n;if(u)throw u;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:pr})})}catch(n){if(fe(n))return jd(n)&&(await this._removeSession(),await ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new Ot;const c=o.session;let u=null,f=null;this.flowType==="pkce"&&e.email!=null&&([u,f]=await Rs(this.storage,this.storageKey));const{data:h,error:m}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:f}),jwt:c.access_token,xform:pr});if(m)throw m;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await ut(this.storage,`${this.storageKey}-code-verifier`),fe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ot;const n=Date.now()/1e3;let s=n,o=!0,a=null;const{payload:c}=fl(e.access_token);if(c.exp&&(s=c.exp,o=s<=n),o){const{data:u,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:f}=await this._getUser(e.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(fe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:c,error:u}=n;if(u)throw u;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Ot;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!dt())throw new dl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new dl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Bv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Bv("No code detected.");const{data:P,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:a,refresh_token:c,expires_in:u,expires_at:f,token_type:h}=e;if(!a||!u||!c||!h)throw new dl("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(u);let w=m+v;f&&(w=parseInt(f));const x=w-m;x*1e3<=Ms&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${v}s`);const S=w-v;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,m);const{data:b,error:k}=await this._getUser(a);if(k)throw k;const C={provider_token:s,provider_refresh_token:o,access_token:a,expires_in:v,expires_at:w,refresh_token:c,token_type:h,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(s){if(fe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Vr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:a}=n;if(a&&!jd(a))return this._returnResult({error:a});const c=(s=o.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(SO(u)&&(u.status===404||u.status===401||u.status===403)||jd(u)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=jO(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:a},error:c}=n;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Rs(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await ut(this.storage,`${this.storageKey}-code-verifier`),fe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async a=>{var c,u,f,h,m;const{data:v,error:w}=a;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return dt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(fe(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:a}}=n;if(o)throw o;const{options:c,provider:u,token:f,access_token:h,nonce:m}=e,v=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=a==null?void 0:a.access_token)!==null&&s!==void 0?s:void 0,body:{provider:u,id_token:f,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:nn}),{data:w,error:x}=v;return x?this._returnResult({data:{user:null,session:null},error:x}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new As}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:x}))}catch(o){if(await ut(this.storage,`${this.storageKey}-code-verifier`),fe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:a,error:c}=n;if(c)throw c;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await DO(async o=>(o>0&&await IO(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nn})),(o,a)=>{const c=200*Math.pow(2,o);return a&&Nd(a)&&Date.now()+c-s<Ms})}catch(s){if(this._debug(n,"error",s),fe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),dt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Vr(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Vr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await Ls(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Od()}else if(o&&!o.user&&!o.user){const c=await Vr(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(o.user=c.user,await ut(this.storage,this.storageKey+"-user"),await Ls(this.storage,this.storageKey,o)):o.user=Od()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Rd;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${Rd}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Nd(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(o.access_token);!u&&(c!=null&&c.user)?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Zl;const{data:a,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!a.session)throw new Ot;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(o,"error",a),fe(a)){const c={data:null,error:a};return Nd(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(f){a.push(f)}});if(await Promise.all(c),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ut(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Ls(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=Gv(o);await Ls(this.storage,this.storageKey,a)}else{const o=Gv(n);await Ls(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ut(this.storage,this.storageKey),await ut(this.storage,this.storageKey+"-code-verifier"),await ut(this.storage,this.storageKey+"-user"),this.userStorage&&await ut(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ms);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/Ms);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ms}ms, refresh threshold is ${Cf} ticks`),o<=Cf&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Wb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,c]=await Rs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(u.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);o.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;return a?this._returnResult({data:null,error:a}):await ve(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:a,error:c}=n;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:h}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&f.type==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?dI(e.webauthn.credential_response):fI(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:f}=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:f}))})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const c=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:u}=c;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:cI(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:uI(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,s,o,a;if(e)try{const{payload:x}=fl(e);let S=null;x.aal&&(S=x.aal);let b=S;const{data:{user:k},error:C}=await this.getUser(e);if(C)return this._returnResult({data:null,error:C});((s=(n=k==null?void 0:k.factors)===null||n===void 0?void 0:n.filter(R=>R.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(b="aal2");const T=x.amr||[];return{data:{currentLevel:S,nextLevel:b,currentAuthenticationMethods:T},error:null}}catch(x){if(fe(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:c},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=fl(c.access_token);let h=null;f.aal&&(h=f.aal);let m=h;((a=(o=c.user.factors)===null||o===void 0?void 0:o.filter(x=>x.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(m="aal2");const w=f.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?await ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new Ot});const c=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&dt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(fe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new Ot});const c=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&dt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(fe(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await ve(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(e){if(fe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?(await ve(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ot})})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(u=>u.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(u=>u.kid===e),s&&this.jwks_cached_at+xO>o)return s;const{data:a,error:c}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,s=a.keys.find(u=>u.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});s=x.session.access_token}const{header:o,payload:a,signature:c,raw:{header:u,payload:f}}=fl(s);n!=null&&n.allowExpired||BO(a.exp);const h=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:a,header:o,signature:c},error:null}}const m=zO(o.alg),v=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,c,AO(`${u}.${f}`)))throw new Af("Invalid JWT signature");return{data:{claims:a,header:o,signature:c},error:null}}catch(s){if(fe(s))return this._returnResult({data:null,error:s});throw s}}}_o.nextInstanceID={};const bI=_o,SI="2.95.3";let ro="";typeof Deno<"u"?ro="deno":typeof document<"u"?ro="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ro="react-native":ro="node";const _I={"X-Client-Info":`supabase-js-${ro}/${SI}`},kI={headers:_I},EI={schema:"public"},CI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},TI={};function ko(t){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(t)}function PI(t,e){if(ko(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(ko(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AI(t){var e=PI(t,"string");return ko(e)=="symbol"?e:e+""}function RI(t,e,n){return(e=AI(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e0(Object(n),!0).forEach(function(s){RI(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e0(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const jI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),NI=()=>Headers,OI=(t,e,n)=>{const s=jI(n),o=NI();return async(a,c)=>{var u;const f=(u=await e())!==null&&u!==void 0?u:t;let h=new o(c==null?void 0:c.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),s(a,Be(Be({},c),{},{headers:h}))}};function II(t){return t.endsWith("/")?t:t+"/"}function DI(t,e){var n,s;const{db:o,auth:a,realtime:c,global:u}=t,{db:f,auth:h,realtime:m,global:v}=e,w={db:Be(Be({},f),o),auth:Be(Be({},h),a),realtime:Be(Be({},m),c),storage:{},global:Be(Be(Be({},v),u),{},{headers:Be(Be({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(s=u==null?void 0:u.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function MI(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(II(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var LI=class extends bI{constructor(t){super(t)}},$I=class{constructor(t,e,n){var s,o;this.supabaseUrl=t,this.supabaseKey=e;const a=MI(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:EI,realtime:TI,auth:Be(Be({},CI),{},{storageKey:c}),global:kI},f=DI(n??{},u);if(this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=OI(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Be({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new SN(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new mO(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new pN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:a,flowType:c,lock:u,debug:f,throwOnError:h},m,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LI({url:this.authUrl.href,headers:Be(Be({},w),m),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,flowType:c,lock:u,debug:f,throwOnError:h,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new VN(this.realtimeUrl.href,Be(Be({},t),{},{params:Be(Be({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const VI=(t,e,n)=>new $I(t,e,n);function FI(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}FI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Gb=void 0,UI=void 0,Rf=!!Gb,it=Rf?VI(Gb,UI,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}):null,Ul=t=>typeof t=="string"?t:"";function BI(t){var n;return((n=t.user_metadata)==null?void 0:n.representative_variant)==="general"?"general":"strategist"}function zI(t){var e,n,s;return{fullName:Ul(((e=t.user_metadata)==null?void 0:e.full_name)||((n=t.user_metadata)==null?void 0:n.name)).trim(),companyName:Ul((s=t.user_metadata)==null?void 0:s.company_name).trim()}}async function WI(t){if(!it)return null;const{data:e,error:n}=await it.schema("cfo").from("cfo_profiles").select("full_name, company_name").eq("user_id",t).maybeSingle();if(n)throw n;return e?{fullName:Ul(e.full_name).trim(),companyName:Ul(e.company_name).trim()}:null}async function qb({userId:t,email:e,fullName:n,companyName:s}){if(!it)return;const o={user_id:t,email:e??null,full_name:(n==null?void 0:n.trim())||null,company_name:(s==null?void 0:s.trim())||null},{error:a}=await it.schema("cfo").from("cfo_profiles").upsert(o,{onConflict:"user_id"});if(a)throw a}function HI({localMode:t=!1,forceSignup:e=!1,initialLocalProfile:n,onLocalSignup:s}){const[o,a]=E.useState("signup"),[c,u]=E.useState(""),[f,h]=E.useState(""),[m,v]=E.useState(""),[w,x]=E.useState(!1),[S,b]=E.useState(!1),[k,C]=E.useState((n==null?void 0:n.fullName)??""),[P,T]=E.useState((n==null?void 0:n.companyName)??""),[R,D]=E.useState((n==null?void 0:n.representativeVariant)==="general"?"general":"strategist"),[M,U]=E.useState(null),[$,J]=E.useState(null),[ne,ae]=E.useState(!1),ce=o==="signup",me=async Z=>{Z.preventDefault(),ae(!0),U(null),J(null);try{if(!c.trim()||!t&&!f.trim())throw new Error("  .");if(ce){if(!t&&f!==m)throw new Error("    .");if(!k.trim()||!P.trim())throw new Error("  .");if(t&&!it){s==null||s({email:c.trim(),fullName:k.trim(),companyName:P.trim(),representativeVariant:R});return}if(!it)throw new Error("Supabase  .");const{data:he,error:le}=await it.auth.signUp({email:c.trim(),password:f,options:{data:{name:k.trim(),full_name:k.trim(),company_name:P.trim(),representative_variant:R}}});if(le)throw le;if(he.user&&he.session&&await qb({userId:he.user.id,email:he.user.email,fullName:k,companyName:P}),!he.session){const{error:B}=await it.auth.signInWithPassword({email:c.trim(),password:f});if(!B){J("   .");return}J("   .    ."),a("signin")}}else{if(!it)throw new Error("Supabase  .");const{error:he}=await it.auth.signInWithPassword({email:c.trim(),password:f});if(he)throw he}}catch(he){U(he instanceof Error?he.message:"    .")}finally{ae(!1)}};return g.jsx("div",{className:"mx-auto flex min-h-[84vh] max-w-3xl items-center justify-center px-4",children:g.jsxs(te.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},className:"sg-panel-dark w-full p-5 md:p-6",children:[g.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"sg-heading",children:"CFO   "}),g.jsx("p",{className:"sg-subtitle mt-2",children:t?"  :     .":ce?"      .":"      ."})]}),g.jsx("div",{className:"sg-chip",children:ce?"":""})]}),!e&&g.jsxs("div",{className:"mb-5 flex gap-2",children:[g.jsx("button",{type:"button",onClick:()=>{a("signup"),U(null),J(null)},className:`sg-btn px-4 py-2 text-[11px] font-bold ${ce?"sg-btn-primary":"sg-btn-secondary"}`,children:""}),g.jsx("button",{type:"button",onClick:()=>{a("signin"),U(null),J(null)},className:`sg-btn px-4 py-2 text-[11px] font-bold ${ce?"sg-btn-secondary":"sg-btn-primary"}`,children:""})]}),g.jsxs("form",{onSubmit:me,className:"space-y-4",children:[g.jsxs("label",{className:"block text-xs font-bold text-amber-100",children:["",g.jsx(xt,{type:"email",autoComplete:"email",className:"mt-1 border-amber-700/70 bg-[#1d3159] text-amber-100",value:c,onChange:Z=>u(Z.target.value)})]}),g.jsxs("label",{className:"block text-xs font-bold text-amber-100",children:["",g.jsxs("div",{className:"relative mt-1",children:[g.jsx(xt,{type:w?"text":"password",autoComplete:ce?"new-password":"current-password",className:"border-amber-700/70 bg-[#1d3159] pr-16 text-amber-100",value:f,onChange:Z=>h(Z.target.value),disabled:t}),g.jsx("button",{type:"button",onClick:()=>x(Z=>!Z),disabled:t,className:"absolute right-2 top-1/2 -translate-y-1/2 rounded border border-amber-700/70 bg-[#223964] px-2 py-0.5 text-[10px] font-bold text-amber-100 disabled:opacity-40",children:w?"":""})]})]}),ce&&g.jsxs(g.Fragment,{children:[g.jsxs("label",{className:"block text-xs font-bold text-amber-100",children:[" ",g.jsxs("div",{className:"relative mt-1",children:[g.jsx(xt,{type:S?"text":"password",autoComplete:"new-password",className:"border-amber-700/70 bg-[#1d3159] pr-16 text-amber-100",value:m,onChange:Z=>v(Z.target.value),disabled:t}),g.jsx("button",{type:"button",onClick:()=>b(Z=>!Z),disabled:t,className:"absolute right-2 top-1/2 -translate-y-1/2 rounded border border-amber-700/70 bg-[#223964] px-2 py-0.5 text-[10px] font-bold text-amber-100 disabled:opacity-40",children:S?"":""})]})]}),g.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[g.jsxs("label",{className:"block text-xs font-bold text-amber-100",children:[" ",g.jsx(xt,{className:"mt-1 border-amber-700/70 bg-[#1d3159] text-amber-100",value:k,onChange:Z=>C(Z.target.value),placeholder:""})]}),g.jsxs("label",{className:"block text-xs font-bold text-amber-100",children:["",g.jsx(xt,{className:"mt-1 border-amber-700/70 bg-[#1d3159] text-amber-100",value:P,onChange:Z=>T(Z.target.value),placeholder:"OO"})]})]}),g.jsxs("div",{className:"rounded-md border border-amber-700/60 bg-[#172746] p-3",children:[g.jsx("div",{className:"mb-3 text-xs font-bold text-amber-100",children:"  "}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("button",{type:"button",onClick:()=>D("strategist"),className:`rounded-md border p-3 text-center ${R==="strategist"?"border-amber-400 bg-[#253968]":"border-amber-800/70 bg-[#1a2946]"}`,children:[g.jsx("div",{className:"mb-2 flex justify-center",children:g.jsx(Ys,{variant:"strategist",size:72})}),g.jsx("div",{className:"text-xs font-bold text-amber-100",children:""}),g.jsx("div",{className:"mt-1 text-[10px] text-slate-300",children:"  "})]}),g.jsxs("button",{type:"button",onClick:()=>D("general"),className:`rounded-md border p-3 text-center ${R==="general"?"border-amber-400 bg-[#253968]":"border-amber-800/70 bg-[#1a2946]"}`,children:[g.jsx("div",{className:"mb-2 flex justify-center",children:g.jsx(Ys,{variant:"general",size:72})}),g.jsx("div",{className:"text-xs font-bold text-amber-100",children:""}),g.jsx("div",{className:"mt-1 text-[10px] text-slate-300",children:"  "})]})]})]})]}),M&&g.jsx("div",{className:"rounded-md border border-red-800/80 bg-red-900/30 px-3 py-2 text-xs text-red-200",children:M}),$&&g.jsx("div",{className:"rounded-md border border-emerald-700/80 bg-emerald-900/30 px-3 py-2 text-xs text-emerald-200",children:$}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{type:"submit",disabled:ne,className:"sg-btn sg-btn-success w-full px-4 py-3 text-xs font-bold disabled:cursor-not-allowed disabled:opacity-60",children:ne?" ...":t?"   ":ce?" ":""})})]})]})})}const Yb="cfo_local_profile",eo={fullName:" ",companyName:" ",representativeVariant:"strategist"};function KI(){if(typeof window>"u")return eo;try{const t=localStorage.getItem(Yb);if(!t)return eo;const e=JSON.parse(t);return{fullName:typeof e.fullName=="string"&&e.fullName.trim()?e.fullName.trim():eo.fullName,companyName:typeof e.companyName=="string"&&e.companyName.trim()?e.companyName.trim():eo.companyName,representativeVariant:e.representativeVariant==="general"?"general":"strategist"}}catch{return eo}}function GI(t){if(!(typeof window>"u"))try{localStorage.setItem(Yb,JSON.stringify(t))}catch{}}function qI(){var k;const[t,e]=E.useState(null),[n,s]=E.useState(!0),[o,a]=E.useState(!1),[c,u]=E.useState(null),[f,h]=E.useState(null),[m,v]=E.useState(()=>KI()),[w,x]=E.useState(!1);E.useEffect(()=>{if(!it){s(!1);return}let C=!0;it.auth.getSession().then(({data:T})=>{C&&(e(T.session),s(!1))});const{data:{subscription:P}}=it.auth.onAuthStateChange((T,R)=>{e(R),s(!1)});return()=>{C=!1,P.unsubscribe()}},[]),E.useEffect(()=>{if(!it||!(t!=null&&t.user)){u(null),a(!1);return}let C=!1;return a(!0),(async()=>{const T=zI(t.user),R=BI(t.user);try{await qb({userId:t.user.id,email:t.user.email,fullName:T.fullName,companyName:T.companyName});const D=await WI(t.user.id);if(C)return;u({fullName:(D==null?void 0:D.fullName)||T.fullName,companyName:(D==null?void 0:D.companyName)||T.companyName,representativeVariant:R}),h(null)}catch{if(C)return;u({fullName:T.fullName,companyName:T.companyName,representativeVariant:R}),h("   .")}finally{C||a(!1)}})(),()=>{C=!0}},[(k=t==null?void 0:t.user)==null?void 0:k.id]);const S=async()=>{it&&await it.auth.signOut()},b=async C=>{if(!Rf){v(P=>{const T={...P,representativeVariant:C};return GI(T),T});return}u(P=>P&&{...P,representativeVariant:C}),it&&await it.auth.updateUser({data:{representative_variant:C}})};return Rf?n||t&&o?g.jsx("div",{className:"sg-shell antialiased",children:g.jsx("div",{className:"relative z-10 mx-auto max-w-[1180px] px-3 md:px-6",children:g.jsx("div",{className:"sg-panel-dark mx-auto mt-16 max-w-xl p-6 text-center",children:g.jsx("h2",{className:"sg-heading",children:" ..."})})})}):t?g.jsx("div",{className:"sg-shell antialiased",children:g.jsxs("div",{className:"relative z-10 mx-auto max-w-[1180px] px-3 md:px-6",children:[g.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-end gap-2",children:[g.jsxs("div",{className:"sg-chip",children:[(c==null?void 0:c.companyName)||" ","  ",(c==null?void 0:c.fullName)||""]}),g.jsx("button",{type:"button",onClick:S,className:"sg-btn sg-btn-secondary px-3 py-1.5 text-[10px] font-bold",children:""})]}),f&&g.jsx("div",{className:"mb-3 rounded-md border border-amber-700/80 bg-amber-900/25 px-3 py-2 text-xs text-amber-100",children:f}),g.jsx(dN,{userDisplayName:c==null?void 0:c.fullName,companyName:c==null?void 0:c.companyName,initialRepresentativeVariant:c==null?void 0:c.representativeVariant,onRepresentativeVariantPersist:b})]})}):g.jsx("div",{className:"sg-shell antialiased",children:g.jsx("div",{className:"relative z-10 mx-auto max-w-[1180px] px-3 md:px-6",children:g.jsx(HI,{})})}):g.jsx("div",{className:"sg-shell antialiased",children:g.jsx("div",{className:"relative z-10 mx-auto max-w-[1180px] px-3 md:px-6",children:g.jsxs("div",{className:"sg-panel-dark mx-auto mt-16 max-w-2xl p-6 text-center",children:[g.jsx("h2",{className:"sg-heading",children:"Supabase  "}),g.jsx("p",{className:"sg-subtitle mt-3",children:"`VITE_SUPABASE_URL`, `VITE_SUPABASE_ANON_KEY`     ."})]})})})}e1.createRoot(document.getElementById("root")).render(g.jsx(qI,{}));
